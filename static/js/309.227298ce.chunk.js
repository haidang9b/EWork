"use strict";(self.webpackChunkework_ui=self.webpackChunkework_ui||[]).push([[309],{9309:function(e,t,n){n.r(t);var i=n(4165),a=n(5861),s=n(9439),l=n(1413),r=n(2456),c=n(5683),o=n(788),u=n(464),d=n(1888),h=n(8440),f=n(5017),g=n(9365),p=n(1346),v=n(5702),x=n(7248),Z=n(7205),m=n(5498),w=n.n(m),j=n(5125),y=n(2426),C=n.n(y),b=n(2791),k=n(6355),V=n(9434),I=n(5933),P=n(9120),S=n(5525),T=n(2010),W=n(184),M=b.lazy((function(){return Promise.resolve().then(n.bind(n,8711))})),Y=function(e){var t=e.myProfileDialog,n=e.setMyProfileDialog,m=b.useState("vi"),y=(0,s.Z)(m,2),Y=y[0],D=y[1],N=b.useState(!1),O=(0,s.Z)(N,2),R=O[0],_=O[1],q=(0,P.Z)().user,E=(0,b.useRef)(),L=(0,V.I0)(),X=(0,S.Z)().setNotify,z=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,s,l,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(!0),n=E.current.value,s=document.getElementById("cv-need-make"),(l=document.createElement("canvas")).width=s.offsetWidth,l.height=s.offsetHeight,(r=l.getContext("2d")).scale(2,2),r.translate(-s.offsetLeft,-s.offsetTop),w()(s,{scrollX:0,scrollY:-window.scrollY,scale:1,useCORS:!0}).then(function(){var e=(0,a.Z)((0,i.Z)().mark((function e(a){var s,l,r,c,o,u,d,h,f,g,p,v,x,Z,m,w,y,b;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s={type:"image/jpeg",quality:.98},l=[.5,.5],r="".concat(n||C()().format("".concat(null===q||void 0===q?void 0:q.fullName,"_DD_MM_YYYY")),".pdf"),8.5,11,c=8.5-2*l[0],o=11-2*l[1],u=a.height,d=Math.floor(a.width*(11/8.5)),h=Math.ceil(u/d),f=o,g=document.createElement("canvas"),p=g.getContext("2d"),g.width=a.width,g.height=d,v=new j.ZP("p","in",[8.5,11]),x=0;x<h;x++)x===h-1&&u%d!==0&&(g.height=u%d,f=g.height*c/g.width),Z=g.width,m=g.height,p.fillStyle="white",p.fillRect(0,0,Z,m),p.drawImage(a,0,x*d,Z,m,0,0,Z,m),x>0&&v.addPage(),w=g.toDataURL("image/"+s.type,s.quality),v.addImage(w,s.type,l[1],l[0],c,f);if(!t){e.next=25;break}return y=new File([v.output("blob")],r),e.next=21,L((0,T.Vw)(y)).unwrap();case 21:b=e.sent,X({isOpen:!0,message:b.message,title:"\u0110\u0103ng t\u1ea3i CV m\u1edbi",type:b.isSuccess?"success":"error"}),e.next=27;break;case 25:v.save(r),X({isOpen:!0,message:"T\u1ea1o v\xe0 t\u1ea3i CV th\xe0nh c\xf4ng",title:"T\u1ea3i CV",type:"success"});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){_(!1)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,W.jsxs)(o.Z,{open:null===t||void 0===t?void 0:t.isOpen,onClose:function(){n((0,l.Z)((0,l.Z)({},t),{},{isOpen:!1}))},maxWidth:"lg",fullWidth:!0,children:[(0,W.jsxs)(u.Z,{children:[(0,W.jsx)(k.dSq,{})," Xem CV t\u1eeb h\u1ed3 s\u01a1",(0,W.jsx)(d.Z,{color:"success",sx:{display:R?"block":"none"}})]}),(0,W.jsxs)(h.Z,{children:[(0,W.jsx)(f.Z,{inputRef:E,label:"T\xean c\u1ee7a CV",placeholder:"Nh\u1eadp t\xean CV",required:!0,fullWidth:!0,variant:"outlined"}),(0,W.jsx)(g.Z,{id:"language-select-label",children:"Ng\xf4n ng\u1eef CV"}),(0,W.jsxs)(p.Z,{fullWidth:!0,labelId:"language-select-label",value:Y,onChange:function(e){return D(e.target.value)},children:[(0,W.jsx)(v.Z,{value:"vi",children:"Ti\u1ebfng Vi\u1ec7t"}),(0,W.jsx)(v.Z,{value:"en",children:"Ti\u1ebfng Anh"})]}),(0,W.jsx)(b.Suspense,{fallback:(0,W.jsx)(I.gb,{}),children:(0,W.jsx)("div",{id:"cv-need-make",children:(0,W.jsx)(M,{language:Y})})})]}),(0,W.jsxs)(x.Z,{children:[(0,W.jsx)(Z.Z,{onClick:function(){return z(!1)},variant:"contained",startIcon:(0,W.jsx)(r.Z,{}),color:"primary",disabled:R,fullWidth:!0,children:"T\u1ea3i CV"}),(0,W.jsx)(Z.Z,{onClick:function(){return z(!0)},variant:"contained",startIcon:(0,W.jsx)(c.Z,{}),color:"success",disabled:R,fullWidth:!0,children:"L\u01b0u CV"})]})]})};Y.displayName="PreviewMyProfile",t.default=Y}}]);
//# sourceMappingURL=309.227298ce.chunk.js.map