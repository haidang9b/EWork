α’
DD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\ApplicationsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class "
ApplicationsController '
:( )
ControllerBase* 8
{ 
private 
readonly 
IApplicationService ,
_applicationService- @
;@ A
private 
readonly #
IRecruitmentPostService 0#
_recruitmentPostService1 H
;H I
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IEmailService &
_emailService' 4
;4 5
private 
readonly 
IUserCVService '
_userCVService( 6
;6 7
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public "
ApplicationsController %
(% &
IApplicationService 
applicationService  2
,2 3
IUserService 
userService $
,$ %#
IRecruitmentPostService #"
recruitmentPostService$ :
,: ;
IEmailService 
emailService &
,& '
IUserCVService 
userCVService (
) 
{   	
_applicationService!! 
=!!  !
applicationService!!" 4
;!!4 5
_userService"" 
="" 
userService"" &
;""& '#
_recruitmentPostService## #
=##$ %"
recruitmentPostService##& <
;##< =
_emailService$$ 
=$$ 
emailService$$ (
;$$( )
_userCVService%% 
=%% 
userCVService%% *
;%%* +

_apiResult&& 
=&& 
new&& 
(&& 
)&& 
;&& 
}'' 	
[.. 	
	Authorize..	 
(.. 
Roles.. 
=.. 
$str.. $
)..$ %
]..% &
[// 	
HttpPost//	 
]// 
public00 
async00 
Task00 
<00 
IActionResult00 '
>00' (
Post00) -
(00- .#
ApplicationRequestModel00. E
model00F K
)00K L
{11 	
var22 
currentUser22 
=22 
await22 #
_userService22$ 0
.220 1
GetUser221 8
(228 9
new229 <
User22= A
{22B C
Username22D L
=22M N
Username22O W
}22X Y
)22Y Z
;22Z [

_apiResult44 
.44 
Data44 
=44 
await44 #
_applicationService44$ 7
.447 8
Add448 ;
(44; <
new44< ?
AddApplicationModel44@ S
{55 
RecruitmentPostId66 !
=66" #
model66$ )
.66) *
RecruitmentPostId66* ;
,66; <
UserCVId77 
=77 
model77  
.77  !
UserCVId77! )
,77) *
UserId88 
=88 
currentUser88 $
.88$ %
Id88% '
,88' (
CoverLetter99 
=99 
model99 #
.99# $
CoverLetter99$ /
,99/ 0
Status:: 
=:: 
EApplicationStatus:: +
.::+ ,
ReceptionCV::, 7
,::7 8
Description;; 
=;; 
$str;;  
}<< 
)<< 
;<< 

_apiResult>> 
.>> 
Message>> 
=>>  
$str>>! 7
;>>7 8
if@@ 
(@@ 

_apiResult@@ 
.@@ 
Data@@ 
is@@  "
not@@# &
null@@' +
)@@+ ,
{AA 
varBB 
bodyBB 
=BB 
stringBB !
.BB! "
EmptyBB" '
;BB' (
varCC "
recruitmentPostCurrentCC *
=CC+ ,
awaitCC- 2#
_recruitmentPostServiceCC3 J
.CCJ K
GetRecruitmentPostCCK ]
(CC] ^
newCC^ a
RecruitmentPostCCb q
{CCr s
IdCCt v
=CCw x
modelCCy ~
.CC~ 
RecruitmentPostId	CC 
}
CC‘ ’
)
CC’ “
;
CC“ ”
usingDD 
(DD 
StreamReaderDD #
readerDD$ *
=DD+ ,
newDD- 0
(DD0 1
PathDD1 5
.DD5 6
CombineDD6 =
(DD= >
$strDD> a
)DDa b
)DDb c
)DDc d
{EE 
bodyFF 
=FF 
readerFF !
.FF! "
	ReadToEndFF" +
(FF+ ,
)FF, -
;FF- .
}GG 
varHH 
bodyBuilderHH 
=HH  !
newHH" %
SystemHH& ,
.HH, -
TextHH- 1
.HH1 2
StringBuilderHH2 ?
(HH? @
bodyHH@ D
)HHD E
;HHE F
bodyBuilderII 
.II 
ReplaceII #
(II# $
$strII$ 3
,II3 4"
recruitmentPostCurrentII5 K
.IIK L
CompanyIIL S
.IIS T
CompanyNameIIT _
)II_ `
;II` a
bodyBuilderJJ 
.JJ 
ReplaceJJ #
(JJ# $
$strJJ$ 0
,JJ0 1
currentUserJJ2 =
.JJ= >
FullNameJJ> F
)JJF G
;JJG H
varKK 
dataKK 
=KK 
newKK 
EmailDataModelKK -
{KK. /
BodyKK0 4
=KK5 6
bodyBuilderKK7 B
.KKB C
ToStringKKC K
(KKK L
)KKL M
,KKM N
SubjectKKO V
=KKW X
$"KKY [
$strKK[ c
{KKc d"
recruitmentPostCurrentKKd z
.KKz {
Company	KK{ ‚
.
KK‚ ƒ
CompanyName
KKƒ 
}
KK 
$str
KK ΄
"
KK΄ µ
,
KKµ ¶
ToEmail
KK· Ύ
=
KKΏ ΐ
currentUser
KKΑ Μ
.
KKΜ Ν
Email
KKΝ 
}
KKΣ Τ
;
KKΤ Υ
awaitLL 
_emailServiceLL #
.LL# $
	SendEmailLL$ -
(LL- .
dataLL. 2
)LL2 3
;LL3 4
}MM 
returnOO 
OkOO 
(OO 

_apiResultOO  
)OO  !
;OO! "
}PP 	
[VV 	
	AuthorizeVV	 
(VV 
RolesVV 
=VV 
$strVV $
)VV$ %
]VV% &
[WW 	
HttpGetWW	 
]WW 
publicXX 
asyncXX 
TaskXX 
<XX 
IActionResultXX '
>XX' (
IndexXX) .
(XX. /
)XX/ 0
{YY 	

_apiResultZZ 
.ZZ 
DataZZ 
=ZZ 
awaitZZ #
_applicationServiceZZ$ 7
.ZZ7 8
GetByApplierZZ8 D
(ZZD E
newZZE H
UserZZI M
{[[ 
Username\\ 
=\\ 
Username\\ #
,\\# $
}]] 
)]] 
;]] 
return__ 
Ok__ 
(__ 

_apiResult__  
)__  !
;__! "
}`` 	
[ff 	
	Authorizeff	 
(ff 
Rolesff 
=ff 
$strff $
)ff$ %
]ff% &
[gg 	
HttpGetgg	 
(gg 
$strgg 
)gg  
]gg  !
publichh 
asynchh 
Taskhh 
<hh 
IActionResulthh '
>hh' (
GetJobsAppliedhh) 7
(hh7 8
)hh8 9
{ii 	

_apiResultjj 
.jj 
Datajj 
=jj 
awaitjj #
_applicationServicejj$ 7
.jj7 8
GetJobsAppliedjj8 F
(jjF G
newjjG J
UserjjK O
{kk 
Usernamell 
=ll 
Usernamell #
,ll# $
}mm 
)mm 
;mm 
returnoo 
Okoo 
(oo 

_apiResultoo  
)oo  !
;oo! "
}pp 	
[uu 	
	Authorizeuu	 
(uu 
Rolesuu 
=uu 
$struu -
)uu- .
]uu. /
[vv 	
HttpGetvv	 
(vv 
$strvv 
)vv 
]vv 
publicww 
asyncww 
Taskww 
<ww 
IActionResultww '
>ww' (

GetAppliedww) 3
(ww3 4
)ww4 5
{xx 	
varyy 
currentUseryy 
=yy 
awaityy #
_userServiceyy$ 0
.yy0 1
GetUseryy1 8
(yy8 9
newyy9 <
Useryy= A
{yyB C
UsernameyyD L
=yyM N
UsernameyyO W
}yyX Y
)yyY Z
;yyZ [
ifzz 
(zz 
currentUserzz 
.zz 
RoleIdzz "
==zz# %
(zz& '
longzz' +
)zz+ ,
ERolezz, 1
.zz1 2

ID_Facultyzz2 <
)zz< =
{{{ 

_apiResult|| 
.|| 
Data|| 
=||  !
await||" '
_applicationService||( ;
.||; <
GetApplieds||< G
(||G H
)||H I
;||I J
}}} 
else~~ 
{ 

_apiResult
€€ 
.
€€ 
Data
€€ 
=
€€  !
await
€€" '!
_applicationService
€€( ;
.
€€; <$
GetAppliedsForBusiness
€€< R
(
€€R S
new
€€S V
User
€€W [
{
€€\ ]
Username
€€^ f
=
€€g h
Username
€€i q
,
€€q r
}
€€s t
)
€€t u
;
€€u v
}
 

_apiResult
‚‚ 
.
‚‚ 
Message
‚‚ 
=
‚‚  
$str
‚‚! 9
;
‚‚9 :
return
„„ 
Ok
„„ 
(
„„ 

_apiResult
„„  
)
„„  !
;
„„! "
}
…… 	
[
‹‹ 	
	Authorize
‹‹	 
(
‹‹ 
Roles
‹‹ 
=
‹‹ 
$str
‹‹ %
)
‹‹% &
]
‹‹& '
[
 	
HttpPut
	 
]
 
public
 
async
 
Task
 
<
 
IActionResult
 '
>
' (
UpdateApplication
) :
(
: ;!
UpdateProgressModel
; N
model
O T
)
T U
{
 	
var
 
	isHasRole
 
=
 
await
 !!
_applicationService
" 5
.
5 6
	IsHasRole
6 ?
(
? @
new
@ C"
ApplicationUserModel
D X
{
Y Z
Username
[ c
=
d e
Username
f n
,
n o
ApplicationId
p }
=
~ 
model€ …
.… †
Id† 
}‰ 
) ‹
;‹ 
if
 
(
 
!
 
	isHasRole
 
)
 
{
‘‘ 

_apiResult
’’ 
.
’’ 
	IsSuccess
’’ $
=
’’% &
false
’’' ,
;
’’, -

_apiResult
““ 
.
““ 
Message
““ "
=
““# $
$str
““% B
;
““B C
return
”” 
Ok
”” 
(
”” 

_apiResult
”” $
)
””$ %
;
””% &
}
•• 

_apiResult
–– 
.
–– 
	IsSuccess
––  
=
––! "
await
––# (!
_applicationService
––) <
.
––< =
Update
––= C
(
––C D
new
––D G
Application
––H S
{
—— 
Id
 
=
 
model
 
.
 
Id
 
,
 
Status
™™ 
=
™™ 
model
™™ 
.
™™ 
Status
™™ %
,
™™% &
Description
 
=
 
model
 #
.
# $
Description
$ /
}
›› 
)
›› 
;
›› 
if
 
(
 

_apiResult
 
.
 
	IsSuccess
 $
)
$ %
{
 

_apiResult
 
.
 
Data
 
=
  !
model
" '
;
' (

_apiResult
 
.
 
Message
 "
=
# $
$str
% D
;
D E
}
   
else
΅΅ 
{
ΆΆ 

_apiResult
££ 
.
££ 
Message
££ "
=
££# $
$str
££% J
;
££J K
}
¤¤ 
return
§§ 
Ok
§§ 
(
§§ 

_apiResult
§§  
)
§§  !
;
§§! "
}
¨¨ 	
[
®® 	
	Authorize
®®	 
(
®® 
Roles
®® 
=
®® 
$str
®® %
)
®®% &
]
®®& '
[
―― 	
HttpPost
――	 
(
―― 
$str
―― 
)
―― 
]
―― 
public
°° 
async
°° 
Task
°° 
<
°° 
IActionResult
°° '
>
°°' (

MarkedUser
°°) 3
(
°°3 4+
MarkedApplicationRequestModel
°°4 Q
model
°°R W
)
°°W X
{
±± 	
var
²² 
newApplication
²² 
=
²²  
new
²²! $!
AddApplicationModel
²²% 8
{
³³ 
RecruitmentPostId
΄΄ !
=
΄΄" #
model
΄΄$ )
.
΄΄) *
RecruitmentPostId
΄΄* ;
,
΄΄; <
UserCVId
µµ 
=
µµ 
model
µµ  
.
µµ  !
UserCVId
µµ! )
,
µµ) *
Description
¶¶ 
=
¶¶ 
model
¶¶ #
.
¶¶# $
Description
¶¶$ /
,
¶¶/ 0
CoverLetter
·· 
=
·· 
$str
··  
,
··  !
Status
ΈΈ 
=
ΈΈ  
EApplicationStatus
ΈΈ +
.
ΈΈ+ ,
Marked
ΈΈ, 2
,
ΈΈ2 3
UserId
ΉΉ 
=
ΉΉ 
model
ΉΉ 
.
ΉΉ 
UserId
ΉΉ %
??
ΉΉ& (
$num
ΉΉ) *
,
ΉΉ* +
}
ΊΊ 
;
ΊΊ 

_apiResult
»» 
.
»» 
Data
»» 
=
»» 
await
»» #!
_applicationService
»»$ 7
.
»»7 8
Add
»»8 ;
(
»»; <
newApplication
»»< J
)
»»J K
;
»»K L

_apiResult
ΌΌ 
.
ΌΌ 
Message
ΌΌ 
=
ΌΌ  
$str
ΌΌ! 6
;
ΌΌ6 7
if
½½ 
(
½½ 

_apiResult
½½ 
.
½½ 
Data
½½ 
is
½½  "
not
½½# &
null
½½' +
)
½½+ ,
{
ΎΎ 
var
ΏΏ 
currentUserCV
ΏΏ !
=
ΏΏ" #
await
ΏΏ$ )
_userCVService
ΏΏ* 8
.
ΏΏ8 9
GetUserCVByInfo
ΏΏ9 H
(
ΏΏH I
new
ΏΏI L
UserCV
ΏΏM S
{
ΏΏT U
Id
ΏΏV X
=
ΏΏY Z
model
ΏΏ[ `
.
ΏΏ` a
UserCVId
ΏΏa i
}
ΏΏj k
)
ΏΏk l
;
ΏΏl m
var
ΐΐ 
body
ΐΐ 
=
ΐΐ 
string
ΐΐ !
.
ΐΐ! "
Empty
ΐΐ" '
;
ΐΐ' (
var
ΑΑ $
recruitmentPostCurrent
ΑΑ *
=
ΑΑ+ ,
await
ΑΑ- 2%
_recruitmentPostService
ΑΑ3 J
.
ΑΑJ K 
GetRecruitmentPost
ΑΑK ]
(
ΑΑ] ^
new
ΑΑ^ a
RecruitmentPost
ΑΑb q
{
ΑΑr s
Id
ΑΑt v
=
ΑΑw x
model
ΑΑy ~
.
ΑΑ~  
RecruitmentPostIdΑΑ 
}ΑΑ‘ ’
)ΑΑ’ “
;ΑΑ“ ”
using
ΒΒ 
(
ΒΒ 
StreamReader
ΒΒ #
reader
ΒΒ$ *
=
ΒΒ+ ,
new
ΒΒ- 0
(
ΒΒ0 1
Path
ΒΒ1 5
.
ΒΒ5 6
Combine
ΒΒ6 =
(
ΒΒ= >
$str
ΒΒ> `
)
ΒΒ` a
)
ΒΒa b
)
ΒΒb c
{
ΓΓ 
body
ΔΔ 
=
ΔΔ 
reader
ΔΔ !
.
ΔΔ! "
	ReadToEnd
ΔΔ" +
(
ΔΔ+ ,
)
ΔΔ, -
;
ΔΔ- .
}
ΕΕ 
var
ΖΖ 
bodyBuilder
ΖΖ 
=
ΖΖ  !
new
ΖΖ" %
System
ΖΖ& ,
.
ΖΖ, -
Text
ΖΖ- 1
.
ΖΖ1 2
StringBuilder
ΖΖ2 ?
(
ΖΖ? @
body
ΖΖ@ D
)
ΖΖD E
;
ΖΖE F
bodyBuilder
ΗΗ 
.
ΗΗ 
Replace
ΗΗ #
(
ΗΗ# $
$str
ΗΗ$ 3
,
ΗΗ3 4$
recruitmentPostCurrent
ΗΗ5 K
.
ΗΗK L
Company
ΗΗL S
.
ΗΗS T
CompanyName
ΗΗT _
)
ΗΗ_ `
;
ΗΗ` a
bodyBuilder
ΘΘ 
.
ΘΘ 
Replace
ΘΘ #
(
ΘΘ# $
$str
ΘΘ$ 0
,
ΘΘ0 1
currentUserCV
ΘΘ2 ?
.
ΘΘ? @
User
ΘΘ@ D
.
ΘΘD E
FullName
ΘΘE M
)
ΘΘM N
;
ΘΘN O
var
ΙΙ 
data
ΙΙ 
=
ΙΙ 
new
ΙΙ 
EmailDataModel
ΙΙ -
{
ΙΙ. /
Body
ΙΙ0 4
=
ΙΙ5 6
bodyBuilder
ΙΙ7 B
.
ΙΙB C
ToString
ΙΙC K
(
ΙΙK L
)
ΙΙL M
,
ΙΙM N
Subject
ΙΙO V
=
ΙΙW X
$"
ΙΙY [
$str
ΙΙ[ c
{
ΙΙc d$
recruitmentPostCurrent
ΙΙd z
.
ΙΙz {
CompanyΙΙ{ ‚
.ΙΙ‚ ƒ
CompanyNameΙΙƒ 
}ΙΙ 
$strΙΙ ©
"ΙΙ© 
,ΙΙ «
ToEmailΙΙ¬ ³
=ΙΙ΄ µ
currentUserCVΙΙ¶ Γ
.ΙΙΓ Δ
UserΙΙΔ Θ
.ΙΙΘ Ι
EmailΙΙΙ Ξ
}ΙΙΟ Π
;ΙΙΠ Ρ
await
ΚΚ 
_emailService
ΚΚ #
.
ΚΚ# $
	SendEmail
ΚΚ$ -
(
ΚΚ- .
data
ΚΚ. 2
)
ΚΚ2 3
;
ΚΚ3 4
}
ΛΛ 
return
ΝΝ 
Ok
ΝΝ 
(
ΝΝ 

_apiResult
ΝΝ  
)
ΝΝ  !
;
ΝΝ! "
}
ΞΞ 	
}
ΟΟ 
}ΠΠ ει
<D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\AuthController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
AuthController 
:  !
ControllerBase" 0
{ 
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
ITokenService &
_tokenService' 4
;4 5
private 
readonly 
IEmailService &
_emailService' 4
;4 5
private 
readonly 
ICompanyService (
_companyService) 8
;8 9
private 
readonly 
CustomConfig %
_customConfig& 3
;3 4
private 
readonly 
ILogger  
<  !
AuthController! /
>/ 0
_logger1 8
;8 9
private 
readonly 
IMapper  
_mapper! (
;( )
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public   
AuthController   
(   
IUserService!! 
userService!! $
,!!$ %
ITokenService"" 
tokenService"" &
,""& '
ILogger## 
<## 
AuthController## "
>##" #
logger##$ *
,##* +
IEmailService$$ 
emailService$$ &
,$$& '
ICompanyService%% 
companyService%% *
,%%* +
IOptions&& 
<&& 
CustomConfig&& !
>&&! "
customConfig&&# /
,&&/ 0
IMapper'' 
mapper'' 
)(( 	
{)) 	
_userService** 
=** 
userService** &
;**& '
_tokenService++ 
=++ 
tokenService++ (
;++( )
_companyService,, 
=,, 
companyService,, ,
;,,, -
_emailService-- 
=-- 
emailService-- (
;--( )
_logger.. 
=.. 
logger.. 
;.. 
_customConfig// 
=// 
customConfig// (
.//( )
Value//) .
;//. /
_mapper00 
=00 
mapper00 
;00 

_apiResult11 
=11 
new11 
(11 
)11 
;11 
}22 	
[44 	
HttpPost44	 
(44 
$str44 
)44 
]44 
[55 	
AllowAnonymous55	 
]55 
public66 
async66 
Task66 
<66 
IActionResult66 '
>66' (
Register66) 1
(661 2
RegisterModel662 ?
model66@ E
)66E F
{77 	
var88 

_apiResult88 
=88 
new88  
	ApiResult88! *
(88* +
)88+ ,
;88, -
var:: 
newUser:: 
=:: 
_mapper:: !
.::! "
Map::" %
<::% &
User::& *
>::* +
(::+ ,
model::, 1
)::1 2
;::2 3

_apiResult;; 
.;; 
	IsSuccess;;  
=;;! "
await;;# (
_userService;;) 5
.;;5 6
Register;;6 >
(;;> ?
newUser;;? F
);;F G
;;;G H
return== 
Ok== 
(== 

_apiResult==  
)==  !
;==! "
}>> 	
[@@ 	
HttpPost@@	 
(@@ 
$str@@ 
)@@ 
]@@ 
[AA 	
AllowAnonymousAA	 
]AA 
publicBB 
asyncBB 
TaskBB 
<BB 
IActionResultBB '
>BB' (
LoginBB) .
(BB. /

LoginModelBB/ 9
modelBB: ?
)BB? @
{CC 	
varDD 

_apiResultDD 
=DD 
newDD  
	ApiResultDD! *
(DD* +
)DD+ ,
;DD, -
tryEE 
{FF 
varGG 
existGG 
=GG 
awaitGG !
_userServiceGG" .
.GG. /
GetUserGG/ 6
(GG6 7
newGG7 :
UserGG; ?
{GG@ A
UsernameGGB J
=GGK L
modelGGM R
.GGR S
UsernameGGS [
}GG\ ]
)GG] ^
;GG^ _
ifHH 
(HH 
existHH 
isHH 
notHH  
nullHH! %
&&HH& (
BCryptHH) /
.HH/ 0
NetHH0 3
.HH3 4
BCryptHH4 :
.HH: ;
VerifyHH; A
(HHA B
modelHHB G
.HHG H
PasswordHHH P
,HHP Q
existHHR W
.HHW X
PasswordHHX `
)HH` a
)HHa b
{II 
ifKK 
(KK 
existKK 
.KK 
RoleIdKK $
==KK% '
(KK( )
longKK) -
)KK- .
ERoleKK. 3
.KK3 4
ID_BusinessKK4 ?
)KK? @
{LL 
varMM 
companyMM #
=MM$ %
awaitMM& +
_companyServiceMM, ;
.MM; <
GetCompanyByUserMM< L
(MML M
newMMM P
UserMMQ U
{MMV W
IdMMX Z
=MM[ \
existMM] b
.MMb c
IdMMc e
}MMf g
)MMg h
;MMh i
ifNN 
(NN 
companyNN #
isNN$ &
notNN' *
nullNN+ /
&&NN0 2
companyNN3 :
.NN: ;
StatusNN; A
==NNB D
EStatusRecruiterNNE U
.NNU V
PendingNNV ]
)NN] ^
{OO 
throwPP !
newPP" %
EWExceptionPP& 1
(PP1 2
$strPP2 q
)PPq r
;PPr s
}QQ 
ifSS 
(SS 
companySS #
isSS$ &
notSS' *
nullSS+ /
&&SS0 2
companySS3 :
.SS: ;
StatusSS; A
==SSB D
EStatusRecruiterSSE U
.SSU V
DisabledSSV ^
)SS^ _
{TT 
throwUU !
newUU" %
EWExceptionUU& 1
(UU1 2
$strUU2 |
)UU| }
;UU} ~
}VV 
ifXX 
(XX 
companyXX #
isXX$ &
nullXX' +
)XX+ ,
{YY 
throwZZ !
newZZ" %
EWExceptionZZ& 1
(ZZ1 2
$strZZ2 \
)ZZ\ ]
;ZZ] ^
}[[ 
}\\ 
if]] 
(]] 
!]] 
exist]] 
.]] 
IsActive]] '
)]]' (
{^^ 
throw__ 
new__ !
EWException__" -
(__- .
$str__. n
)__n o
;__o p
}`` 

_apiResultaa 
.aa 
Messageaa &
=aa' (
$straa) ?
;aa? @
varbb 
rfTokenbb 
=bb  !
_tokenServicebb" /
.bb/ 0
CreateRefreshTokenbb0 B
(bbB C
existbbC H
)bbH I
;bbI J
varcc 
datacc 
=cc 
newcc "
LoginViewModelcc# 1
{dd 
AccessTokenee #
=ee$ %
_tokenServiceee& 3
.ee3 4
CreateTokenee4 ?
(ee? @
existee@ E
)eeE F
,eeF G
RefreshTokenff $
=ff% &
rfTokenff' .
,ff. /
}gg 
;gg 

_apiResulthh 
.hh 
Datahh #
=hh$ %
datahh& *
;hh* +
}ii 
elsejj 
{kk 

_apiResultll 
.ll 
	IsSuccessll (
=ll) *
falsell+ 0
;ll0 1

_apiResultmm 
.mm 
Messagemm &
=mm' (
$strmm) R
;mmR S
}nn 
}oo 
catchpp 
(pp 
	Exceptionpp 
errorpp "
)pp" #
{qq 
_loggerrr 
.rr 
LogErrorrr  
(rr  !
errorrr! &
.rr& '
Messagerr' .
)rr. /
;rr/ 0

_apiResultss 
.ss 
InternalErrorss (
(ss( )
errorss) .
.ss. /
Messagess/ 6
)ss6 7
;ss7 8
}tt 
returnuu 
Okuu 
(uu 

_apiResultuu  
)uu  !
;uu! "
}vv 	
[xx 	
HttpPostxx	 
(xx 
$strxx  
)xx  !
]xx! "
publicyy 
asyncyy 
Taskyy 
<yy 
IActionResultyy '
>yy' (
RefreshTokenyy) 5
(yy5 6
RefreshTokenModelyy6 G
modelyyH M
)yyM N
{zz 	
var|| 
refreshToken|| 
=|| 
model|| $
.||$ %
RefreshToken||% 1
;||1 2
var}} 
validate}} 
=}} 
_tokenService}} (
.}}( )"
GetPayloadRefreshToken}}) ?
(}}? @
refreshToken}}@ L
)}}L M
??~~ 
throw~~ 
new~~ 
EWException~~ (
(~~( )
$str~~) A
)~~A B
;~~B C
var 
exist 
= 
await 
_userService *
.* +
GetUser+ 2
(2 3
new3 6
User7 ;
{
€€ 
Email
 
=
 
validate
  
.
  !
Issuer
! '
,
' (
Username
‚‚ 
=
‚‚ 
validate
‚‚ #
.
‚‚# $
Issuer
‚‚$ *
,
‚‚* +
}
ƒƒ 
)
ƒƒ 
;
ƒƒ 
if
„„ 
(
„„ 
!
„„ 
exist
„„ 
.
„„ 
IsActive
„„ 
)
„„  
{
…… 
throw
†† 
new
†† 
EWException
†† %
(
††% &
$str
††& f
)
††f g
;
††g h
}
‡‡ 
var
 
token
 
=
 
_tokenService
 %
.
% &
CreateToken
& 1
(
1 2
exist
2 7
)
7 8
;
8 9
var
‰‰ 
rfToken
‰‰ 
=
‰‰ 
_tokenService
‰‰ '
.
‰‰' ( 
CreateRefreshToken
‰‰( :
(
‰‰: ;
exist
‰‰; @
)
‰‰@ A
;
‰‰A B

_apiResult
 
.
 
Data
 
=
 
new
 !
LoginViewModel
" 0
{
‹‹ 
AccessToken
 
=
 
token
 #
,
# $
RefreshToken
 
=
 
rfToken
 &
,
& '
}
 
;
 
return
‘‘ 
Ok
‘‘ 
(
‘‘ 

_apiResult
‘‘  
)
‘‘  !
;
‘‘! "
}
’’ 	
[
”” 	
HttpGet
””	 
(
”” 
$str
”” 
)
”” 
]
”” 
[
•• 	
	Authorize
••	 
(
•• 
Roles
•• 
=
•• 
$str
•• $
)
••$ %
]
••% &
public
–– 
async
–– 
Task
–– 
<
–– 
IActionResult
–– '
>
––' (
Users
––) .
(
––. /
)
––/ 0
{
—— 	

_apiResult
™™ 
.
™™ 
Data
™™ 
=
™™ 
await
™™ #
_userService
™™$ 0
.
™™0 1
GetUsers
™™1 9
(
™™9 :
)
™™: ;
;
™™; <
return
›› 
Ok
›› 
(
›› 

_apiResult
››  
)
››  !
;
››! "
}
 	
[
 	
HttpGet
	 
(
 
$str
 
)
 
]
 
public
 
async
 
Task
 
<
 
IActionResult
 '
>
' (
GetUsersById
) 5
(
5 6
int
6 9
id
: <
)
< =
{
   	

_apiResult
ΆΆ 
.
ΆΆ 
Data
ΆΆ 
=
ΆΆ 
await
ΆΆ #
_userService
ΆΆ$ 0
.
ΆΆ0 1
GetUser
ΆΆ1 8
(
ΆΆ8 9
new
ΆΆ9 <
User
ΆΆ= A
{
ΆΆB C
Id
ΆΆD F
=
ΆΆG H
id
ΆΆI K
}
ΆΆL M
)
ΆΆM N
;
ΆΆN O
return
¥¥ 
Ok
¥¥ 
(
¥¥ 

_apiResult
¥¥  
)
¥¥  !
;
¥¥! "
}
¦¦ 	
[
¨¨ 	
HttpPost
¨¨	 
(
¨¨ 
$str
¨¨  
)
¨¨  !
]
¨¨! "
public
©© 
async
©© 
Task
©© 
<
©© 
IActionResult
©© '
>
©©' (
LoginWithGoogle
©©) 8
(
©©8 9"
LoginWithGoogleModel
©©9 M
model
©©N S
)
©©S T
{
 	
var
¬¬ 
newUser
¬¬ 
=
¬¬ 
_mapper
¬¬ !
.
¬¬! "
Map
¬¬" %
<
¬¬% &
User
¬¬& *
>
¬¬* +
(
¬¬+ ,
model
¬¬, 1
)
¬¬1 2
;
¬¬2 3
var
­­ 
resultRegister
­­ 
=
­­  
await
­­! &
_userService
­­' 3
.
­­3 4 
RegisterWithGoogle
­­4 F
(
­­F G
newUser
­­G N
)
­­N O
;
­­O P
if
®® 
(
®® 
!
®® 
resultRegister
®® 
)
®®  
{
―― 
throw
°° 
new
°° 
EWException
°° %
(
°°% &
$str
°°& H
)
°°H I
;
°°I J
}
±± 
else
²² 
{
³³ 
var
΄΄ 
exist
΄΄ 
=
΄΄ 
await
΄΄ !
_userService
΄΄" .
.
΄΄. /
GetUser
΄΄/ 6
(
΄΄6 7
new
΄΄7 :
User
΄΄; ?
{
΄΄@ A
Username
΄΄B J
=
΄΄K L
model
΄΄M R
.
΄΄R S
GoogleId
΄΄S [
,
΄΄[ \
Email
΄΄] b
=
΄΄c d
model
΄΄e j
.
΄΄j k
Email
΄΄k p
}
΄΄q r
)
΄΄r s
;
΄΄s t
var
µµ 
rfToken
µµ 
=
µµ 
_tokenService
µµ +
.
µµ+ , 
CreateRefreshToken
µµ, >
(
µµ> ?
exist
µµ? D
)
µµD E
;
µµE F
var
¶¶ 
data
¶¶ 
=
¶¶ 
new
¶¶ 
LoginViewModel
¶¶ -
{
·· 
AccessToken
ΈΈ 
=
ΈΈ  !
_tokenService
ΈΈ" /
.
ΈΈ/ 0
CreateToken
ΈΈ0 ;
(
ΈΈ; <
exist
ΈΈ< A
)
ΈΈA B
,
ΈΈB C
RefreshToken
ΉΉ  
=
ΉΉ! "
rfToken
ΉΉ# *
,
ΉΉ* +
}
ΊΊ 
;
ΊΊ 

_apiResult
»» 
.
»» 
Data
»» 
=
»»  !
data
»»" &
;
»»& '

_apiResult
ΌΌ 
.
ΌΌ 
Message
ΌΌ "
=
ΌΌ# $
$str
ΌΌ% ;
;
ΌΌ; <
}
½½ 
return
ΏΏ 
Ok
ΏΏ 
(
ΏΏ 

_apiResult
ΏΏ  
)
ΏΏ  !
;
ΏΏ! "
}
ΐΐ 	
[
ΗΗ 	
AllowAnonymous
ΗΗ	 
]
ΗΗ 
[
ΘΘ 	
HttpPost
ΘΘ	 
(
ΘΘ 
$str
ΘΘ 
)
ΘΘ 
]
ΘΘ 
public
ΙΙ 
async
ΙΙ 
Task
ΙΙ 
<
ΙΙ 
IActionResult
ΙΙ '
>
ΙΙ' (
RecoveryPassword
ΙΙ) 9
(
ΙΙ9 :#
RecoveryPasswordModel
ΙΙ: O
model
ΙΙP U
)
ΙΙU V
{
ΚΚ 	
var
ΜΜ 
exist
ΜΜ 
=
ΜΜ 
await
ΜΜ 
_userService
ΜΜ *
.
ΜΜ* +
GetUser
ΜΜ+ 2
(
ΜΜ2 3
new
ΜΜ3 6
User
ΜΜ7 ;
{
ΜΜ< =
Username
ΜΜ> F
=
ΜΜG H
model
ΜΜI N
.
ΜΜN O
Username
ΜΜO W
,
ΜΜW X
Email
ΜΜY ^
=
ΜΜ_ `
model
ΜΜa f
.
ΜΜf g
Email
ΜΜg l
}
ΜΜm n
)
ΜΜn o
;
ΜΜo p
if
ΝΝ 
(
ΝΝ 
exist
ΝΝ 
is
ΝΝ 
null
ΝΝ 
||
ΝΝ  
exist
ΝΝ! &
.
ΝΝ& '
Email
ΝΝ' ,
!=
ΝΝ- /
model
ΝΝ0 5
.
ΝΝ5 6
Email
ΝΝ6 ;
||
ΝΝ< >
exist
ΝΝ? D
.
ΝΝD E
Username
ΝΝE M
!=
ΝΝN P
model
ΝΝQ V
.
ΝΝV W
Username
ΝΝW _
)
ΝΝ_ `
{
ΞΞ 
throw
ΟΟ 
new
ΟΟ 
EWException
ΟΟ %
(
ΟΟ% &
$str
ΟΟ& o
)
ΟΟo p
;
ΟΟp q
}
ΠΠ 
if
ΡΡ 
(
ΡΡ 
!
ΡΡ 
exist
ΡΡ 
.
ΡΡ 
IsActive
ΡΡ 
)
ΡΡ  
throw
 
new
 
EWException
 %
(
% &
$str
& f
)
f g
;
g h
var
ΣΣ 
body
ΣΣ 
=
ΣΣ 
string
ΣΣ 
.
ΣΣ 
Empty
ΣΣ #
;
ΣΣ# $
using
ΤΤ 
(
ΤΤ 
StreamReader
ΤΤ 
reader
ΤΤ  &
=
ΤΤ' (
new
ΤΤ) ,
(
ΤΤ, -
Path
ΤΤ- 1
.
ΤΤ1 2
Combine
ΤΤ2 9
(
ΤΤ9 :
$str
ΤΤ: `
)
ΤΤ` a
)
ΤΤa b
)
ΤΤb c
{
ΥΥ 
body
ΦΦ 
=
ΦΦ 
reader
ΦΦ 
.
ΦΦ 
	ReadToEnd
ΦΦ '
(
ΦΦ' (
)
ΦΦ( )
;
ΦΦ) *
}
ΧΧ 
var
ΨΨ 
key
ΨΨ 
=
ΨΨ 
await
ΨΨ 
_userService
ΨΨ (
.
ΨΨ( )!
GenKeyResetPassword
ΨΨ) <
(
ΨΨ< =
exist
ΨΨ= B
)
ΨΨB C
;
ΨΨC D
var
ΩΩ 
bodyBuilder
ΩΩ 
=
ΩΩ 
new
ΩΩ !
System
ΩΩ" (
.
ΩΩ( )
Text
ΩΩ) -
.
ΩΩ- .
StringBuilder
ΩΩ. ;
(
ΩΩ; <
body
ΩΩ< @
)
ΩΩ@ A
;
ΩΩA B
bodyBuilder
ΪΪ 
.
ΪΪ 
Replace
ΪΪ 
(
ΪΪ  
$str
ΪΪ  ,
,
ΪΪ, -
exist
ΪΪ. 3
.
ΪΪ3 4
FullName
ΪΪ4 <
)
ΪΪ< =
;
ΪΪ= >
bodyBuilder
ΫΫ 
.
ΫΫ 
Replace
ΫΫ 
(
ΫΫ  
$str
ΫΫ  '
,
ΫΫ' (
$"
ΫΫ) +
{
ΫΫ+ ,
_customConfig
ΫΫ, 9
.
ΫΫ9 :
FrontEndURL
ΫΫ: E
}
ΫΫE F
$str
ΫΫF \
{
ΫΫ\ ]
key
ΫΫ] `
}
ΫΫ` a
$str
ΫΫa k
{
ΫΫk l
exist
ΫΫl q
.
ΫΫq r
Username
ΫΫr z
}
ΫΫz {
"
ΫΫ{ |
)
ΫΫ| }
;
ΫΫ} ~
var
άά 
data
άά 
=
άά 
new
άά 
EmailDataModel
άά )
{
άά* +
Body
άά, 0
=
άά1 2
bodyBuilder
άά3 >
.
άά> ?
ToString
άά? G
(
άάG H
)
άάH I
,
άάI J
Subject
άάK R
=
άάS T
$str
άάU q
,
άάq r
ToEmail
άάs z
=
άά{ |
existάά} ‚
.άά‚ ƒ
Emailάάƒ 
}άά‰ 
;άά ‹
await
έέ 
_emailService
έέ 
.
έέ  
	SendEmail
έέ  )
(
έέ) *
data
έέ* .
)
έέ. /
;
έέ/ 0

_apiResult
ήή 
.
ήή 
	IsSuccess
ήή  
=
ήή! "
true
ήή# '
;
ήή' (

_apiResult
ίί 
.
ίί 
Message
ίί 
=
ίί  
$str
ίί! Y
;
ίίY Z
return
αα 
Ok
αα 
(
αα 

_apiResult
αα  
)
αα  !
;
αα! "
}
ββ 	
[
θθ 	
AllowAnonymous
θθ	 
]
θθ 
[
ιι 	
HttpPost
ιι	 
(
ιι 
$str
ιι )
)
ιι) *
]
ιι* +
public
κκ 
async
κκ 
Task
κκ 
<
κκ 
IActionResult
κκ '
>
κκ' ( 
IsValidCodeRecover
κκ) ;
(
κκ; <"
ValidateRecoverModel
κκ< P
model
κκQ V
)
κκV W
{
λλ 	
var
νν 
exist
νν 
=
νν 
await
νν 
_userService
νν *
.
νν* +
GetUser
νν+ 2
(
νν2 3
new
νν3 6
User
νν7 ;
{
νν< =
Username
νν> F
=
ννG H
model
ννI N
.
ννN O
Username
ννO W
}
ννX Y
)
ννY Z
;
ννZ [
if
ξξ 
(
ξξ 
exist
ξξ 
is
ξξ 
null
ξξ 
||
ξξ  
(
ξξ! "
exist
ξξ" '
is
ξξ( *
not
ξξ+ .
null
ξξ/ 3
&&
ξξ4 6
exist
ξξ7 <
.
ξξ< = 
TokenResetPassword
ξξ= O
!=
ξξP R
model
ξξS X
.
ξξX Y
Code
ξξY ]
)
ξξ] ^
)
ξξ^ _
{
οο 
throw
ππ 
new
ππ 
EWException
ππ %
(
ππ% &
$str
ππ& <
)
ππ< =
;
ππ= >
}
ρρ 
else
ςς 
{
σσ 

_apiResult
ττ 
.
ττ 
Message
ττ "
=
ττ# $
$str
ττ% )
;
ττ) *

_apiResult
υυ 
.
υυ 
	IsSuccess
υυ $
=
υυ% &
true
υυ' +
;
υυ+ ,
}
φφ 
return
ψψ 
Ok
ψψ 
(
ψψ 

_apiResult
ψψ  
)
ψψ  !
;
ψψ! "
}
ωω 	
[
€€ 	
AllowAnonymous
€€	 
]
€€ 
[
 	
HttpPost
	 
(
 
$str
 "
)
" #
]
# $
public
‚‚ 
async
‚‚ 
Task
‚‚ 
<
‚‚ 
IActionResult
‚‚ '
>
‚‚' (
ResetPassword
‚‚) 6
(
‚‚6 7 
SubmitRecoverModel
‚‚7 I
model
‚‚J O
)
‚‚O P
{
ƒƒ 	
var
…… 
exist
…… 
=
…… 
await
…… 
_userService
…… *
.
……* +
GetUser
……+ 2
(
……2 3
new
……3 6
User
……7 ;
{
……< =
Username
……> F
=
……G H
model
……I N
.
……N O
Username
……O W
}
……X Y
)
……Y Z
??
……[ ]
throw
……^ c
new
……d g
EWException
……h s
(
……s t
$str……t 
)…… 
;…… 
;…… 
if
‡‡ 
(
‡‡ 
exist
‡‡ 
.
‡‡  
TokenResetPassword
‡‡ (
!=
‡‡) +
model
‡‡, 1
.
‡‡1 2
Code
‡‡2 6
)
‡‡6 7
{
 
throw
‰‰ 
new
‰‰ 
EWException
‰‰ %
(
‰‰% &
$str
‰‰& <
)
‰‰< =
;
‰‰= >
}
 
else
‹‹ 
{
 
exist
 
.
 
Password
 
=
  
model
! &
.
& '
Password
' /
;
/ 0

_apiResult
 
.
 
Message
 "
=
# $
$str
% E
;
E F

_apiResult
 
.
 
	IsSuccess
 $
=
% &
await
' ,
_userService
- 9
.
9 :
ResetPassword
: G
(
G H
exist
H M
)
M N
;
N O
}
 
return
’’ 
Ok
’’ 
(
’’ 

_apiResult
’’  
)
’’  !
;
’’! "
}
““ 	
[
™™ 	
	Authorize
™™	 
]
™™ 
[
 	
HttpPost
	 
(
 
$str
 #
)
# $
]
$ %
public
›› 
async
›› 
Task
›› 
<
›› 
IActionResult
›› '
>
››' (
UpdatePassword
››) 7
(
››7 8!
UpdatePasswordModel
››8 K
model
››L Q
)
››Q R
{
 	
if
 
(
 
string
 
.
  
IsNullOrWhiteSpace
 )
(
) *
model
* /
.
/ 0
ConfirmPassword
0 ?
)
? @
||
A C
string
D J
.
J K 
IsNullOrWhiteSpace
K ]
(
] ^
model
^ c
.
c d
NewPassword
d o
)
o p
)
p q
{
 

_apiResult
   
.
   
Message
   "
=
  # $
$str
  % J
;
  J K

_apiResult
΅΅ 
.
΅΅ 
	IsSuccess
΅΅ $
=
΅΅% &
false
΅΅' ,
;
΅΅, -
}
ΆΆ 
else
££ 
if
££ 
(
££ 
model
££ 
.
££ 
NewPassword
££ &
!=
££' )
model
££* /
.
££/ 0
ConfirmPassword
££0 ?
)
££? @
{
¤¤ 

_apiResult
¥¥ 
.
¥¥ 
Message
¥¥ "
=
¥¥# $
$str
¥¥% S
;
¥¥S T

_apiResult
¦¦ 
.
¦¦ 
	IsSuccess
¦¦ $
=
¦¦% &
false
¦¦' ,
;
¦¦, -
}
§§ 
else
¨¨ 
{
©© 
var
 
currentUser
 
=
  !
await
" '
_userService
( 4
.
4 5
GetUser
5 <
(
< =
new
= @
User
A E
{
F G
Username
H P
=
Q R
Username
S [
}
\ ]
)
] ^
;
^ _
if
«« 
(
«« 
BCrypt
«« 
.
«« 
Net
«« 
.
«« 
BCrypt
«« %
.
««% &
Verify
««& ,
(
««, -
model
««- 2
.
««2 3
OldPassword
««3 >
,
««> ?
currentUser
««@ K
.
««K L
Password
««L T
)
««T U
)
««U V
{
¬¬ 
var
­­ 
hashed
­­ 
=
­­  
BCrypt
­­! '
.
­­' (
Net
­­( +
.
­­+ ,
BCrypt
­­, 2
.
­­2 3
HashPassword
­­3 ?
(
­­? @
model
­­@ E
.
­­E F
NewPassword
­­F Q
,
­­Q R
BCrypt
­­S Y
.
­­Y Z
Net
­­Z ]
.
­­] ^
BCrypt
­­^ d
.
­­d e
GenerateSalt
­­e q
(
­­q r
$num
­­r t
)
­­t u
)
­­u v
;
­­v w
currentUser
®® 
.
®®  
Password
®®  (
=
®®) *
hashed
®®+ 1
;
®®1 2

_apiResult
―― 
.
―― 
	IsSuccess
―― (
=
――) *
await
――+ 0
_userService
――1 =
.
――= >

UpdateUser
――> H
(
――H I
currentUser
――I T
)
――T U
;
――U V
if
°° 
(
°° 

_apiResult
°° "
.
°°" #
	IsSuccess
°°# ,
)
°°, -
{
±± 

_apiResult
²² "
.
²²" #
Message
²²# *
=
²²+ ,
$str
²²- K
;
²²K L
}
³³ 
else
΄΄ 
{
µµ 

_apiResult
¶¶ "
.
¶¶" #
Message
¶¶# *
=
¶¶+ ,
$str
¶¶- I
;
¶¶I J
}
·· 
}
ΈΈ 
else
ΉΉ 
{
ΊΊ 

_apiResult
»» 
.
»» 
	IsSuccess
»» (
=
»») *
false
»»+ 0
;
»»0 1

_apiResult
ΌΌ 
.
ΌΌ 
Message
ΌΌ &
=
ΌΌ' (
$str
ΌΌ) ]
;
ΌΌ] ^
}
½½ 
}
ΎΎ 
return
ΐΐ 
Ok
ΐΐ 
(
ΐΐ 

_apiResult
ΐΐ  
)
ΐΐ  !
;
ΐΐ! "
}
ΑΑ 	
[
ΒΒ 	
HttpGet
ΒΒ	 
(
ΒΒ 
$str
ΒΒ  
)
ΒΒ  !
]
ΒΒ! "
[
ΓΓ 	
	Authorize
ΓΓ	 
]
ΓΓ 
public
ΔΔ 
async
ΔΔ 
Task
ΔΔ 
<
ΔΔ 
IActionResult
ΔΔ '
>
ΔΔ' (
GetUserInfo
ΔΔ) 4
(
ΔΔ4 5
)
ΔΔ5 6
{
ΕΕ 	
var
ΗΗ 
currentUser
ΗΗ 
=
ΗΗ 
await
ΗΗ #
_userService
ΗΗ$ 0
.
ΗΗ0 1
GetUser
ΗΗ1 8
(
ΗΗ8 9
new
ΗΗ9 <
User
ΗΗ= A
{
ΗΗB C
Username
ΗΗD L
=
ΗΗM N
Username
ΗΗO W
}
ΗΗX Y
)
ΗΗY Z
;
ΗΗZ [

_apiResult
ΘΘ 
.
ΘΘ 
	IsSuccess
ΘΘ  
=
ΘΘ! "
true
ΘΘ# '
;
ΘΘ' (

_apiResult
ΙΙ 
.
ΙΙ 
Data
ΙΙ 
=
ΙΙ 
_mapper
ΙΙ %
.
ΙΙ% &
Map
ΙΙ& )
<
ΙΙ) *
UserInfoViewModel
ΙΙ* ;
>
ΙΙ; <
(
ΙΙ< =
currentUser
ΙΙ= H
)
ΙΙH I
;
ΙΙI J
return
ΛΛ 
Ok
ΛΛ 
(
ΛΛ 

_apiResult
ΛΛ  
)
ΛΛ  !
;
ΛΛ! "
}
ΜΜ 	
}
ΝΝ 
}ΞΞ '
FD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\BlogCategoriesController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class $
BlogCategoriesController )
:* +
ControllerBase, :
{ 
private 
readonly  
IBlogCategoryService - 
_blogCategoryService. B
;B C
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public $
BlogCategoriesController '
(' ( 
IBlogCategoryService  
blogCategoryService! 4
) 	
{ 	 
_blogCategoryService  
=! "
blogCategoryService# 6
;6 7

_apiResult 
= 
new 
( 
) 
; 
} 	
[ 	
AllowAnonymous	 
] 
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	

_apiResult   
.   
Data   
=   
await   # 
_blogCategoryService  $ 8
.  8 9
GetAll  9 ?
(  ? @
)  @ A
;  A B

_apiResult!! 
.!! 
Message!! 
=!!  
$str!!! 9
;!!9 :
return## 
Ok## 
(## 

_apiResult##  
)##  !
;##! "
}$$ 	
[++ 	
	Authorize++	 
(++ 
Roles++ 
=++ 
$str++ $
)++$ %
]++% &
[,, 	
HttpPost,,	 
],, 
public-- 
async-- 
Task-- 
<-- 
IActionResult-- '
>--' (
Post--) -
(--- .
BlogCategory--. :
model--; @
)--@ A
{.. 	

_apiResult// 
.// 
Data// 
=// 
await// # 
_blogCategoryService//$ 8
.//8 9
Add//9 <
(//< =
model//= B
)//B C
;//C D

_apiResult00 
.00 
Message00 
=00  
$str00! ?
;00? @
return11 
Ok11 
(11 

_apiResult11  
)11  !
;11! "
}22 	
[88 	
	Authorize88	 
(88 
Roles88 
=88 
$str88 $
)88$ %
]88% &
[99 	

HttpDelete99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
Delete::) /
(::/ 0
long::0 4
id::5 7
)::7 8
{;; 	
if<< 
(<< 
await<<  
_blogCategoryService<< *
.<<* +
Delete<<+ 1
(<<1 2
new<<2 5
BlogCategory<<6 B
{<<C D
Id<<E G
=<<H I
id<<J L
}<<M N
)<<N O
)<<O P
{== 

_apiResult>> 
.>> 
Data>> 
=>>  !
new>>" %
Blog>>& *
{?? 
Id@@ 
=@@ 
id@@ 
}AA 
;AA 

_apiResultBB 
.BB 
MessageBB "
=BB# $
$strBB% >
;BB> ?
}CC 
elseDD 
{EE 

_apiResultFF 
.FF 
	IsSuccessFF $
=FF% &
falseFF' ,
;FF, -

_apiResultGG 
.GG 
MessageGG "
=GG# $
$strGG% <
;GG< =
}HH 
returnII 
OkII 
(II 

_apiResultII  
)II  !
;II! "
}JJ 	
[PP 	
	AuthorizePP	 
(PP 
RolesPP 
=PP 
$strPP $
)PP$ %
]PP% &
[QQ 	
HttpPutQQ	 
]QQ 
publicRR 
asyncRR 
TaskRR 
<RR 
IActionResultRR '
>RR' (
PutRR) ,
(RR, -
BlogCategoryRR- 9
modelRR: ?
)RR? @
{SS 	

_apiResultTT 
.TT 
DataTT 
=TT 
awaitTT # 
_blogCategoryServiceTT$ 8
.TT8 9
UpdateTT9 ?
(TT? @
modelTT@ E
)TTE F
;TTF G

_apiResultUU 
.UU 
MessageUU 
=UU  
$strUU! ?
;UU? @
returnVV 
OkVV 
(VV 

_apiResultVV  
)VV  !
;VV! "
}WW 	
}XX 
}YY H
=D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\BlogsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
BlogsController  
:! "
ControllerBase# 1
{ 
private 
readonly 
IBlogService %
_blogService& 2
;2 3
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IMapper  
_mapper! (
;( )
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public 
BlogsController 
( 
IBlogService 
blogService $
,$ %
IUserService 
userService $
,$ %
IMapper 
mapper 
) 	
{ 	
_blogService 
= 
blogService &
;& '
_userService 
= 
userService &
;& '
_mapper   
=   
mapper   
;   

_apiResult!! 
=!! 
new!! 
(!! 
)!! 
;!! 
}"" 	
[(( 	
AllowAnonymous((	 
](( 
[)) 	
HttpGet))	 
])) 
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
Index**) .
(**. /
)**/ 0
{++ 	
var-- 
data-- 
=-- 
await-- 
_blogService-- )
.--) *
GetAll--* 0
(--0 1
)--1 2
;--2 3

_apiResult.. 
... 
Data.. 
=.. 
_mapper.. %
...% &
Map..& )
<..) *
IEnumerable..* 5
<..5 6
BlogDetailViewModel..6 I
>..I J
>..J K
(..K L
data..L P
)..P Q
;..Q R

_apiResult// 
.// 
Message// 
=//  
$str//! 9
;//9 :
return11 
Ok11 
(11 

_apiResult11  
)11  !
;11! "
}22 	
[99 	
AllowAnonymous99	 
]99 
[:: 	
HttpGet::	 
(:: 
$str:: 
):: 
]:: 
public;; 
async;; 
Task;; 
<;; 
IActionResult;; '
>;;' (
Get;;) ,
(;;, -
long;;- 1
id;;2 4
);;4 5
{<< 	
var>> 
data>> 
=>> 
await>> 
_blogService>> )
.>>) *
Get>>* -
(>>- .
id>>. 0
)>>0 1
;>>1 2
if?? 
(?? 
data?? 
is?? 
null?? 
)?? 
{@@ 

_apiResultAA 
.AA 
	IsSuccessAA $
=AA% &
falseAA' ,
;AA, -

_apiResultBB 
.BB 
MessageBB "
=BB# $
$strBB% A
;BBA B
}CC 
elseDD 
{EE 

_apiResultFF 
.FF 
DataFF 
=FF  !
_mapperFF" )
.FF) *
MapFF* -
<FF- .
BlogDetailViewModelFF. A
>FFA B
(FFB C
dataFFC G
)FFG H
;FFH I

_apiResultGG 
.GG 
MessageGG "
=GG# $
$strGG% =
;GG= >
}HH 
returnJJ 
OkJJ 
(JJ 

_apiResultJJ  
)JJ  !
;JJ! "
}KK 	
[QQ 	
	AuthorizeQQ	 
(QQ 
RolesQQ 
=QQ 
$strQQ $
)QQ$ %
]QQ% &
[RR 	
HttpPostRR	 
]RR 
publicSS 
asyncSS 
TaskSS 
<SS 
IActionResultSS '
>SS' (
PostSS) -
(SS- .
AddBlogModelSS. :
modelSS; @
)SS@ A
{TT 	
varVV 
userVV 
=VV 
awaitVV 
_userServiceVV )
.VV) *
GetUserVV* 1
(VV1 2
newVV2 5
UserVV6 :
{VV; <
UsernameVV= E
=VVF G
UsernameVVH P
}VVQ R
)VVR S
;VVS T
varWW 
newBlogWW 
=WW 
newWW 
BlogWW "
{XX 
TitleYY 
=YY 
modelYY 
.YY 
TitleYY #
,YY# $
ContentZZ 
=ZZ 
modelZZ 
.ZZ  
ContentZZ  '
,ZZ' (
UserId[[ 
=[[ 
user[[ 
.[[ 
Id[[  
,[[  !
BlogCategoryId\\ 
=\\  
model\\! &
.\\& '
BlogCategoryId\\' 5
,\\5 6
}^^ 
;^^ 
await__ 
_blogService__ 
.__ 
Add__ "
(__" #
newBlog__# *
)__* +
;__+ ,
var`` 
data`` 
=`` 
await`` 
_blogService`` )
.``) *
Get``* -
(``- .
newBlog``. 5
.``5 6
Id``6 8
)``8 9
;``9 :

_apiResultaa 
.aa 
Dataaa 
=aa 
_mapperaa %
.aa% &
Mapaa& )
<aa) *
BlogDetailViewModelaa* =
>aa= >
(aa> ?
dataaa? C
)aaC D
;aaD E

_apiResultbb 
.bb 
Messagebb 
=bb  
$strbb! ;
;bb; <
returndd 
Okdd 
(dd 

_apiResultdd  
)dd  !
;dd! "
}ee 	
[kk 	
	Authorizekk	 
(kk 
Roleskk 
=kk 
$strkk $
)kk$ %
]kk% &
[ll 	

HttpDeletell	 
(ll 
$strll 
)ll 
]ll 
publicmm 
asyncmm 
Taskmm 
<mm 
IActionResultmm '
>mm' (
Deletemm) /
(mm/ 0
longmm0 4
idmm5 7
)mm7 8
{nn 	
ifpp 
(pp 
awaitpp 
_blogServicepp "
.pp" #
Deletepp# )
(pp) *
newpp* -
Blogpp. 2
{pp3 4
Idpp5 7
=pp8 9
idpp: <
}pp= >
)pp> ?
)pp? @
{qq 

_apiResultrr 
.rr 
Datarr 
=rr  !
newrr" %
Blogrr& *
{ss 
Idtt 
=tt 
idtt 
}uu 
;uu 

_apiResultvv 
.vv 
Messagevv "
=vv# $
$strvv% >
;vv> ?
}ww 
elsexx 
{yy 

_apiResultzz 
.zz 
	IsSuccesszz $
=zz% &
falsezz' ,
;zz, -

_apiResult{{ 
.{{ 
Message{{ "
={{# $
$str{{% <
;{{< =
}|| 
return~~ 
Ok~~ 
(~~ 

_apiResult~~  
)~~  !
;~~! "
} 	
[
…… 	
	Authorize
……	 
(
…… 
Roles
…… 
=
…… 
$str
…… $
)
……$ %
]
……% &
[
†† 	
HttpPut
††	 
]
†† 
public
‡‡ 
async
‡‡ 
Task
‡‡ 
<
‡‡ 
IActionResult
‡‡ '
>
‡‡' (
Put
‡‡) ,
(
‡‡, -
Blog
‡‡- 1
model
‡‡2 7
)
‡‡7 8
{
 	
await
 
_blogService
 
.
 
Update
 %
(
% &
model
& +
)
+ ,
;
, -
var
‹‹ 
data
‹‹ 
=
‹‹ 
await
‹‹ 
_blogService
‹‹ )
.
‹‹) *
Get
‹‹* -
(
‹‹- .
model
‹‹. 3
.
‹‹3 4
Id
‹‹4 6
)
‹‹6 7
;
‹‹7 8

_apiResult
 
.
 
Data
 
=
 
_mapper
 %
.
% &
Map
& )
<
) *!
BlogDetailViewModel
* =
>
= >
(
> ?
data
? C
)
C D
;
D E

_apiResult
 
.
 
Message
 
=
  
$str
! ?
;
? @
return
 
Ok
 
(
 

_apiResult
  
)
  !
;
! "
}
 	
}
‘‘ 
}’’ ¶:
DD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\CertificatesController.cs
	namespace

 	
EW


 
.

 
WebAPI

 
.

 
Controllers

 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class "
CertificatesController '
:( )
ControllerBase* 8
{ 
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
ICertificateService ,
_certificateService- @
;@ A
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public "
CertificatesController %
(% &
IProfileSerivce 
profileSerivce *
,* +
ICertificateService 
certificateService  2
) 	
{ 	
_profileSerivce 
= 
profileSerivce ,
;, -
_certificateService 
=  !
certificateService" 4
;4 5

_apiResult 
= 
new 
( 
) 
; 
} 	
[## 	
	Authorize##	 
(## 
Roles## 
=## 
$str## $
)##$ %
]##% &
[$$ 	
HttpPost$$	 
]$$ 
public%% 
async%% 
Task%% 
<%% 
IActionResult%% '
>%%' (
Post%%) -
(%%- .
AddCertificateModel%%. A
model%%B G
)%%G H
{&& 	
var'' 
profile'' 
='' 
await'' 
_profileSerivce''  /
.''/ 0

GetProfile''0 :
('': ;
new''; >
User''? C
{''D E
Username''F N
=''O P
Username''Q Y
}''Z [
)''[ \
;''\ ]
if(( 
((( 
profile(( 
is(( 
null(( 
)((  
{)) 

_apiResult** 
.** 
	IsSuccess** $
=**% &
false**' ,
;**, -

_apiResult++ 
.++ 
Message++ "
=++# $
$str++% L
;++L M
return,, 
Ok,, 
(,, 

_apiResult,, $
),,$ %
;,,% &
}-- 
var// 
newCertificate// 
=//  
new//! $
Certificate//% 0
{00 
	ProfileId11 
=11 
profile11 #
.11# $
Id11$ &
,11& '
Description22 
=22 
model22 #
.22# $
Description22$ /
,22/ 0
From33 
=33 
model33 
.33 
From33 !
,33! "
To44 
=44 
model44 
.44 
To44 
,44 
CertificateName55 
=55  !
model55" '
.55' (
CertificateName55( 7
}66 
;66 
var77 
data77 
=77 
await77 
_certificateService77 0
.770 1
Add771 4
(774 5
newCertificate775 C
)77C D
;77D E
if88 
(88 
data88 
is88 
null88 
)88 
{99 

_apiResult:: 
.:: 
	IsSuccess:: $
=::% &
false::' ,
;::, -

_apiResult;; 
.;; 
Message;; "
=;;# $
$str;;% C
;;;C D
return<< 
Ok<< 
(<< 

_apiResult<< $
)<<$ %
;<<% &
}== 
else>> 
{?? 

_apiResult@@ 
.@@ 
	IsSuccess@@ $
=@@% &
true@@' +
;@@+ ,

_apiResultAA 
.AA 
MessageAA "
=AA# $
$strAA% @
;AA@ A

_apiResultBB 
.BB 
DataBB 
=BB  !
dataBB" &
;BB& '
}CC 
returnEE 
OkEE 
(EE 

_apiResultEE  
)EE  !
;EE! "
}FF 	
[MM 	
	AuthorizeMM	 
(MM 
RolesMM 
=MM 
$strMM $
)MM$ %
]MM% &
[NN 	

HttpDeleteNN	 
(NN 
$strNN 
)NN 
]NN 
publicOO 
asyncOO 
TaskOO 
<OO 
IActionResultOO '
>OO' (
DeleteOO) /
(OO/ 0
longOO0 4
idOO5 7
)OO7 8
{PP 	

_apiResultQQ 
.QQ 
	IsSuccessQQ  
=QQ! "
awaitQQ# (
_certificateServiceQQ) <
.QQ< =
DeleteQQ= C
(QQC D
newQQD G
CertificateQQH S
{QQT U
IdQQV X
=QQY Z
idQQ[ ]
}QQ^ _
)QQ_ `
;QQ` a
ifRR 
(RR 

_apiResultRR 
.RR 
	IsSuccessRR $
)RR$ %
{SS 

_apiResultTT 
.TT 
MessageTT "
=TT# $
$strTT% ?
;TT? @

_apiResultUU 
.UU 
DataUU 
=UU  !
newUU" %
	EducationUU& /
{UU0 1
IdUU2 4
=UU5 6
idUU7 9
}UU: ;
;UU; <
}VV 
elseWW 
{XX 

_apiResultYY 
.YY 
MessageYY "
=YY# $
$strYY% =
;YY= >
}ZZ 
return[[ 
Ok[[ 
([[ 

_apiResult[[  
)[[  !
;[[! "
}\\ 	
[cc 	
	Authorizecc	 
(cc 
Rolescc 
=cc 
$strcc $
)cc$ %
]cc% &
[dd 	
HttpPutdd	 
]dd 
publicee 
asyncee 
Taskee 
<ee 
IActionResultee '
>ee' (
Putee) ,
(ee, -
Certificateee- 8
modelee9 >
)ee> ?
{ff 	

_apiResultgg 
.gg 
	IsSuccessgg  
=gg! "
awaitgg# (
_certificateServicegg) <
.gg< =
Updategg= C
(ggC D
modelggD I
)ggI J
;ggJ K
ifhh 
(hh 

_apiResulthh 
.hh 
	IsSuccesshh $
)hh$ %
{ii 

_apiResultjj 
.jj 
Messagejj "
=jj# $
$strjj% D
;jjD E

_apiResultkk 
.kk 
Datakk 
=kk  !
modelkk" '
;kk' (
}ll 
elsemm 
{nn 

_apiResultoo 
.oo 
Messageoo "
=oo# $
$stroo% B
;ooB C
}pp 
returnqq 
Okqq 
(qq 

_apiResultqq  
)qq  !
;qq! "
}rr 	
}ss 
}tt ί
>D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\ChartsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
ChartsController

 !
:

" #
ControllerBase

$ 2
{ 
private 
readonly 
IChartService &
_chartService' 4
;4 5
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public 
ChartsController 
(  
IChartService 
chartService &
) 	
{ 	
_chartService 
= 
chartService (
;( )

_apiResult 
= 
new 
( 
) 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
]  
[ 	
	Authorize	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetApplication) 7
(7 8
)8 9
{ 	

_apiResult 
. 
Data 
= 
await #
_chartService$ 1
.1 2 
GetNumberApplication2 F
(F G
)G H
;H I
return   
Ok   
(   

_apiResult    
)    !
;  ! "
}!! 	
['' 	
HttpGet''	 
('' 
$str'' 
)'' 
]'' 
[(( 	
	Authorize((	 
](( 
public)) 
async)) 
Task)) 
<)) 
IActionResult)) '
>))' (
GetPost))) 0
())0 1
)))1 2
{** 	

_apiResult++ 
.++ 
Data++ 
=++ 
await++ #
_chartService++$ 1
.++1 2$
GetNumberRecruitmentPost++2 J
(++J K
)++K L
;++L M
return,, 
Ok,, 
(,, 

_apiResult,,  
),,  !
;,,! "
}-- 	
[33 	
HttpPost33	 
(33 
$str33  
)33  !
]33! "
[44 	
	Authorize44	 
]44 
public55 
async55 
Task55 
<55 
IActionResult55 '
>55' (

GetRanking55) 3
(553 4
string554 :
[55: ;
]55; <

techStacks55= G
)55G H
{66 	

_apiResult77 
.77 
Data77 
=77 
await77 #
_chartService77$ 1
.771 2 
GetRankingTechStacks772 F
(77F G

techStacks77G Q
)77Q R
;77R S
return88 
Ok88 
(88 

_apiResult88  
)88  !
;88! "
}99 	
}:: 
};; ε–
AD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\CompaniesController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
CompaniesController $
:% &
ControllerBase' 5
{ 
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
ICompanyService (
_companyService) 8
;8 9
private 
readonly #
IRecruitmentPostService 0#
_recruitmentPostService1 H
;H I
private 
readonly 
IEmailService &
_emailService' 4
;4 5
private 
readonly 
CustomConfig %
_customConfig& 3
;3 4
private 
readonly 
IMapper  
_mapper! (
;( )
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public   
CompaniesController   "
(  " #
IUserService!! 
userService!! $
,!!$ %
ICompanyService"" 
companyService"" *
,""* +#
IRecruitmentPostService## #"
recruitmentPostService##$ :
,##: ;
IEmailService$$ 
emailService$$ &
,$$& '
IOptions%% 
<%% 
CustomConfig%% !
>%%! "
customConfig%%# /
,%%/ 0
IMapper&& 
mapper&& 
)&& 
{'' 	
_userService(( 
=(( 
userService(( &
;((& '
_companyService)) 
=)) 
companyService)) ,
;)), -#
_recruitmentPostService** #
=**$ %"
recruitmentPostService**& <
;**< =
_emailService++ 
=++ 
emailService++ (
;++( )
_customConfig,, 
=,, 
customConfig,, (
.,,( )
Value,,) .
;,,. /
_mapper-- 
=-- 
mapper-- 
;-- 

_apiResult.. 
=.. 
new.. 
(.. 
).. 
;.. 
}// 	
[55 	
HttpGet55	 
]55 
public66 
async66 
Task66 
<66 
IActionResult66 '
>66' (
Get66) ,
(66, -
)66- .
{77 	

_apiResult99 
.99 
Message99 
=99  
$str99! 9
;999 :

_apiResult:: 
.:: 
Data:: 
=:: 
await:: #
_companyService::$ 3
.::3 4
GetCompanies::4 @
(::@ A
)::A B
;::B C
return<< 
Ok<< 
(<< 

_apiResult<<  
)<<  !
;<<! "
}== 	
[EE 	
HttpPutEE	 
]EE 
[FF 	
	AuthorizeFF	 
(FF 
RolesFF 
=FF 
$strFF -
)FF- .
]FF. /
publicGG 
asyncGG 
TaskGG 
<GG 
IActionResultGG '
>GG' (
PutGG) ,
(GG, -
UpdateCompanyModelGG- ?
modelGG@ E
)GGE F
{HH 	
varII 
currentUserII 
=II 
awaitII #
_userServiceII$ 0
.II0 1
GetUserII1 8
(II8 9
newII9 <
UserII= A
{IIB C
UsernameIID L
=IIM N
UsernameIIO W
}IIX Y
)IIY Z
;IIZ [
varKK 
existCompanyKK 
=KK 
awaitKK $
_companyServiceKK% 4
.KK4 5

GetCompanyKK5 ?
(KK? @
newKK@ C
CompanyKKD K
{KKL M
IdKKN P
=KKQ R
modelKKS X
.KKX Y
IdKKY [
}KK\ ]
)KK] ^
;KK^ _
varLL 
currentStatusLL 
=LL 
existCompanyLL  ,
.LL, -
StatusLL- 3
;LL3 4
ifMM 
(MM 
existCompanyMM 
isMM 
nullMM  $
)MM$ %
{NN 

_apiResultOO 
.OO 
	IsSuccessOO $
=OO% &
falseOO' ,
;OO, -

_apiResultPP 
.PP 
MessagePP "
=PP# $
$strPP% @
;PP@ A
}QQ 
elseRR 
{SS 
ifTT 
(TT 
awaitTT 
_companyServiceTT )
.TT) *$
UpdateInformationCompanyTT* B
(TTB C
modelTTC H
)TTH I
)TTI J
{UU 

_apiResultVV 
.VV 
	IsSuccessVV (
=VV) *
trueVV+ /
;VV/ 0

_apiResultWW 
.WW 
MessageWW &
=WW' (
$strWW) H
;WWH I

_apiResultXX 
.XX 
DataXX #
=XX$ %
awaitXX& +
_companyServiceXX, ;
.XX; <

GetCompanyXX< F
(XXF G
newXXG J
CompanyXXK R
{XXS T
IdXXU W
=XXX Y
modelXXZ _
.XX_ `
IdXX` b
}XXc d
)XXd e
;XXe f
ifZZ 
(ZZ 
currentUserZZ #
.ZZ# $
RoleIdZZ$ *
==ZZ+ -
(ZZ. /
longZZ/ 3
)ZZ3 4
ERoleZZ4 9
.ZZ9 :

ID_FacultyZZ: D
&&ZZE G
currentStatusZZH U
!=ZZV X
modelZZY ^
.ZZ^ _
StatusZZ_ e
&&ZZf h
modelZZi n
.ZZn o
StatusZZo u
!=ZZv x
EStatusRecruiter	ZZy ‰
.
ZZ‰ 
Pending
ZZ ‘
)
ZZ‘ ’
{[[ 
var\\ 
body\\  
=\\! "
string\\# )
.\\) *
Empty\\* /
;\\/ 0
using]] 
(]] 
StreamReader]] +
reader]], 2
=]]3 4
new]]5 8
(]]8 9
Path]]9 =
.]]= >
Combine]]> E
(]]E F
$str]]F o
)]]o p
)]]p q
)]]q r
{^^ 
body``  
=``! "
reader``# )
.``) *
	ReadToEnd``* 3
(``3 4
)``4 5
;``5 6
}bb 
varcc 
bodyBuildercc '
=cc( )
newcc* -
Systemcc. 4
.cc4 5
Textcc5 9
.cc9 :
StringBuildercc: G
(ccG H
bodyccH L
)ccL M
;ccM N
bodyBuilderdd #
.dd# $
Replacedd$ +
(dd+ ,
$strdd, ;
,dd; <
existCompanydd= I
.ddI J
CompanyNameddJ U
)ddU V
;ddV W
bodyBuilderee #
.ee# $
Replaceee$ +
(ee+ ,
$stree, :
,ee: ;

EnumHelperee< F
.eeF G
DescriptioneeG R
(eeR S
currentStatuseeS `
)ee` a
)eea b
;eeb c
bodyBuilderff #
.ff# $
Replaceff$ +
(ff+ ,
$strff, 8
,ff8 9

EnumHelperff: D
.ffD E
DescriptionffE P
(ffP Q
modelffQ V
.ffV W
StatusffW ]
)ff] ^
)ff^ _
;ff_ `
bodyBuildergg #
.gg# $
Replacegg$ +
(gg+ ,
$strgg, 3
,gg3 4
_customConfiggg5 B
.ggB C
FrontEndURLggC N
)ggN O
;ggO P
varii 
dataii  
=ii! "
newii# &
EmailDataModelii' 5
{ii6 7
Bodyii8 <
=ii= >
bodyBuilderii? J
.iiJ K
ToStringiiK S
(iiS T
)iiT U
,iiU V
SubjectiiW ^
=ii_ `
$str	iia 
,
ii 
ToEmail
ii‘ 
=
ii™ 
existCompany
ii› §
.
ii§ ¨
Email
ii¨ ­
}
ii® ―
;
ii― °
awaitjj 
_emailServicejj +
.jj+ ,
	SendEmailjj, 5
(jj5 6
datajj6 :
)jj: ;
;jj; <

_apiResultll "
.ll" #
Messagell# *
=ll+ ,
$strll- f
;llf g
}mm 
}nn 
elseoo 
{pp 

_apiResultqq 
.qq 
	IsSuccessqq (
=qq) *
falseqq+ 0
;qq0 1

_apiResultrr 
.rr 
Messagerr &
=rr' (
$strrr) F
;rrF G
}ss 
}tt 
returnvv 
Okvv 
(vv 

_apiResultvv  
)vv  !
;vv! "
}ww 	
[~~ 	
HttpPost~~	 
]~~ 
[ 	
	Authorize	 
( 
Roles 
= 
$str $
)$ %
]% &
public
€€ 
async
€€ 
Task
€€ 
<
€€ 
IActionResult
€€ '
>
€€' (
Post
€€) -
(
€€- .
AddCompanyModel
€€. =
model
€€> C
)
€€C D
{
 	
var
ƒƒ 
exist
ƒƒ 
=
ƒƒ 
await
ƒƒ 
_companyService
ƒƒ -
.
ƒƒ- .

GetCompany
ƒƒ. 8
(
ƒƒ8 9
new
ƒƒ9 <
Company
ƒƒ= D
{
„„ 
Email
…… 
=
…… 
model
…… 
.
…… 
Email
…… #
,
……# $
}
†† 
)
†† 
;
†† 
if
‡‡ 
(
‡‡ 
exist
‡‡ 
is
‡‡ 
not
‡‡ 
null
‡‡ !
)
‡‡! "
{
 

_apiResult
‰‰ 
.
‰‰ 
	IsSuccess
‰‰ $
=
‰‰% &
false
‰‰' ,
;
‰‰, -

_apiResult
 
.
 
Message
 "
=
# $
$str
% @
;
@ A
return
‹‹ 
Ok
‹‹ 
(
‹‹ 

_apiResult
‹‹ $
)
‹‹$ %
;
‹‹% &
}
 
var
 

newCompany
 
=
 
_mapper
 $
.
$ %
Map
% (
<
( )
Company
) 0
>
0 1
(
1 2
model
2 7
)
7 8
;
8 9
var
 
data
 
=
 
await
 
_companyService
 ,
.
, -

AddCompany
- 7
(
7 8

newCompany
8 B
)
B C
;
C D
if
 
(
 
data
 
is
 
not
 
null
  
)
  !
{
 

_apiResult
‘‘ 
.
‘‘ 
Message
‘‘ "
=
‘‘# $
$str
‘‘% ?
;
‘‘? @

_apiResult
’’ 
.
’’ 
Data
’’ 
=
’’  !
data
’’" &
;
’’& '

_apiResult
““ 
.
““ 
	IsSuccess
““ $
=
““% &
true
““' +
;
““+ ,
}
”” 
else
•• 
{
–– 

_apiResult
—— 
.
—— 
Message
—— "
=
——# $
$str
——% <
;
——< =

_apiResult
 
.
 
	IsSuccess
 $
=
% &
false
' ,
;
, -
}
™™ 
return
 
Ok
 
(
 

_apiResult
  
)
  !
;
! "
}
›› 	
[
ΆΆ 	
HttpGet
ΆΆ	 
(
ΆΆ 
$str
ΆΆ -
)
ΆΆ- .
]
ΆΆ. /
[
££ 	
	Authorize
££	 
(
££ 
Roles
££ 
=
££ 
$str
££ %
)
££% &
]
££& '
public
¤¤ 
async
¤¤ 
Task
¤¤ 
<
¤¤ 
IActionResult
¤¤ '
>
¤¤' (
Profile
¤¤) 0
(
¤¤0 1
)
¤¤1 2
{
¥¥ 	
var
¦¦ 
	existUser
¦¦ 
=
¦¦ 
await
¦¦ !
_userService
¦¦" .
.
¦¦. /
GetUser
¦¦/ 6
(
¦¦6 7
new
¦¦7 :
User
¦¦; ?
{
¦¦@ A
Username
¦¦B J
=
¦¦K L
Username
¦¦M U
}
¦¦V W
)
¦¦W X
;
¦¦X Y

_apiResult
¨¨ 
.
¨¨ 
Data
¨¨ 
=
¨¨ 
await
¨¨ #
_companyService
¨¨$ 3
.
¨¨3 4
GetCompanyByUser
¨¨4 D
(
¨¨D E
	existUser
¨¨E N
)
¨¨N O
;
¨¨O P

_apiResult
©© 
.
©© 
Message
©© 
=
©©  
$str
©©! 9
;
©©9 :
return
«« 
Ok
«« 
(
«« 

_apiResult
««  
)
««  !
;
««! "
}
¬¬ 	
[
²² 	
HttpGet
²²	 
(
²² 
$str
²²  
)
²²  !
]
²²! "
[
³³ 	
AllowAnonymous
³³	 
]
³³ 
public
΄΄ 
async
΄΄ 
Task
΄΄ 
<
΄΄ 
IActionResult
΄΄ '
>
΄΄' (
GetTopCompanies
΄΄) 8
(
΄΄8 9
)
΄΄9 :
{
µµ 	

_apiResult
¶¶ 
.
¶¶ 
Data
¶¶ 
=
¶¶ 
await
¶¶ #
_companyService
¶¶$ 3
.
¶¶3 4
GetTopCompanies
¶¶4 C
(
¶¶C D
)
¶¶D E
;
¶¶E F
return
ΈΈ 
Ok
ΈΈ 
(
ΈΈ 

_apiResult
ΈΈ  
)
ΈΈ  !
;
ΈΈ! "
}
ΉΉ 	
[
ΐΐ 	
HttpGet
ΐΐ	 
(
ΐΐ 
$str
ΐΐ 
)
ΐΐ 
]
ΐΐ 
public
ΑΑ 
async
ΑΑ 
Task
ΑΑ 
<
ΑΑ 
IActionResult
ΑΑ '
>
ΑΑ' (
Get
ΑΑ) ,
(
ΑΑ, -
long
ΑΑ- 1
id
ΑΑ2 4
)
ΑΑ4 5
{
ΒΒ 	
var
ΓΓ 
existCompany
ΓΓ 
=
ΓΓ 
await
ΓΓ $
_companyService
ΓΓ% 4
.
ΓΓ4 5

GetCompany
ΓΓ5 ?
(
ΓΓ? @
new
ΓΓ@ C
Company
ΓΓD K
{
ΓΓL M
Id
ΓΓN P
=
ΓΓQ R
id
ΓΓS U
}
ΓΓV W
)
ΓΓW X
??
ΔΔ  "
throw
ΔΔ# (
new
ΔΔ) ,
EWException
ΔΔ- 8
(
ΔΔ8 9
$str
ΔΔ9 T
)
ΔΔT U
;
ΔΔU V
var
ΖΖ 
recruitmentPosts
ΖΖ  
=
ΖΖ! "
await
ΖΖ# (%
_recruitmentPostService
ΖΖ) @
.
ΖΖ@ A*
GetRecruitmentPostsByCompany
ΖΖA ]
(
ΖΖ] ^
existCompany
ΖΖ^ j
)
ΖΖj k
;
ΖΖk l

_apiResult
ΘΘ 
.
ΘΘ 
Data
ΘΘ 
=
ΘΘ 
new
ΘΘ !$
CompanyDetailViewModel
ΘΘ" 8
{
ΙΙ 
Id
ΚΚ 
=
ΚΚ 
existCompany
ΚΚ !
.
ΚΚ! "
Id
ΚΚ" $
,
ΚΚ$ %
CompanyName
ΛΛ 
=
ΛΛ 
existCompany
ΛΛ *
.
ΛΛ* +
CompanyName
ΛΛ+ 6
,
ΛΛ6 7
CompanyType
ΜΜ 
=
ΜΜ 
existCompany
ΜΜ *
.
ΜΜ* +
CompanyType
ΜΜ+ 6
,
ΜΜ6 7
PhoneNumber
ΝΝ 
=
ΝΝ 
existCompany
ΝΝ *
.
ΝΝ* +
PhoneNumber
ΝΝ+ 6
,
ΝΝ6 7
Email
ΞΞ 
=
ΞΞ 
existCompany
ΞΞ $
.
ΞΞ$ %
Email
ΞΞ% *
,
ΞΞ* +
Address
ΟΟ 
=
ΟΟ 
existCompany
ΟΟ &
.
ΟΟ& '
Address
ΟΟ' .
,
ΟΟ. /
	AvatarUrl
ΠΠ 
=
ΠΠ 
existCompany
ΠΠ (
.
ΠΠ( )
	AvatarUrl
ΠΠ) 2
,
ΠΠ2 3
Country
ΡΡ 
=
ΡΡ 
existCompany
ΡΡ &
.
ΡΡ& '
Country
ΡΡ' .
,
ΡΡ. /
TeamSize
 
=
 
existCompany
 '
.
' (
TeamSize
( 0
,
0 1
Description
ΣΣ 
=
ΣΣ 
existCompany
ΣΣ *
.
ΣΣ* +
Description
ΣΣ+ 6
,
ΣΣ6 7
Posts
ΤΤ 
=
ΤΤ 
recruitmentPosts
ΤΤ (
.
ΤΤ( )
OrderByDescending
ΤΤ) :
(
ΤΤ: ;
item
ΤΤ; ?
=>
ΤΤ@ B
item
ΤΤC G
.
ΤΤG H
CreatedDate
ΤΤH S
)
ΤΤS T
.
ΤΤT U
Select
ΤΤU [
(
ΤΤ[ \
post
ΤΤ\ `
=>
ΤΤa c
new
ΤΤd g,
RecruitmentPostShortViewModelΤΤh …
{
ΥΥ 
Id
ΦΦ 
=
ΦΦ 
post
ΦΦ 
.
ΦΦ 
Id
ΦΦ  
,
ΦΦ  !
JobTitle
ΧΧ 
=
ΧΧ 
post
ΧΧ #
.
ΧΧ# $
JobTitle
ΧΧ$ ,
,
ΧΧ, -

SalaryType
ΨΨ 
=
ΨΨ  
post
ΨΨ! %
.
ΨΨ% &

SalaryType
ΨΨ& 0
,
ΨΨ0 1

SalaryFrom
ΩΩ 
=
ΩΩ  
post
ΩΩ! %
.
ΩΩ% &

SalaryFrom
ΩΩ& 0
,
ΩΩ0 1
SalaryTo
ΪΪ 
=
ΪΪ 
post
ΪΪ #
.
ΪΪ# $
SalaryTo
ΪΪ$ ,
,
ΪΪ, -
Currency
ΫΫ 
=
ΫΫ 
post
ΫΫ #
.
ΫΫ# $
Currency
ΫΫ$ ,
,
ΫΫ, -

TechStacks
άά 
=
άά  
post
άά! %
.
άά% &

TechStacks
άά& 0
,
άά0 1
YearExperience
έέ "
=
έέ# $
post
έέ% )
.
έέ) *
YearExperience
έέ* 8
,
έέ8 9
JobDescription
ήή "
=
ήή# $
post
ήή% )
.
ήή) *
JobDescription
ήή* 8
,
ήή8 9
UpdatedDate
ίί 
=
ίί  !
post
ίί" &
.
ίί& '
UpdatedDate
ίί' 2
,
ίί2 3
	AvatarUrl
ΰΰ 
=
ΰΰ 
existCompany
ΰΰ  ,
.
ΰΰ, -
	AvatarUrl
ΰΰ- 6
,
ΰΰ6 7
WorkingType
αα 
=
αα  !
post
αα" &
.
αα& '
WorkingType
αα' 2
,
αα2 3
CompanyType
ββ 
=
ββ  !
existCompany
ββ" .
.
ββ. /
CompanyType
ββ/ :
,
ββ: ;
CompanyName
γγ 
=
γγ  !
existCompany
γγ" .
.
γγ. /
CompanyName
γγ/ :
}
δδ 
)
δδ 
.
δδ 
ToList
δδ 
(
δδ 
)
δδ 
,
δδ 
}
εε 
;
εε 

_apiResult
ζζ 
.
ζζ 
	IsSuccess
ζζ  
=
ζζ! "
true
ζζ# '
;
ζζ' (

_apiResult
ηη 
.
ηη 
Message
ηη 
=
ηη  
$str
ηη! 9
;
ηη9 :
return
ιι 
Ok
ιι 
(
ιι 

_apiResult
ιι  
)
ιι  !
;
ιι! "
}
κκ 	
}
λλ 
}μμ σZ
AD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\DocumentsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
DocumentsController $
:% &
ControllerBase' 5
{ 
private 
readonly 
IUserCVService '
_userCVService( 6
;6 7
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public 
DocumentsController "
(" #
IUserCVService 
userCVService (
,( )
IUserService 
userService $
,$ %
IProfileSerivce 
profileSerivce *
) 	
{ 	
_userCVService 
= 
userCVService *
;* +
_userService 
= 
userService &
;& '
_profileSerivce   
=   
profileSerivce   ,
;  , -

_apiResult!! 
=!! 
new!! 
(!! 
)!! 
;!! 
}"" 	
[(( 	
HttpGet((	 
](( 
[)) 	
	Authorize))	 
()) 
Roles)) 
=)) 
$str)) $
)))$ %
]))% &
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
Get**) ,
(**, -
)**- .
{++ 	
var,, 
user,, 
=,, 
await,, 
_userService,, )
.,,) *
GetUser,,* 1
(,,1 2
new,,2 5
User,,6 :
{,,; <
Username,,= E
=,,F G
Username,,H P
},,Q R
),,R S
;,,S T
var-- 
dataCV-- 
=-- 
await-- 
_userCVService-- -
.--- .
GetUserCVsByUser--. >
(--> ?
user--? C
)--C D
;--D E

_apiResult.. 
... 
Data.. 
=.. 
new.. ! 
UserProfileViewModel.." 6
{// 
Experiences00 
=00 
user00 "
.00" #

Experences00# -
,00- .
CVs11 
=11 
dataCV11 
.11 
OrderByDescending11 .
(11. /
item11/ 3
=>114 6
item117 ;
.11; <
CreatedDate11< G
)11G H
.11H I
ToList11I O
(11O P
)11P Q
,11Q R
CoverLetter22 
=22 
user22 "
.22" #
CoverLetter22# .
,22. /
}33 
;33 
return44 
Ok44 
(44 

_apiResult44  
)44  !
;44! "
}55 	
[<< 	
HttpPut<<	 
(<< 
$str<< &
)<<& '
]<<' (
[== 	
	Authorize==	 
(== 
Roles== 
=== 
$str== $
)==$ %
]==% &
public>> 
async>> 
Task>> 
<>> 
IActionResult>> '
>>>' (
UpdateCoverLetter>>) :
(>>: ;"
UpdateCoverLetterModel>>; Q
model>>R W
)>>W X
{?? 	
var@@ 
user@@ 
=@@ 
await@@ 
_userService@@ )
.@@) *
GetUser@@* 1
(@@1 2
new@@2 5
User@@6 :
{@@; <
Username@@= E
=@@F G
Username@@H P
}@@Q R
)@@R S
;@@S T
ifAA 
(AA 
userAA 
isAA 
nullAA 
)AA 
{BB 

_apiResultCC 
.CC 
	IsSuccessCC $
=CC% &
falseCC' ,
;CC, -

_apiResultDD 
.DD 
MessageDD "
=DD# $
$strDD% G
;DDG H
}EE 
elseFF 
{GG 
userHH 
.HH 
CoverLetterHH  
=HH! "
modelHH# (
.HH( )
CoverLetterHH) 4
;HH4 5
varJJ 
updateResultJJ  
=JJ! "
awaitJJ# (
_userServiceJJ) 5
.JJ5 6

UpdateUserJJ6 @
(JJ@ A
userJJA E
)JJE F
;JJF G

_apiResultKK 
.KK 
	IsSuccessKK $
=KK% &
updateResultKK' 3
;KK3 4
ifLL 
(LL 
updateResultLL  
)LL  !
{MM 

_apiResultNN 
.NN 
DataNN #
=NN$ %
modelNN& +
.NN+ ,
CoverLetterNN, 7
;NN7 8

_apiResultOO 
.OO 
MessageOO &
=OO' (
$strOO) M
;OOM N
}PP 
elseQQ 
{RR 

_apiResultSS 
.SS 
MessageSS &
=SS' (
$strSS) K
;SSK L
}TT 
}UU 
returnVV 
OkVV 
(VV 

_apiResultVV  
)VV  !
;VV! "
}WW 	
[^^ 	

HttpDelete^^	 
(^^ 
$str^^ 
)^^  
]^^  !
[__ 	
	Authorize__	 
(__ 
Roles__ 
=__ 
$str__ $
)__$ %
]__% &
public`` 
async`` 
Task`` 
<`` 
IActionResult`` '
>``' (
RemoveCVUser``) 5
(``5 6
long``6 :
Id``; =
)``= >
{aa 	
varbb 
existbb 
=bb 
awaitbb 
_userCVServicebb ,
.bb, -
GetUserCVByInfobb- <
(bb< =
newbb= @
UserCVbbA G
{bbH I
IdbbJ L
=bbM N
IdbbO Q
}bbR S
)bbS T
;bbT U
ifcc 
(cc 
existcc 
iscc 
nullcc 
)cc 
{dd 

_apiResultee 
.ee 
	IsSuccessee $
=ee% &
falseee' ,
;ee, -

_apiResultff 
.ff 
Messageff "
=ff# $
$strff% C
;ffC D
returngg 
Okgg 
(gg 

_apiResultgg $
)gg$ %
;gg% &
}ii 

_apiResultjj 
.jj 
	IsSuccessjj  
=jj! "
awaitjj# (
_userCVServicejj) 7
.jj7 8
RemoveCVjj8 @
(jj@ A
existjjA F
)jjF G
;jjG H
ifkk 
(kk 

_apiResultkk 
.kk 
	IsSuccesskk $
)kk$ %
{ll 

_apiResultmm 
.mm 
Messagemm "
=mm# $
$strmm% <
;mm< =

_apiResultnn 
.nn 
Datann 
=nn  !
existnn" '
;nn' (
}oo 
elsepp 
{qq 

_apiResultrr 
.rr 
Messagerr "
=rr# $
$strrr% ;
;rr; <
}ss 
returntt 
Oktt 
(tt 

_apiResulttt  
)tt  !
;tt! "
}uu 	
[|| 	
HttpPut||	 
]|| 
[}} 	
	Authorize}}	 
(}} 
Roles}} 
=}} 
$str}} $
)}}$ %
]}}% &
public~~ 
async~~ 
Task~~ 
<~~ 
IActionResult~~ '
>~~' (
Put~~) ,
(~~, -
ChangeStatusCVModel~~- @
model~~A F
)~~F G
{ 	
var
€€ 
	currentCV
€€ 
=
€€ 
await
€€ !
_userCVService
€€" 0
.
€€0 1
GetUserCVByInfo
€€1 @
(
€€@ A
new
€€A D
UserCV
€€E K
{
€€L M
Id
€€N P
=
€€Q R
model
€€S X
.
€€X Y
Id
€€Y [
}
€€\ ]
)
€€] ^
;
€€^ _
if
 
(
 
	currentCV
 
is
 
not
  
null
! %
&&
& (
	currentCV
) 2
.
2 3
User
3 7
.
7 8
Username
8 @
==
A C
Username
D L
)
L M
{
‚‚ 
var
ƒƒ 
profile
ƒƒ 
=
ƒƒ 
await
ƒƒ #
_profileSerivce
ƒƒ$ 3
.
ƒƒ3 4

GetProfile
ƒƒ4 >
(
ƒƒ> ?
new
ƒƒ? B
User
ƒƒC G
{
ƒƒH I
Username
ƒƒJ R
=
ƒƒS T
Username
ƒƒU ]
}
ƒƒ^ _
)
ƒƒ_ `
;
ƒƒ` a
if
„„ 
(
„„ 
profile
„„ 
is
„„ 
not
„„ "
null
„„# '
&&
„„( *
profile
„„+ 2
.
„„2 3
IsOpenForWork
„„3 @
&&
„„A C
	currentCV
„„D M
.
„„M N
Featured
„„N V
&&
„„W Y
!
„„Z [
model
„„[ `
.
„„` a
Featured
„„a i
)
„„i j
{
…… 

_apiResult
†† 
.
†† 
Message
†† &
=
††' (
$str
††) i
;
††i j

_apiResult
‡‡ 
.
‡‡ 
	IsSuccess
‡‡ (
=
‡‡) *
false
‡‡+ 0
;
‡‡0 1
return
 
Ok
 
(
 

_apiResult
 (
)
( )
;
) *
}
‰‰ 
	currentCV
 
.
 
Featured
 "
=
# $
model
% *
.
* +
Featured
+ 3
;
3 4

_apiResult
‹‹ 
.
‹‹ 
	IsSuccess
‹‹ $
=
‹‹% &
await
‹‹' ,
_userCVService
‹‹- ;
.
‹‹; <
UpdateFeaturedCV
‹‹< L
(
‹‹L M
	currentCV
‹‹M V
)
‹‹V W
;
‹‹W X
if
 
(
 

_apiResult
 
.
 
	IsSuccess
 (
)
( )
{
 

_apiResult
 
.
 
Message
 &
=
' (
$str
) G
;
G H

_apiResult
 
.
 
Data
 #
=
$ %
model
& +
;
+ ,
}
 
else
‘‘ 
{
’’ 

_apiResult
““ 
.
““ 
Message
““ &
=
““' (
$str
““) E
;
““E F
}
”” 
}
•• 
else
–– 
{
—— 

_apiResult
 
.
 
Message
 "
=
# $
$str
% >
;
> ?

_apiResult
™™ 
.
™™ 
	IsSuccess
™™ $
=
™™% &
false
™™' ,
;
™™, -
}
 
return
›› 
Ok
›› 
(
›› 

_apiResult
››  
)
››  !
;
››! "
}
 	
}
 
} ‚:
BD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\EducationsController.cs
	namespace

 	
EW


 
.

 
WebAPI

 
.

 
Controllers

 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class  
EducationsController %
:& '
ControllerBase( 6
{ 
private 
readonly 
IEducationService *
_educationService+ <
;< =
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public  
EducationsController #
(# $
IEducationService 
educationService .
,. /
IProfileSerivce 
profileSerivce *
) 	
{ 	
_educationService 
= 
educationService  0
;0 1
_profileSerivce 
= 
profileSerivce ,
;, -

_apiResult 
= 
new 
( 
) 
; 
} 	
[## 	
	Authorize##	 
(## 
Roles## 
=## 
$str## $
)##$ %
]##% &
[$$ 	
HttpPost$$	 
]$$ 
public%% 
async%% 
Task%% 
<%% 
IActionResult%% '
>%%' (
Post%%) -
(%%- .
AddEducationModel%%. ?
model%%@ E
)%%E F
{&& 	
var'' 
profile'' 
='' 
await'' 
_profileSerivce''  /
.''/ 0

GetProfile''0 :
('': ;
new''; >
User''? C
{''D E
Username''F N
=''O P
Username''Q Y
}''Z [
)''[ \
;''\ ]
if(( 
((( 
profile(( 
is(( 
null(( 
)((  
{)) 

_apiResult** 
.** 
	IsSuccess** $
=**% &
false**' ,
;**, -

_apiResult++ 
.++ 
Message++ "
=++# $
$str++% L
;++L M
return,, 
Ok,, 
(,, 

_apiResult,, $
),,$ %
;,,% &
}-- 
var// 
newEducation// 
=// 
new// "
	Education//# ,
{00 
	ProfileId11 
=11 
profile11 #
.11# $
Id11$ &
,11& '
Description22 
=22 
model22 #
.22# $
Description22$ /
,22/ 0
From33 
=33 
model33 
.33 
From33 !
,33! "
To44 
=44 
model44 
.44 
To44 
,44 
OrgName55 
=55 
model55 
.55  
OrgName55  '
}66 
;66 
var77 
data77 
=77 
await77 
_educationService77 .
.77. /
Add77/ 2
(772 3
newEducation773 ?
)77? @
;77@ A
if88 
(88 
data88 
is88 
null88 
)88 
{99 

_apiResult:: 
.:: 
	IsSuccess:: $
=::% &
false::' ,
;::, -

_apiResult;; 
.;; 
Message;; "
=;;# $
$str;;% A
;;;A B
return<< 
Ok<< 
(<< 

_apiResult<< $
)<<$ %
;<<% &
}== 
else>> 
{?? 

_apiResult@@ 
.@@ 
	IsSuccess@@ $
=@@% &
true@@' +
;@@+ ,

_apiResultAA 
.AA 
MessageAA "
=AA# $
$strAA% >
;AA> ?

_apiResultBB 
.BB 
DataBB 
=BB  !
dataBB" &
;BB& '
}CC 
returnEE 
OkEE 
(EE 

_apiResultEE  
)EE  !
;EE! "
}FF 	
[MM 	
	AuthorizeMM	 
(MM 
RolesMM 
=MM 
$strMM $
)MM$ %
]MM% &
[NN 	

HttpDeleteNN	 
(NN 
$strNN 
)NN 
]NN 
publicOO 
asyncOO 
TaskOO 
<OO 
IActionResultOO '
>OO' (
DeleteOO) /
(OO/ 0
longOO0 4
idOO5 7
)OO7 8
{PP 	

_apiResultQQ 
.QQ 
	IsSuccessQQ  
=QQ! "
awaitQQ# (
_educationServiceQQ) :
.QQ: ;
DeleteQQ; A
(QQA B
newQQB E
	EducationQQF O
{QQP Q
IdQQR T
=QQU V
idQQW Y
}QQZ [
)QQ[ \
;QQ\ ]
ifRR 
(RR 

_apiResultRR 
.RR 
	IsSuccessRR $
)RR$ %
{SS 

_apiResultTT 
.TT 
MessageTT "
=TT# $
$strTT% =
;TT= >

_apiResultUU 
.UU 
DataUU 
=UU  !
newUU" %
	EducationUU& /
{UU0 1
IdUU2 4
=UU5 6
idUU7 9
}UU: ;
;UU; <
}VV 
elseWW 
{XX 

_apiResultYY 
.YY 
MessageYY "
=YY# $
$strYY% ;
;YY; <
}ZZ 
return\\ 
Ok\\ 
(\\ 

_apiResult\\  
)\\  !
;\\! "
}]] 	
[dd 	
	Authorizedd	 
(dd 
Rolesdd 
=dd 
$strdd $
)dd$ %
]dd% &
[ee 	
HttpPutee	 
]ee 
publicff 
asyncff 
Taskff 
<ff 
IActionResultff '
>ff' (
Putff) ,
(ff, -
	Educationff- 6
modelff7 <
)ff< =
{gg 	

_apiResulthh 
.hh 
	IsSuccesshh  
=hh! "
awaithh# (
_educationServicehh) :
.hh: ;
Updatehh; A
(hhA B
modelhhB G
)hhG H
;hhH I
ifii 
(ii 

_apiResultii 
.ii 
	IsSuccessii $
)ii$ %
{jj 

_apiResultkk 
.kk 
Messagekk "
=kk# $
$strkk% B
;kkB C

_apiResultll 
.ll 
Datall 
=ll  !
modelll" '
;ll' (
}mm 
elsenn 
{oo 

_apiResultpp 
.pp 
Messagepp "
=pp# $
$strpp% @
;pp@ A
}qq 
returnss 
Okss 
(ss 

_apiResultss  
)ss  !
;ss! "
}tt 	
}uu 
}vv ‡d
?D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\ProfileController.cs
	namespace		 	
EW		
 
.		 
WebAPI		 
.		 
Controllers		 
{

 
[ 
Route 

(
 
$str 
) 
] 
[ 
	Authorize 
] 
[ 
ApiController 
] 
public 

class 
ProfileController "
:# $
ControllerBase% 3
{ 
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IUserCVService '
_userCVService( 6
;6 7
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public 
ProfileController  
(  !
IUserService 
userService $
,$ %
IUserCVService 
userCVService (
,( )
IProfileSerivce 
profileSerivce *
) 	
{ 	
_userService 
= 
userService &
;& '
_userCVService 
= 
userCVService *
;* +
_profileSerivce 
= 
profileSerivce ,
;, -

_apiResult   
=   
new   
(   
)   
;   
}!! 	
[(( 	
	Authorize((	 
((( 
Roles(( 
=(( 
$str(( $
)(($ %
]((% &
[)) 	
HttpGet))	 
()) 
$str)) !
)))! "
]))" #
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
MyInformation**) 6
(**6 7
)**7 8
{++ 	
var,, 
profile,, 
=,, 
await,, 
_profileSerivce,,  /
.,,/ 0

GetProfile,,0 :
(,,: ;
new,,; >
User,,? C
{,,D E
Username,,F N
=,,O P
Username,,Q Y
},,Z [
),,[ \
;,,\ ]
if-- 
(-- 
profile-- 
is-- 
null-- 
)--  
{.. 
var// 
initProfile// 
=//  !
await//" '
_profileSerivce//( 7
.//7 8
InitProfile//8 C
(//C D
new//D G
User//H L
{//M N
Username//O W
=//X Y
Username//Z b
}//c d
)//d e
;//e f

_apiResult00 
.00 
	IsSuccess00 $
=00% &
true00' +
;00+ ,

_apiResult11 
.11 
Message11 "
=11# $
$str11% =
;11= >

_apiResult22 
.22 
Data22 
=22  !
initProfile22" -
;22- .
}33 
else44 
{55 

_apiResult66 
.66 
	IsSuccess66 $
=66% &
true66' +
;66+ ,

_apiResult77 
.77 
Message77 "
=77# $
$str77% =
;77= >

_apiResult88 
.88 
Data88 
=88  !
profile88" )
;88) *
}99 
return;; 
Ok;; 
(;; 

_apiResult;;  
);;  !
;;;! "
}<< 	
[CC 	
	AuthorizeCC	 
(CC 
RolesCC 
=CC 
$strCC $
)CC$ %
]CC% &
[DD 	
HttpPutDD	 
(DD 
$strDD 
)DD 
]DD 
publicEE 
asyncEE 
TaskEE 
<EE 
IActionResultEE '
>EE' (
EditContactEE) 4
(EE4 5
ContactModelEE5 A
modelEEB G
)EEG H
{FF 	
varGG 
profileGG 
=GG 
awaitGG 
_profileSerivceGG  /
.GG/ 0

GetProfileGG0 :
(GG: ;
newGG; >
UserGG? C
{GGD E
UsernameGGF N
=GGO P
UsernameGGQ Y
}GGZ [
)GG[ \
;GG\ ]
ifHH 
(HH 
profileHH 
isHH 
nullHH 
)HH  
{II 

_apiResultJJ 
.JJ 
	IsSuccessJJ $
=JJ% &
falseJJ' ,
;JJ, -

_apiResultKK 
.KK 
MessageKK "
=KK# $
$strKK% L
;KKL M
returnMM 
OkMM 
(MM 

_apiResultMM $
)MM$ %
;MM% &
}NN 
profileOO 
.OO 
EmailContactOO  
=OO! "
modelOO# (
.OO( )
EmailContactOO) 5
;OO5 6
profilePP 
.PP 
PhoneNumberPP 
=PP  !
modelPP" '
.PP' (
PhoneNumberPP( 3
;PP3 4
profileQQ 
.QQ 
GithubQQ 
=QQ 
modelQQ "
.QQ" #
GithubQQ# )
;QQ) *
profileRR 
.RR 
LinkedinRR 
=RR 
modelRR $
.RR$ %
LinkedinRR% -
;RR- .
profileSS 
.SS 
AddressSS 
=SS 
modelSS #
.SS# $
AddressSS$ +
;SS+ ,
profileTT 
.TT 
	ObjectiveTT 
=TT 
modelTT  %
.TT% &
	ObjectiveTT& /
;TT/ 0
profileUU 
.UU 
SkillsUU 
=UU 
modelUU "
.UU" #
SkillsUU# )
;UU) *

_apiResultVV 
.VV 
	IsSuccessVV  
=VV! "
awaitVV# (
_profileSerivceVV) 8
.VV8 9
UpdateProfileVV9 F
(VVF G
profileVVG N
)VVN O
;VVO P
ifWW 
(WW 

_apiResultWW 
.WW 
	IsSuccessWW $
)WW$ %
{XX 

_apiResultYY 
.YY 
DataYY 
=YY  !
profileYY" )
;YY) *

_apiResultZZ 
.ZZ 
MessageZZ "
=ZZ# $
$strZZ% D
;ZZD E
}[[ 
else\\ 
{]] 

_apiResult^^ 
.^^ 
Message^^ "
=^^# $
$str^^% B
;^^B C
}__ 
returnaa 
Okaa 
(aa 

_apiResultaa  
)aa  !
;aa! "
}bb 	
[hh 	
	Authorizehh	 
(hh 
Roleshh 
=hh 
$strhh $
)hh$ %
]hh% &
[ii 	
HttpPutii	 
(ii 
$strii .
)ii. /
]ii/ 0
publicjj 
asyncjj 
Taskjj 
<jj 
IActionResultjj '
>jj' (#
UpdateStatusOpenForWorkjj) @
(jj@ A
UpdateStatusModeljjA R
modeljjS X
)jjX Y
{kk 	
varll 
currrentUserll 
=ll 
awaitll $
_userServicell% 1
.ll1 2
GetUserll2 9
(ll9 :
newll: =
Userll> B
{llC D
UsernamellE M
=llN O
UsernamellP X
}llY Z
)llZ [
;ll[ \
varmm 
profilemm 
=mm 
awaitmm 
_profileSerivcemm  /
.mm/ 0

GetProfilemm0 :
(mm: ;
newmm; >
Usermm? C
{mmD E
UsernamemmF N
=mmO P
UsernamemmQ Y
}mmZ [
)mm[ \
;mm\ ]
ifnn 
(nn 
profilenn 
isnn 
nullnn 
)nn  
{oo 

_apiResultpp 
.pp 
	IsSuccesspp $
=pp% &
falsepp' ,
;pp, -

_apiResultqq 
.qq 
Messageqq "
=qq# $
$strqq% L
;qqL M
returnrr 
Okrr 
(rr 

_apiResultrr $
)rr$ %
;rr% &
}ss 
ifuu 
(uu 
stringuu 
.uu 
IsNullOrEmptyuu $
(uu$ %
profileuu% ,
.uu, -
PhoneNumberuu- 8
)uu8 9
||vv 
stringvv 
.vv 
IsNullOrEmptyvv '
(vv' (
profilevv( /
.vv/ 0
	Objectivevv0 9
)vv9 :
||ww 
stringww 
.ww 
IsNullOrEmptyww '
(ww' (
profileww( /
.ww/ 0
Skillsww0 6
)ww6 7
)ww7 8
{xx 

_apiResultyy 
.yy 
	IsSuccessyy $
=yy% &
falseyy' ,
;yy, -

_apiResultzz 
.zz 
Messagezz "
=zz# $
$strzz% i
;zzi j
return|| 
Ok|| 
(|| 

_apiResult|| $
)||$ %
;||% &
}}} 
var~~ 
	cvsOfUser~~ 
=~~ 
await~~ !
_userCVService~~" 0
.~~0 1
GetUserCVsByUser~~1 A
(~~A B
currrentUser~~B N
)~~N O
;~~O P
if 
( 
! 
	cvsOfUser 
. 
Where  
(  !
item! %
=>& (
item) -
.- .
Featured. 6
)6 7
.7 8
Any8 ;
(; <
)< =
)= >
{
€€ 

_apiResult
 
.
 
	IsSuccess
 $
=
% &
false
' ,
;
, -

_apiResult
‚‚ 
.
‚‚ 
Message
‚‚ "
=
‚‚# $
$str
‚‚% `
;
‚‚` a
return
„„ 
Ok
„„ 
(
„„ 

_apiResult
„„ $
)
„„$ %
;
„„% &
}
…… 
profile
†† 
.
†† 
IsOpenForWork
†† !
=
††" #
model
††$ )
.
††) *
IsOpenForWork
††* 7
;
††7 8

_apiResult
‡‡ 
.
‡‡ 
	IsSuccess
‡‡  
=
‡‡! "
await
‡‡# (
_profileSerivce
‡‡) 8
.
‡‡8 9
UpdateProfile
‡‡9 F
(
‡‡F G
profile
‡‡G N
)
‡‡N O
;
‡‡O P
if
 
(
 

_apiResult
 
.
 
	IsSuccess
 $
)
$ %
{
‰‰ 

_apiResult
 
.
 
Data
 
=
  !
profile
" )
;
) *

_apiResult
‹‹ 
.
‹‹ 
Message
‹‹ "
=
‹‹# $
model
‹‹% *
.
‹‹* +
IsOpenForWork
‹‹+ 8
?
‹‹9 :
$str
‹‹; Y
:
‹‹Z [
$str
‹‹\ z
;
‹‹z {
}
 
else
 
{
 

_apiResult
 
.
 
Message
 "
=
# $
model
% *
.
* +
IsOpenForWork
+ 8
?
9 :
$str
; W
:
X Y
$str
Z v
;
v w
}
 
return
’’ 
Ok
’’ 
(
’’ 

_apiResult
’’  
)
’’  !
;
’’! "
}
““ 	
[
 	
HttpGet
	 
(
 
$str
 /
)
/ 0
]
0 1
[
™™ 	
AllowAnonymous
™™	 
]
™™ 
public
 
async
 
Task
 
<
 
IActionResult
 '
>
' (%
GetCandidateOpenForWork
) @
(
@ A
)
A B
{
›› 	

_apiResult
 
.
 
Data
 
=
 
await
 #
_profileSerivce
$ 3
.
3 4$
GetProfileOpenForWorks
4 J
(
J K
)
K L
;
L M

_apiResult
 
.
 
	IsSuccess
  
=
! "
true
# '
;
' (

_apiResult
 
.
 
Message
 
=
  
$str
! 9
;
9 :
return
   
Ok
   
(
   

_apiResult
    
)
    !
;
  ! "
}
΅΅ 	
}
ΆΆ 
}££ 9
@D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\ProjectsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ProjectsController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
IProjectService (
_projectService) 8
;8 9
private 
readonly 
IMapper  
_mapper! (
;( )
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public 
ProjectsController !
(! "
IProfileSerivce 
profileSerivce *
,* +
IProjectService 
projectService *
,* +
IMapper 
mapper 
) 	
{ 	
_profileSerivce 
= 
profileSerivce ,
;, -
_projectService 
= 
projectService ,
;, -
_mapper   
=   
mapper   
;   

_apiResult!! 
=!! 
new!! 
(!! 
)!! 
;!! 
}"" 	
[(( 	
	Authorize((	 
((( 
Roles(( 
=(( 
$str(( $
)(($ %
]((% &
[)) 	
HttpPost))	 
])) 
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
Post**) -
(**- .
AddProjectModel**. =
model**> C
)**C D
{++ 	
var,, 
profile,, 
=,, 
await,, 
_profileSerivce,,  /
.,,/ 0

GetProfile,,0 :
(,,: ;
new,,; >
User,,? C
{,,D E
Username,,F N
=,,O P
Username,,Q Y
},,Z [
),,[ \
;,,\ ]
if-- 
(-- 
profile-- 
is-- 
null-- 
)--  
{.. 

_apiResult// 
.// 
	IsSuccess// $
=//% &
false//' ,
;//, -

_apiResult00 
.00 
Message00 "
=00# $
$str00% L
;00L M
return11 
Ok11 
(11 

_apiResult11 $
)11$ %
;11% &
}22 
var33 

newProject33 
=33 
_mapper33 $
.33$ %
Map33% (
<33( )
Project33) 0
>330 1
(331 2
model332 7
)337 8
;338 9

newProject44 
.44 
	ProfileId44  
=44! "
profile44# *
.44* +
Id44+ -
;44- .
var66 
data66 
=66 
await66 
_projectService66 ,
.66, -
Add66- 0
(660 1

newProject661 ;
)66; <
;66< =
if77 
(77 
data77 
is77 
null77 
)77 
{88 

_apiResult99 
.99 
	IsSuccess99 $
=99% &
false99' ,
;99, -

_apiResult:: 
.:: 
Message:: "
=::# $
$str::% ?
;::? @
return;; 
Ok;; 
(;; 

_apiResult;; $
);;$ %
;;;% &
}<< 
else== 
{>> 

_apiResult?? 
.?? 
	IsSuccess?? $
=??% &
true??' +
;??+ ,

_apiResult@@ 
.@@ 
Message@@ "
=@@# $
$str@@% <
;@@< =

_apiResultAA 
.AA 
DataAA 
=AA  !
dataAA" &
;AA& '
}BB 
returnDD 
OkDD 
(DD 

_apiResultDD  
)DD  !
;DD! "
}EE 	
[LL 	
	AuthorizeLL	 
(LL 
RolesLL 
=LL 
$strLL $
)LL$ %
]LL% &
[MM 	

HttpDeleteMM	 
(MM 
$strMM 
)MM 
]MM 
publicNN 
asyncNN 
TaskNN 
<NN 
IActionResultNN '
>NN' (
DeleteNN) /
(NN/ 0
longNN0 4
idNN5 7
)NN7 8
{OO 	

_apiResultPP 
.PP 
	IsSuccessPP  
=PP! "
awaitPP# (
_projectServicePP) 8
.PP8 9
DeletePP9 ?
(PP? @
newPP@ C
ProjectPPD K
{PPL M
IdPPN P
=PPQ R
idPPS U
}PPV W
)PPW X
;PPX Y
ifQQ 
(QQ 

_apiResultQQ 
.QQ 
	IsSuccessQQ $
)QQ$ %
{RR 

_apiResultSS 
.SS 
MessageSS "
=SS# $
$strSS% ;
;SS; <

_apiResultTT 
.TT 
DataTT 
=TT  !
newTT" %
ProjectTT& -
{TT. /
IdTT0 2
=TT3 4
idTT5 7
}TT8 9
;TT9 :
}UU 
elseVV 
{WW 

_apiResultXX 
.XX 
MessageXX "
=XX# $
$strXX% 9
;XX9 :
}YY 
return[[ 
Ok[[ 
([[ 

_apiResult[[  
)[[  !
;[[! "
}\\ 	
[cc 	
	Authorizecc	 
(cc 
Rolescc 
=cc 
$strcc $
)cc$ %
]cc% &
[dd 	
HttpPutdd	 
]dd 
publicee 
asyncee 
Taskee 
<ee 
IActionResultee '
>ee' (
Putee) ,
(ee, -
Projectee- 4
modelee5 :
)ee: ;
{ff 	

_apiResultgg 
.gg 
	IsSuccessgg  
=gg! "
awaitgg# (
_projectServicegg) 8
.gg8 9
Updategg9 ?
(gg? @
modelgg@ E
)ggE F
;ggF G
ifhh 
(hh 

_apiResulthh 
.hh 
	IsSuccesshh $
)hh$ %
{ii 

_apiResultjj 
.jj 
Messagejj "
=jj# $
$strjj% @
;jj@ A

_apiResultkk 
.kk 
Datakk 
=kk  !
modelkk" '
;kk' (
}ll 
elsemm 
{nn 

_apiResultoo 
.oo 
Messageoo "
=oo# $
$stroo% >
;oo> ?
}pp 
returnrr 
Okrr 
(rr 

_apiResultrr  
)rr  !
;rr! "
}ss 	
}tt 
}uu ήN
BD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\RecruitersController.cs
	namespace

 	
EW


 
.

 
WebAPI

 
.

 
Controllers

 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class  
RecruitersController %
:& '
ControllerBase( 6
{ 
private 
readonly 
IRecruiterService *
_recruiterService+ <
;< =
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
ICompanyService (
_companyService) 8
;8 9
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public  
RecruitersController #
(# $
IRecruiterService 
recruiterService .
,. /
IUserService 
userService $
,$ %
ICompanyService 
companyService *
) 	
{ 	
_recruiterService 
= 
recruiterService  0
;0 1
_userService 
= 
userService &
;& '
_companyService 
= 
companyService ,
;, -

_apiResult   
=   
new   
(   
)   
;   
}!! 	
[** 	
HttpGet**	 
(** 
$str** !
)**! "
]**" #
[++ 	
	Authorize++	 
(++ 
Roles++ 
=++ 
$str++ -
)++- .
]++. /
public,, 
async,, 
Task,, 
<,, 
IActionResult,, '
>,,' (
GetRecruiters,,) 6
(,,6 7
),,7 8
{-- 	
var.. 
currentUser.. 
=.. 
await.. #
_userService..$ 0
...0 1
GetUser..1 8
(..8 9
new..9 <
User..= A
{..B C
Username..D L
=..M N
Username..O W
}..X Y
)..Y Z
;..Z [
if// 
(// 
currentUser// 
.// 
RoleId// "
==//# %
(//& '
long//' +
)//+ ,
ERole//, 1
.//1 2
ID_Business//2 =
)//= >
{00 
var11 
currentCompany11 "
=11# $
await11% *
_companyService11+ :
.11: ;
GetCompanyByUser11; K
(11K L
currentUser11L W
)11W X
;11X Y

_apiResult22 
.22 
Data22 
=22  !
await22" '
_recruiterService22( 9
.229 :"
GetRecruitersByCompany22: P
(22P Q
currentCompany22Q _
)22_ `
;22` a
}33 
else44 
{55 

_apiResult66 
.66 
Data66 
=66  !
await66" '
_recruiterService66( 9
.669 :
GetRecruiters66: G
(66G H
)66H I
;66I J
}77 

_apiResult88 
.88 
Message88 
=88  
$str88! 9
;889 :
return99 
Ok99 
(99 

_apiResult99  
)99  !
;99! "
}:: 	
[<< 	
HttpPost<<	 
(<< 
$str<< 
)<< 
]<< 
[== 	
AllowAnonymous==	 
]== 
public>> 
async>> 
Task>> 
<>> 
IActionResult>> '
>>>' (
Register>>) 1
(>>1 2"
RegisterRecruiterModel>>2 H
model>>I N
)>>N O
{?? 	
var@@ 
exist@@ 
=@@ 
await@@ 
_companyService@@ -
.@@- .
Find@@. 2
(@@2 3
new@@3 6
Company@@7 >
{AA 
EmailBB 
=BB 
modelBB 
.BB 
EmailBB #
,BB# $
PhoneNumberCC 
=CC 
modelCC #
.CC# $
PhoneNumberCC$ /
,CC/ 0
}DD 
)DD 
;DD 

_apiResultEE 
.EE 
	IsSuccessEE  
=EE! "
awaitEE# (
_recruiterServiceEE) :
.EE: ;
AddNewRecruiterEE; J
(EEJ K
modelEEK P
)EEP Q
;EEQ R

_apiResultFF 
.FF 
MessageFF 
=FF  
$strFF! k
;FFk l
returnHH 
OkHH 
(HH 

_apiResultHH  
)HH  !
;HH! "
}II 	
[SS 	
HttpPostSS	 
(SS 
$strSS %
)SS% &
]SS& '
[TT 	
	AuthorizeTT	 
(TT 
RolesTT 
=TT 
$strTT -
)TT- .
]TT. /
publicUU 
asyncUU 
TaskUU 
<UU 
IActionResultUU '
>UU' (
AddNewRecruiterUU) 8
(UU8 9'
AddNewRecruiterAccountModelUU9 T
modelUUU Z
)UUZ [
{VV 	
varWW 
currentUserWW 
=WW 
awaitWW #
_userServiceWW$ 0
.WW0 1
GetUserWW1 8
(WW8 9
newWW9 <
UserWW= A
{WWB C
UsernameWWD L
=WWM N
UsernameWWO W
}WWX Y
)WWY Z
;WWZ [
varXX 
	existUserXX 
=XX 
awaitXX !
_userServiceXX" .
.XX. /
GetUserXX/ 6
(XX6 7
newXX7 :
UserXX; ?
{XX@ A
UsernameXXB J
=XXK L
modelXXM R
.XXR S
UsernameXXS [
,XX[ \
EmailXX] b
=XXc d
modelXXe j
.XXj k
EmailXXk p
}XXq r
)XXr s
;XXs t
ifZZ 
(ZZ 
currentUserZZ 
.ZZ 
RoleIdZZ "
==ZZ# %
(ZZ& '
longZZ' +
)ZZ+ ,
ERoleZZ, 1
.ZZ1 2
ID_BusinessZZ2 =
)ZZ= >
{[[ 
var\\ 
currentCompany\\ "
=\\# $
await\\% *
_companyService\\+ :
.\\: ;
GetCompanyByUser\\; K
(\\K L
currentUser\\L W
)\\W X
;\\X Y
if]] 
(]] 
currentCompany]] "
is]]# %
null]]& *
)]]* +
{^^ 

_apiResult__ 
.__ 
Message__ &
=__' (
$str__) `
;__` a

_apiResult`` 
.`` 
	IsSuccess`` (
=``) *
false``+ 0
;``0 1
returnbb 
Okbb 
(bb 

_apiResultbb (
)bb( )
;bb) *
}cc 
modeldd 
.dd 
	CompanyIddd 
=dd  !
currentCompanydd" 0
.dd0 1
Iddd1 3
;dd3 4
}ee 
elseff 
{gg 
varhh 
existCompanyhh  
=hh! "
awaithh# (
_companyServicehh) 8
.hh8 9

GetCompanyhh9 C
(hhC D
newhhD G
CompanyhhH O
{hhP Q
IdhhR T
=hhU V
modelhhW \
.hh\ ]
	CompanyIdhh] f
}hhg h
)hhh i
;hhi j
ifii 
(ii 
existCompanyii  
isii! #
nullii$ (
)ii( )
{jj 

_apiResultkk 
.kk 
Messagekk &
=kk' (
$strkk) `
;kk` a

_apiResultll 
.ll 
	IsSuccessll (
=ll) *
falsell+ 0
;ll0 1
returnnn 
Oknn 
(nn 

_apiResultnn (
)nn( )
;nn) *
}oo 
}pp 
ifqq 
(qq 
	existUserqq 
isqq 
notqq  
nullqq! %
)qq% &
{rr 

_apiResultss 
.ss 
Messagess "
=ss# $
$strss% c
;ssc d

_apiResulttt 
.tt 
	IsSuccesstt $
=tt% &
falsett' ,
;tt, -
returnvv 
Okvv 
(vv 

_apiResultvv $
)vv$ %
;vv% &
}ww 

_apiResultyy 
.yy 
	IsSuccessyy  
=yy! "
awaityy# (
_recruiterServiceyy) :
.yy: ;
AssignUserToCompanyyy; N
(yyN O
modelyyO T
)yyT U
;yyU V

_apiResultzz 
.zz 
Messagezz 
=zz  

_apiResultzz! +
.zz+ ,
	IsSuccesszz, 5
?zz6 7
$strzz8 [
:zz\ ]
$strzz^ 
;	zz €
if{{ 
({{ 

_apiResult{{ 
.{{ 
	IsSuccess{{ $
){{$ %
{|| 

_apiResult}} 
.}} 
Data}} 
=}}  !
await}}" '
_recruiterService}}( 9
.}}9 :
GetRecruiterByUser}}: L
(}}L M
new}}M P
User}}Q U
{}}V W
Username}}X `
=}}a b
model}}c h
.}}h i
Username}}i q
,}}q r
Email}}s x
=}}y z
model	}}{ €
.
}}€ 
Email
}} †
}
}}‡ 
)
}} ‰
;
}}‰ 
}~~ 
return
€€ 
Ok
€€ 
(
€€ 

_apiResult
€€  
)
€€  !
;
€€! "
}
 	
}
‚‚ 
}ƒƒ ε„
HD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\RecruitmentPostsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class &
RecruitmentPostsController +
:, -
ControllerBase. <
{ 
private 
readonly #
IRecruitmentPostService 0#
_recruitmentPostService1 H
;H I
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IRecruiterService *
_recruiterService+ <
;< =
private 
readonly 
ICompanyService (
_companyService) 8
;8 9
private 
readonly 
IMapper  
_mapper! (
;( )
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public &
RecruitmentPostsController )
() *#
IRecruitmentPostService #"
recruitmentPostService$ :
,: ;
IUserService 
userService $
,$ %
IRecruiterService 
recruiterService .
,. /
ICompanyService 
companyService *
,* +
IMapper   
mapper   
)!! 	
{"" 	#
_recruitmentPostService## #
=##$ %"
recruitmentPostService##& <
;##< =
_userService$$ 
=$$ 
userService$$ &
;$$& '
_recruiterService%% 
=%% 
recruiterService%%  0
;%%0 1
_companyService&& 
=&& 
companyService&& ,
;&&, -
_mapper'' 
='' 
mapper'' 
;'' 

_apiResult(( 
=(( 
new(( 
((( 
)(( 
;(( 
})) 	
[++ 	
HttpGet++	 
]++ 
[,, 	
	Authorize,,	 
(,, 
Roles,, 
=,, 
$str,, -
),,- .
],,. /
public-- 
async-- 
Task-- 
<-- 
IActionResult-- '
>--' (
Index--) .
(--. /
)--/ 0
{.. 	
var// 
currentUser// 
=// 
await// #
_userService//$ 0
.//0 1
GetUser//1 8
(//8 9
new//9 <
User//= A
{//B C
Username//D L
=//M N
Username//O W
}//X Y
)//Y Z
;//Z [

_apiResult00 
.00 
Data00 
=00 
await00 ##
_recruitmentPostService00$ ;
.00; <%
GetRecruitmentPostsByUser00< U
(00U V
currentUser00V a
)00a b
;00b c

_apiResult11 
.11 
Message11 
=11  
$str11! 9
;119 :
return33 
Ok33 
(33 

_apiResult33  
)33  !
;33! "
}44 	
[66 	
HttpPost66	 
]66 
[77 	
	Authorize77	 
(77 
Roles77 
=77 
$str77 -
)77- .
]77. /
public88 
async88 
Task88 
<88 
IActionResult88 '
>88' (
Post88) -
(88- . 
RecruitmentPostModel88. B
model88C H
)88H I
{99 	
var:: 
currentUser:: 
=:: 
await:: #
_userService::$ 0
.::0 1
GetUser::1 8
(::8 9
new::9 <
User::= A
{::B C
Username::D L
=::M N
Username::O W
}::X Y
)::Y Z
;::Z [
if;; 
(;; 
model;; 
.;; 
Id;; 
==;; 
$num;; 
);; 
{<< 
var>> 
postAdd>> 
=>> 
_mapper>> %
.>>% &
Map>>& )
<>>) *
RecruitmentPost>>* 9
>>>9 :
(>>: ;
model>>; @
)>>@ A
;>>A B
postAdd?? 
.?? 
IsActive??  
=??! "
true??# '
;??' (
postAdd@@ 
.@@ 
CreatedDate@@ #
=@@$ %
DateTimeOffset@@& 4
.@@4 5
Now@@5 8
;@@8 9
postAddAA 
.AA 
UpdatedDateAA #
=AA$ %
DateTimeOffsetAA& 4
.AA4 5
NowAA5 8
;AA8 9
postAddBB 
.BB 
	UpdatedByBB !
=BB" #
currentUserBB$ /
.BB/ 0
IdBB0 2
;BB2 3
ifDD 
(DD 
currentUserDD 
.DD  
RoleIdDD  &
==DD' )
(DD* +
longDD+ /
)DD/ 0
ERoleDD0 5
.DD5 6
ID_BusinessDD6 A
)DDA B
{EE 
varFF 
	recruiterFF !
=FF" #
awaitFF$ )
_recruiterServiceFF* ;
.FF; <
GetRecruiterByUserFF< N
(FFN O
currentUserFFO Z
)FFZ [
;FF[ \
ifGG 
(GG 
	recruiterGG !
isGG" $
nullGG% )
)GG) *
{HH 

_apiResultII "
.II" #
	IsSuccessII# ,
=II- .
falseII/ 4
;II4 5

_apiResultJJ "
.JJ" #
MessageJJ# *
=JJ+ ,
$strJJ- V
;JJV W
returnKK 
OkKK !
(KK! "

_apiResultKK" ,
)KK, -
;KK- .
}LL 
postAddMM 
.MM 
	CompanyIdMM %
=MM& '
	recruiterMM( 1
.MM1 2
CompanyMM2 9
.MM9 :
IdMM: <
;MM< =
}NN 
elseOO 
{PP 
varQQ 
companyQQ 
=QQ  !
awaitQQ" '
_companyServiceQQ( 7
.QQ7 8

GetCompanyQQ8 B
(QQB C
newQQC F
CompanyQQG N
{QQO P
IdQQQ S
=QQT U
modelQQV [
.QQ[ \
	CompanyIdQQ\ e
??QQf h
defaultQQi p
}QQq r
)QQr s
;QQs t
ifRR 
(RR 
companyRR 
isRR  "
nullRR# '
)RR' (
{SS 

_apiResultTT "
.TT" #
	IsSuccessTT# ,
=TT- .
falseTT/ 4
;TT4 5

_apiResultUU "
.UU" #
MessageUU# *
=UU+ ,
$strUU- Z
;UUZ [
returnVV 
OkVV !
(VV! "

_apiResultVV" ,
)VV, -
;VV- .
}WW 
postAddXX 
.XX 
	CompanyIdXX %
=XX& '
companyXX( /
.XX/ 0
IdXX0 2
;XX2 3
}YY 
var[[ 
data[[ 
=[[ 
await[[  #
_recruitmentPostService[[! 8
.[[8 9
Add[[9 <
([[< =
postAdd[[= D
)[[D E
;[[E F
if\\ 
(\\ 
data\\ 
is\\ 
null\\  
)\\  !
{]] 

_apiResult^^ 
.^^ 
	IsSuccess^^ (
=^^) *
false^^+ 0
;^^0 1

_apiResult__ 
.__ 
Message__ &
=__' (
$str__) L
;__L M
}`` 
elseaa 
{bb 

_apiResultcc 
.cc 
Messagecc &
=cc' (
$strcc) I
;ccI J

_apiResultdd 
.dd 
Datadd #
=dd$ %
datadd& *
;dd* +
}ee 
}ff 
elsegg 
{hh 
varii 
	existPostii 
=ii 
awaitii  %#
_recruitmentPostServiceii& =
.ii= >
GetRecruitmentPostii> P
(iiP Q
newiiQ T
RecruitmentPostiiU d
{iie f
Idiig i
=iij k
modeliil q
.iiq r
Idiir t
}iiu v
)iiv w
;iiw x
ifjj 
(jj 
	existPostjj 
isjj  
nulljj! %
)jj% &
{kk 

_apiResultll 
.ll 
	IsSuccessll (
=ll) *
falsell+ 0
;ll0 1

_apiResultmm 
.mm 
Messagemm &
=mm' (
$strmm) a
;mma b
returnnn 
Oknn 
(nn 

_apiResultnn (
)nn( )
;nn) *
}oo 
	existPostpp 
.pp 
JobTitlepp "
=pp# $
modelpp% *
.pp* +
JobTitlepp+ 3
;pp3 4
	existPostqq 
.qq 
JobDescriptionqq (
=qq) *
modelqq+ 0
.qq0 1
JobDescriptionqq1 ?
;qq? @
	existPostrr 
.rr 
Currencyrr "
=rr# $
modelrr% *
.rr* +
Currencyrr+ 3
;rr3 4
	existPostss 
.ss 
Deadliness "
=ss# $
modelss% *
.ss* +
Deadliness+ 3
;ss3 4
	existPosttt 
.tt 

SalaryTypett $
=tt% &
modeltt' ,
.tt, -

SalaryTypett- 7
;tt7 8
	existPostuu 
.uu 

SalaryFromuu $
=uu% &
modeluu' ,
.uu, -

SalaryFromuu- 7
;uu7 8
	existPostvv 
.vv 
SalaryTovv "
=vv# $
modelvv% *
.vv* +
SalaryTovv+ 3
;vv3 4
	existPostww 
.ww 
	UpdatedByww #
=ww$ %
currentUserww& 1
.ww1 2
Idww2 4
;ww4 5
	existPostxx 
.xx 

TechStacksxx $
=xx% &
modelxx' ,
.xx, -

TechStacksxx- 7
;xx7 8
	existPostyy 
.yy 
YearExperienceyy (
=yy) *
modelyy+ 0
.yy0 1
YearExperienceyy1 ?
;yy? @
	existPostzz 
.zz 
WorkingTypezz %
=zz& '
modelzz( -
.zz- .
WorkingTypezz. 9
;zz9 :

_apiResult|| 
.|| 
	IsSuccess|| $
=||% &
await||' ,#
_recruitmentPostService||- D
.||D E
Update||E K
(||K L
	existPost||L U
)||U V
;||V W
if}} 
(}} 

_apiResult}} 
.}} 
	IsSuccess}} (
)}}( )
{~~ 

_apiResult 
. 
Message &
=' (
$str) M
;M N

_apiResult
€€ 
.
€€ 
Data
€€ #
=
€€$ %
await
€€& +%
_recruitmentPostService
€€, C
.
€€C D 
GetRecruitmentPost
€€D V
(
€€V W
new
€€W Z
RecruitmentPost
€€[ j
{
€€k l
Id
€€m o
=
€€p q
model
€€r w
.
€€w x
Id
€€x z
}
€€{ |
)
€€| }
;
€€} ~
}
 
else
‚‚ 
{
ƒƒ 

_apiResult
„„ 
.
„„ 
	IsSuccess
„„ (
=
„„) *
false
„„+ 0
;
„„0 1

_apiResult
…… 
.
…… 
Message
…… &
=
……' (
$str
……) P
;
……P Q
}
†† 
}
‡‡ 
return
 
Ok
 
(
 

_apiResult
  
)
  !
;
! "
}
‰‰ 	
[
‹‹ 	

HttpDelete
‹‹	 
(
‹‹ 
$str
‹‹ 
)
‹‹ 
]
‹‹ 
[
 	
	Authorize
	 
(
 
Roles
 
=
 
$str
 -
)
- .
]
. /
public
 
async
 
Task
 
<
 
IActionResult
 '
>
' (
Delete
) /
(
/ 0
long
0 4
id
5 7
)
7 8
{
 	
var
 
exist
 
=
 
await
 %
_recruitmentPostService
 5
.
5 6 
GetRecruitmentPost
6 H
(
H I
new
I L
RecruitmentPost
M \
{
] ^
Id
_ a
=
b c
id
d f
}
g h
)
h i
;
i j
if
 
(
 
exist
 
is
 
null
 
)
 
{
‘‘ 

_apiResult
’’ 
.
’’ 
	IsSuccess
’’ $
=
’’% &
false
’’' ,
;
’’, -

_apiResult
““ 
.
““ 
Message
““ "
=
““# $
$str
““% B
;
““B C
}
”” 
else
•• 
{
–– 

_apiResult
—— 
.
—— 
	IsSuccess
—— $
=
——% &
await
——' ,%
_recruitmentPostService
——- D
.
——D E
Delete
——E K
(
——K L
exist
——L Q
)
——Q R
;
——R S

_apiResult
 
.
 
Message
 "
=
# $

_apiResult
% /
.
/ 0
	IsSuccess
0 9
?
: ;
$str
< U
:
V W
$str
X o
;
o p

_apiResult
™™ 
.
™™ 
Data
™™ 
=
™™  !
exist
™™" '
;
™™' (
}
 
return
 
Ok
 
(
 

_apiResult
  
)
  !
;
! "
}
 	
[
   	
HttpGet
  	 
(
   
$str
   
)
   
]
   
[
΅΅ 	
AllowAnonymous
΅΅	 
]
΅΅ 
public
ΆΆ 
async
ΆΆ 
Task
ΆΆ 
<
ΆΆ 
IActionResult
ΆΆ '
>
ΆΆ' (
GetJobs
ΆΆ) 0
(
ΆΆ0 1
)
ΆΆ1 2
{
££ 	
var
¤¤ 
data
¤¤ 
=
¤¤ 
await
¤¤ %
_recruitmentPostService
¤¤ 4
.
¤¤4 5
GetAll
¤¤5 ;
(
¤¤; <
)
¤¤< =
;
¤¤= >
data
¥¥ 
=
¥¥ 
data
¥¥ 
.
¥¥ 
OrderByDescending
¥¥ )
(
¥¥) *
item
¥¥* .
=>
¥¥/ 1
item
¥¥2 6
.
¥¥6 7
UpdatedDate
¥¥7 B
)
¥¥B C
.
¥¥C D
ToList
¥¥D J
(
¥¥J K
)
¥¥K L
;
¥¥L M

_apiResult
¦¦ 
.
¦¦ 
Data
¦¦ 
=
¦¦ 
_mapper
¦¦ %
.
¦¦% &
Map
¦¦& )
<
¦¦) *
IEnumerable
¦¦* 5
<
¦¦5 6+
RecruitmentPostShortViewModel
¦¦6 S
>
¦¦S T
>
¦¦T U
(
¦¦U V
data
¦¦V Z
)
¦¦Z [
;
¦¦[ \

_apiResult
¨¨ 
.
¨¨ 
Message
¨¨ 
=
¨¨  
$str
¨¨! 9
;
¨¨9 :
return
 
Ok
 
(
 

_apiResult
  
)
  !
;
! "
}
«« 	
[
­­ 	
HttpGet
­­	 
(
­­ 
$str
­­ 
)
­­ 
]
­­  
[
®® 	
AllowAnonymous
®®	 
]
®® 
public
―― 
async
―― 
Task
―― 
<
―― 
IActionResult
―― '
>
――' (
	GetDetail
――) 2
(
――2 3
long
――3 7
id
――8 :
)
――: ;
{
°° 	
var
±± 
post
±± 
=
±± 
await
±± %
_recruitmentPostService
±± 4
.
±±4 5)
GetRecruitmentPostForDetail
±±5 P
(
±±P Q
new
±±Q T
RecruitmentPost
±±U d
{
±±e f
Id
±±g i
=
±±j k
id
±±l n
}
±±o p
)
±±p q
??
²² 
throw
²²  
new
²²! $
EWException
²²% 0
(
²²0 1
$str
²²1 M
)
²²M N
;
²²N O

_apiResult
³³ 
.
³³ 
Data
³³ 
=
³³ 
post
³³ "
;
³³" #

_apiResult
΄΄ 
.
΄΄ 
Message
΄΄ 
=
΄΄  
$str
΄΄! 9
;
΄΄9 :
return
¶¶ 
Ok
¶¶ 
(
¶¶ 

_apiResult
¶¶  
)
¶¶  !
;
¶¶! "
}
·· 	
}
ΈΈ 
}ΉΉ Νy
?D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\UploadsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UploadsController "
:# $
ControllerBase% 3
{ 
private 
readonly 
ILogger  
<  !
UploadsController! 2
>2 3
_logger4 ;
;; <
private 
readonly 
IWebHostEnvironment ,
_webHostEnvironment- @
;@ A
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IUserCVService '
_userCVService( 6
;6 7
private 
readonly 
ICompanyService (
_companyService) 8
;8 9
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public 
UploadsController  
(  !
ILogger 
< 
UploadsController %
>% &
logger' -
,- .
IWebHostEnvironment 
webHostEnvironment  2
,2 3
IUserService 
userService $
,$ %
IUserCVService 
userCVService (
,( )
ICompanyService 
companyService *
) 	
{   	
_logger!! 
=!! 
logger!! 
;!! 
_webHostEnvironment"" 
=""  !
webHostEnvironment""" 4
;""4 5
_userService## 
=## 
userService## &
;##& '
_userCVService$$ 
=$$ 
userCVService$$ *
;$$* +
_companyService%% 
=%% 
companyService%% ,
;%%, -

_apiResult&& 
=&& 
new&& 
(&& 
)&& 
;&& 
}'' 	
[.. 	
	Authorize..	 
(.. 
Roles.. 
=.. 
$str.. $
)..$ %
]..% &
[// 	
HttpPost//	 
(// 
$str// !
)//! "
]//" #
public00 
async00 
Task00 
<00 
IActionResult00 '
>00' (
UploadNewCV00) 4
(004 5
[005 6
FromForm006 >
]00> ?
UploadNewCVModel00@ P
model00Q V
)00V W
{11 	
var33 
fileExtension33 
=33 
Path33  $
.33$ %
GetExtension33% 1
(331 2
model332 7
.337 8
File338 <
.33< =
FileName33= E
)33E F
;33F G
var44  
acceptExtensionFiles44 $
=44% &
new44' *
string44+ 1
[441 2
]442 3
{444 5
$str446 =
,44= >
$str44? E
,44E F
$str44G M
}44N O
;44O P
var55 
fileNameRequest55 
=55  !
model55" '
.55' (
File55( ,
.55, -
FileName55- 5
;555 6
if66 
(66 
!66  
acceptExtensionFiles66 %
.66% &
Contains66& .
(66. /
fileExtension66/ <
)66< =
)66= >
{77 

_apiResult88 
.88 
	IsSuccess88 $
=88% &
false88' ,
;88, -

_apiResult99 
.99 
Message99 "
=99# $
$str99% I
;99I J
return;; 
Ok;; 
(;; 

_apiResult;; $
);;$ %
;;;% &
}<< 
if== 
(== 
model== 
.== 
File== 
.== 
Length== !
>==" #
$num==$ ,
)==, -
{>> 

_apiResult?? 
.?? 
	IsSuccess?? $
=??% &
false??' ,
;??, -

_apiResult@@ 
.@@ 
Message@@ "
=@@# $
$str@@% J
;@@J K
returnAA 
OkAA 
(AA 

_apiResultAA $
)AA$ %
;AA% &
}BB 
varDD 
uploadModelDD 
=DD 
newDD !
ImportFileModelDD" 1
{DD2 3
FileDD4 8
=DD9 :
modelDD; @
.DD@ A
FileDDA E
,DDE F
TypeDDG K
=DDL M
	EFileTypeDDN W
.DDW X
CVDDX Z
}DD[ \
;DD\ ]
varEE 
resultUploadEE 
=EE 
awaitEE $
	WriteFileEE% .
(EE. /
uploadModelEE/ :
)EE: ;
;EE; <
varFF 
userFF 
=FF 
awaitFF 
_userServiceFF )
.FF) *
GetUserFF* 1
(FF1 2
newFF2 5
UserFF6 :
{FF; <
UsernameFF= E
=FFF G
UsernameFFH P
}FFQ R
)FFR S
;FFS T
ifHH 
(HH 
resultUploadHH 
.HH 
	IsSuccessHH &
)HH& '
{II 
varJJ 
ownerCVJJ 
=JJ 
newJJ !
UserCVJJ" (
{KK 
CVUrlLL 
=LL 
resultUploadLL (
.LL( )
PathLL) -
,LL- .
CVNameMM 
=MM 
fileNameRequestMM ,
,MM, -
UserIdNN 
=NN 
userNN !
.NN! "
IdNN" $
,NN$ %
FeaturedOO 
=OO 
falseOO $
,OO$ %
}PP 
;PP 
varRR 
resultAddCVRR 
=RR  !
awaitRR" '
_userCVServiceRR( 6
.RR6 7
AddCVRR7 <
(RR< =
ownerCVRR= D
)RRD E
;RRE F
ifSS 
(SS 
resultAddCVSS 
isSS  "
notSS# &
nullSS' +
)SS+ ,
{TT 

_apiResultUU 
.UU 
	IsSuccessUU (
=UU) *
trueUU+ /
;UU/ 0

_apiResultVV 
.VV 
MessageVV &
=VV' (
$strVV) ?
;VV? @

_apiResultWW 
.WW 
DataWW #
=WW$ %
resultAddCVWW& 1
;WW1 2
}XX 
elseYY 
{ZZ 

_apiResult[[ 
.[[ 
	IsSuccess[[ (
=[[) *
false[[+ 0
;[[0 1

_apiResult\\ 
.\\ 
Message\\ &
=\\' (
$str\\) F
;\\F G
}]] 
}__ 
else`` 
{aa 

_apiResultbb 
.bb 
	IsSuccessbb $
=bb% &
falsebb' ,
;bb, -

_apiResultcc 
.cc 
Messagecc "
=cc# $
$strcc% B
;ccB C
}dd 
returngg 
Okgg 
(gg 

_apiResultgg  
)gg  !
;gg! "
}hh 	
[oo 	
	Authorizeoo	 
(oo 
Rolesoo 
=oo 
$stroo %
)oo% &
]oo& '
[pp 	
HttpPostpp	 
(pp 
$strpp )
)pp) *
]pp* +
publicqq 
asyncqq 
Taskqq 
<qq 
IActionResultqq '
>qq' (
UploadAvatarCompanyqq) <
(qq< =
[qq= >
FromFormqq> F
]qqF G
UploadAvatarModelqqH Y
modelqqZ _
)qq_ `
{rr 	
vartt 
usertt 
=tt 
awaittt 
_userServicett )
.tt) *
GetUsertt* 1
(tt1 2
newtt2 5
Usertt6 :
{tt; <
Usernamett= E
=ttF G
UsernamettH P
}ttQ R
)ttR S
;ttS T
varuu 
companyByUseruu 
=uu 
awaituu  %
_companyServiceuu& 5
.uu5 6
GetCompanyByUseruu6 F
(uuF G
useruuG K
)uuK L
;uuL M
varvv 
fileExtensionvv 
=vv 
Pathvv  $
.vv$ %
GetExtensionvv% 1
(vv1 2
modelvv2 7
.vv7 8
Filevv8 <
.vv< =
FileNamevv= E
)vvE F
.vvF G
ToLowervvG N
(vvN O
)vvO P
;vvP Q
varww  
acceptExtensionFilesww $
=ww% &
newww' *
stringww+ 1
[ww1 2
]ww2 3
{ww4 5
$strww6 <
,ww< =
$strww> E
,wwE F
$strwwG N
,wwN O
$strwwP V
,wwV W
$strwwX ^
,ww^ _
$strww` g
}wwh i
;wwi j
ifyy 
(yy 
!yy  
acceptExtensionFilesyy %
.yy% &
Containsyy& .
(yy. /
fileExtensionyy/ <
)yy< =
)yy= >
{zz 

_apiResult{{ 
.{{ 
	IsSuccess{{ $
={{% &
false{{' ,
;{{, -

_apiResult|| 
.|| 
Message|| "
=||# $
$str||% H
;||H I
return}} 
Ok}} 
(}} 

_apiResult}} $
)}}$ %
;}}% &
}~~ 
var
€€ 
uploadModel
€€ 
=
€€ 
new
€€ !
ImportFileModel
€€" 1
{
€€2 3
File
€€4 8
=
€€9 :
model
€€; @
.
€€@ A
File
€€A E
,
€€E F
Type
€€G K
=
€€L M
	EFileType
€€N W
.
€€W X
CompanyAvatar
€€X e
}
€€f g
;
€€g h
var
 
resultUpload
 
=
 
await
 $
	WriteFile
% .
(
. /
uploadModel
/ :
)
: ;
;
; <
if
‚‚ 
(
‚‚ 
resultUpload
‚‚ 
.
‚‚ 
	IsSuccess
‚‚ &
)
‚‚& '
{
ƒƒ 
companyByUser
„„ 
.
„„ 
	AvatarUrl
„„ '
=
„„( )
resultUpload
„„* 6
.
„„6 7
Path
„„7 ;
;
„„; <

_apiResult
…… 
.
…… 
	IsSuccess
…… $
=
……% &
await
……' ,
_companyService
……- <
.
……< =!
UploadAvatarCompany
……= P
(
……P Q
companyByUser
……Q ^
)
……^ _
;
……_ `

_apiResult
†† 
.
†† 
Message
†† "
=
††# $

_apiResult
††% /
.
††/ 0
	IsSuccess
††0 9
?
††: ;
$str
††< X
:
††Y Z
$str
††[ ~
;
††~ 
if
‡‡ 
(
‡‡ 
resultUpload
‡‡  
.
‡‡  !
	IsSuccess
‡‡! *
)
‡‡* +
{
 

_apiResult
‰‰ 
.
‰‰ 
Data
‰‰ #
=
‰‰$ %
companyByUser
‰‰& 3
;
‰‰3 4
}
 
}
‹‹ 
else
 
{
 

_apiResult
 
.
 
	IsSuccess
 $
=
% &
false
' ,
;
, -

_apiResult
 
.
 
Message
 "
=
# $
$str
% H
;
H I
}
 
return
’’ 
Ok
’’ 
(
’’ 

_apiResult
’’  
)
’’  !
;
’’! "
}
““ 	
[
›› 	
	NonAction
››	 
]
›› 
private
 
async
 
Task
 
<
 
ResponseWriteFile
 ,
>
, -
	WriteFile
. 7
(
7 8
ImportFileModel
8 G
model
H M
)
M N
{
 	
var
 
response
 
=
 
new
 
ResponseWriteFile
 0
(
0 1
)
1 2
;
2 3
try
 
{
   
var
΅΅ 
folder
΅΅ 
=
΅΅ 
Path
΅΅ !
.
΅΅! "
Combine
΅΅" )
(
΅΅) *!
_webHostEnvironment
΅΅* =
.
΅΅= >
ContentRootPath
΅΅> M
,
΅΅M N
$str
΅΅O X
)
΅΅X Y
;
΅΅Y Z
var
££ 
fileName
££ 
=
££ 
$"
££ !
{
££! "
model
££" '
.
££' (
Type
££( ,
}
££, -
$str
££- .
{
££. /
DateTime
££/ 7
.
££7 8
Now
££8 ;
:
££; <
$str
££< J
}
££J K
$str
££K L
{
££L M
model
££M R
.
££R S
File
££S W
.
££W X
FileName
££X `
}
££` a
"
££a b
;
££b c
if
¤¤ 
(
¤¤ 
!
¤¤ 
	Directory
¤¤ 
.
¤¤ 
Exists
¤¤ %
(
¤¤% &
folder
¤¤& ,
)
¤¤, -
)
¤¤- .
{
¥¥ 
	Directory
¦¦ 
.
¦¦ 
CreateDirectory
¦¦ -
(
¦¦- .
folder
¦¦. 4
)
¦¦4 5
;
¦¦5 6
}
§§ 
if
©© 
(
©© 
model
©© 
.
©© 
File
©© 
is
©© !
not
©©" %
null
©©& *
&&
©©+ -
model
©©. 3
.
©©3 4
File
©©4 8
.
©©8 9
Length
©©9 ?
>
©©@ A
$num
©©B C
)
©©C D
{
 
string
«« 
filePath
«« #
=
««$ %
Path
««& *
.
««* +
Combine
««+ 2
(
««2 3
folder
««3 9
,
««9 :
fileName
««; C
)
««C D
;
««D E
using
¬¬ 
(
¬¬ 
var
¬¬ 
stream
¬¬ %
=
¬¬& '
new
¬¬( +

FileStream
¬¬, 6
(
¬¬6 7
filePath
¬¬7 ?
,
¬¬? @
FileMode
¬¬A I
.
¬¬I J
Create
¬¬J P
)
¬¬P Q
)
¬¬Q R
{
­­ 
await
®® 
model
®® #
.
®®# $
File
®®$ (
.
®®( )
CopyToAsync
®®) 4
(
®®4 5
stream
®®5 ;
)
®®; <
;
®®< =
}
―― 
response
°° 
.
°° 
	IsSuccess
°° &
=
°°' (
true
°°) -
;
°°- .
response
±± 
.
±± 
Path
±± !
=
±±" #
fileName
±±$ ,
;
±±, -
}
²² 
}
³³ 
catch
΄΄ 
(
΄΄ 
	Exception
΄΄ 
ex
΄΄ 
)
΄΄  
{
µµ 
_logger
¶¶ 
.
¶¶ 
LogError
¶¶  
(
¶¶  !
ex
¶¶! #
.
¶¶# $
Message
¶¶$ +
)
¶¶+ ,
;
¶¶, -
response
·· 
.
·· 
	IsSuccess
·· "
=
··# $
false
··% *
;
··* +
}
ΈΈ 
return
ΉΉ 
response
ΉΉ 
;
ΉΉ 
}
»» 	
}
ΌΌ 
}½½ Τe
=D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\UsersController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UsersController  
:! "
ControllerBase# 1
{ 
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public 
UsersController 
( 
IUserService 
userService $
) 	
{ 	
_userService 
= 
userService &
;& '

_apiResult 
= 
new 
( 
) 
; 
} 	
[ 	
	Authorize	 
( 
Roles 
= 
$str $
)$ %
]% &
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Get) ,
(, -
)- .
{   	
var!! 
data!! 
=!! 
await!! 
_userService!! )
.!!) *
GetUsers!!* 2
(!!2 3
)!!3 4
;!!4 5

_apiResult"" 
."" 
Data"" 
="" 
data"" "
.""" #
OrderByDescending""# 4
(""4 5
item""5 9
=>"": <
item""= A
.""A B
CreatedDate""B M
)""M N
;""N O
return$$ 
Ok$$ 
($$ 

_apiResult$$  
)$$  !
;$$! "
}%% 	
['' 	
HttpPost''	 
('' 
$str'' '
)''' (
]''( )
[(( 	
	Authorize((	 
((( 
Roles(( 
=(( 
$str(( $
)(($ %
]((% &
public)) 
async)) 
Task)) 
<)) 
IActionResult)) '
>))' (
Register))) 1
())1 2
RegisterModel))2 ?
model))@ E
)))E F
{** 	
var++ 
exist++ 
=++ 
await++ 
_userService++ *
.++* +
GetUser+++ 2
(++2 3
new++3 6
User++7 ;
{++< =
Username++> F
=++G H
model++I N
.++N O
Username++O W
,++W X
Email++Y ^
=++_ `
model++a f
.++f g
Email++g l
}++m n
)++n o
;++o p
if,, 
(,, 
exist,, 
is,, 
not,, 
null,, !
),,! "
{-- 

_apiResult.. 
... 
	IsSuccess.. $
=..% &
false..' ,
;.., -

_apiResult// 
.// 
Message// "
=//# $
$str//% ?
;//? @
}00 
else11 
{22 

_apiResult33 
.33 
	IsSuccess33 $
=33% &
await33' ,
_userService33- 9
.339 :
Register33: B
(33B C
new33C F
User33G K
{44 
Email55 
=55 
model55 !
.55! "
Email55" '
,55' (
Username66 
=66 
model66 $
.66$ %
Username66% -
,66- .
Password77 
=77 
model77 $
.77$ %
Password77% -
,77- .
PhoneNumber88 
=88  !
model88" '
.88' (
NumberPhone88( 3
,883 4
FullName99 
=99 
model99 $
.99$ %
FullName99% -
,99- .
RoleId:: 
=:: 
(:: 
long:: "
)::" #
ERole::# (
.::( )

ID_Faculty::) 3
,::3 4
};; 
);; 
;;; 
if<< 
(<< 

_apiResult<< 
.<< 
	IsSuccess<< (
)<<( )
{== 

_apiResult>> 
.>> 
Message>> &
=>>' (
$str>>) D
;>>D E

_apiResult?? 
.?? 
Data?? #
=??$ %
await??& +
_userService??, 8
.??8 9
GetUser??9 @
(??@ A
new??A D
User??E I
{@@ 
EmailAA 
=AA 
modelAA  %
.AA% &
EmailAA& +
,AA+ ,
UsernameBB  
=BB! "
modelBB# (
.BB( )
UsernameBB) 1
,BB1 2
PasswordCC  
=CC! "
modelCC# (
.CC( )
PasswordCC) 1
,CC1 2
PhoneNumberDD #
=DD$ %
modelDD& +
.DD+ ,
NumberPhoneDD, 7
,DD7 8
FullNameEE  
=EE! "
modelEE# (
.EE( )
FullNameEE) 1
,EE1 2
}FF 
)FF 
;FF 
}GG 
elseHH 
{II 

_apiResultJJ 
.JJ 
MessageJJ &
=JJ' (
$strJJ) G
;JJG H
}KK 
}LL 
returnNN 
OkNN 
(NN 

_apiResultNN  
)NN  !
;NN! "
}OO 	
[QQ 	
HttpGetQQ	 
(QQ 
$strQQ 
)QQ 
]QQ 
[RR 	
	AuthorizeRR	 
(RR 
RolesRR 
=RR 
$strRR $
)RR$ %
]RR% &
publicSS 
asyncSS 
TaskSS 
<SS 
IActionResultSS '
>SS' (
GetRolesSS) 1
(SS1 2
)SS2 3
{TT 	

_apiResultUU 
.UU 
DataUU 
=UU 
awaitUU #
_userServiceUU$ 0
.UU0 1
GetRolesUU1 9
(UU9 :
)UU: ;
;UU; <

_apiResultVV 
.VV 
	IsSuccessVV  
=VV! "
trueVV# '
;VV' (

_apiResultWW 
.WW 
MessageWW 
=WW  
$strWW! ;
;WW; <
returnYY 
OkYY 
(YY 

_apiResultYY  
)YY  !
;YY! "
}ZZ 	
[\\ 	
HttpPut\\	 
(\\ 
$str\\ 
)\\ 
]\\ 
[]] 	
	Authorize]]	 
(]] 
Roles]] 
=]] 
$str]] $
)]]$ %
]]]% &
public^^ 
async^^ 
Task^^ 
<^^ 
IActionResult^^ '
>^^' (
	SetActive^^) 2
(^^2 3
UserActiveModel^^3 B
model^^C H
)^^H I
{__ 	
var`` 
	userExist`` 
=`` 
await`` !
_userService``" .
.``. /
GetUser``/ 6
(``6 7
new``7 :
User``; ?
{``@ A
Id``B D
=``E F
model``G L
.``L M
Id``M O
,``O P
Username``Q Y
=``Z [
model``\ a
.``a b
Username``b j
}``k l
)``l m
;``m n
ifaa 
(aa 
	userExistaa 
isaa 
nullaa !
)aa! "
{bb 

_apiResultcc 
.cc 
	IsSuccesscc $
=cc% &
falsecc' ,
;cc, -

_apiResultdd 
.dd 
Messagedd "
=dd# $
$strdd% B
;ddB C
}ee 
elseff 
ifff 
(ff 
	userExistff 
.ff 
IsActiveff '
==ff( *
modelff+ 0
.ff0 1
IsActiveff1 9
)ff9 :
{gg 

_apiResulthh 
.hh 
	IsSuccesshh $
=hh% &
falsehh' ,
;hh, -

_apiResultii 
.ii 
Messageii "
=ii# $
$strii% \
;ii\ ]
}jj 
elsekk 
{ll 
	userExistmm 
.mm 
IsActivemm "
=mm# $
modelmm% *
.mm* +
IsActivemm+ 3
;mm3 4

_apiResultnn 
.nn 
	IsSuccessnn $
=nn% &
awaitnn' ,
_userServicenn- 9
.nn9 :

UpdateUsernn: D
(nnD E
	userExistnnE N
)nnN O
;nnO P
ifoo 
(oo 

_apiResultoo 
.oo 
	IsSuccessoo (
)oo( )
{pp 

_apiResultqq 
.qq 
Messageqq &
=qq' (
$strqq) S
;qqS T

_apiResultrr 
.rr 
Datarr #
=rr$ %
	userExistrr& /
;rr/ 0
}ss 
elsett 
{uu 

_apiResultvv 
.vv 
Messagevv &
=vv' (
$strvv) Q
;vvQ R
}ww 
}xx 
returnzz 
Okzz 
(zz 

_apiResultzz  
)zz  !
;zz! "
}{{ 	
[}} 	
HttpPut}}	 
(}} 
$str}} &
)}}& '
]}}' (
[~~ 	
	Authorize~~	 
(~~ 
Roles~~ 
=~~ 
$str~~ $
)~~$ %
]~~% &
public 
async 
Task 
< 
IActionResult '
>' (
Update) /
(/ 0
long0 4
id5 7
,7 8
UpdateAccount9 F
modelG L
)L M
{
€€ 	
var
 
exist
 
=
 
await
 
_userService
 *
.
* +
GetUser
+ 2
(
2 3
new
3 6
User
7 ;
{
< =
Id
> @
=
A B
id
C E
}
F G
)
G H
;
H I
if
‚‚ 
(
‚‚ 
exist
‚‚ 
is
‚‚ 
null
‚‚ 
)
‚‚ 
{
ƒƒ 

_apiResult
„„ 
.
„„ 
	IsSuccess
„„ $
=
„„% &
false
„„' ,
;
„„, -

_apiResult
…… 
.
…… 
Message
…… "
=
……# $
$str
……% B
;
……B C
return
†† 
Ok
†† 
(
†† 

_apiResult
†† $
)
††$ %
;
††% &
}
‡‡ 
else
‰‰ 
if
‰‰ 
(
‰‰ 
exist
‰‰ 
.
‰‰ 
Username
‰‰ #
!=
‰‰$ &
model
‰‰' ,
.
‰‰, -
Username
‰‰- 5
||
‰‰6 8
exist
‰‰9 >
.
‰‰> ?
Email
‰‰? D
!=
‰‰E G
model
‰‰H M
.
‰‰M N
Email
‰‰N S
)
‰‰S T
{
 

_apiResult
‹‹ 
.
‹‹ 
	IsSuccess
‹‹ $
=
‹‹% &
false
‹‹' ,
;
‹‹, -

_apiResult
 
.
 
Message
 "
=
# $
$str
% B
;
B C
}
 
else
 
{
 
exist
 
.
 
FullName
 
=
  
model
! &
.
& '
FullName
' /
;
/ 0
exist
‘‘ 
.
‘‘ 
PhoneNumber
‘‘ !
=
‘‘" #
model
‘‘$ )
.
‘‘) *
NumberPhone
‘‘* 5
;
‘‘5 6
exist
’’ 
.
’’ 
UpdatedDate
’’ !
=
’’" #
DateTimeOffset
’’$ 2
.
’’2 3
Now
’’3 6
;
’’6 7

_apiResult
““ 
.
““ 
	IsSuccess
““ $
=
““% &
await
““' ,
_userService
““- 9
.
““9 :

UpdateUser
““: D
(
““D E
exist
““E J
)
““J K
;
““K L
if
”” 
(
”” 

_apiResult
”” 
.
”” 
	IsSuccess
”” (
)
””( )
{
•• 

_apiResult
–– 
.
–– 
Message
–– &
=
––' (
$str
––) H
;
––H I

_apiResult
—— 
.
—— 
	IsSuccess
—— (
=
——) *
true
——+ /
;
——/ 0

_apiResult
 
.
 
Data
 #
=
$ %
exist
& +
;
+ ,
}
™™ 
else
 
{
›› 

_apiResult
 
.
 
Message
 &
=
' (
$str
) F
;
F G

_apiResult
 
.
 
	IsSuccess
 (
=
) *
false
+ 0
;
0 1
}
 
}
 
return
΅΅ 
Ok
΅΅ 
(
΅΅ 

_apiResult
΅΅  
)
΅΅  !
;
΅΅! "
}
ΆΆ 	
}
¤¤ 
}¥¥ K
ED:\Dacntt2\Source\EW\EW.WebAPI\Controllers\WorkHistoriesController.cs
	namespace

 	
EW


 
.

 
WebAPI

 
.

 
Controllers

 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class #
WorkHistoriesController (
:) *
ControllerBase+ 9
{ 
private 
readonly 
ILogger  
<  !
ProfileController! 2
>2 3
_logger4 ;
;; <
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
IWorkHistoryService ,
_workHistoryService- @
;@ A
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public #
WorkHistoriesController &
(& '
ILogger 
< 
ProfileController %
>% &
logger' -
,- .
IProfileSerivce 
profileSerivce *
,* +
IWorkHistoryService 
workHistoryService  2
) 	
{ 	
_logger 
= 
logger 
; 
_profileSerivce 
= 
profileSerivce ,
;, -
_workHistoryService 
=  !
workHistoryService" 4
;4 5
} 	
[$$ 	
	Authorize$$	 
($$ 
Roles$$ 
=$$ 
$str$$ $
)$$$ %
]$$% &
[%% 	
HttpPost%%	 
]%% 
public&& 
async&& 
Task&& 
<&& 
IActionResult&& '
>&&' (
Post&&) -
(&&- .
AddWorkHistory&&. <
model&&= B
)&&B C
{'' 	
var(( 
result(( 
=(( 
new(( 
	ApiResult(( &
(((& '
)((' (
;((( )
try)) 
{** 
var++ 
profile++ 
=++ 
await++ #
_profileSerivce++$ 3
.++3 4

GetProfile++4 >
(++> ?
new++? B
User++C G
{++H I
Username++J R
=++S T
Username++U ]
}++^ _
)++_ `
;++` a
if,, 
(,, 
profile,, 
is,, 
null,, #
),,# $
{-- 
result.. 
... 
	IsSuccess.. $
=..% &
false..' ,
;.., -
result// 
.// 
Message// "
=//# $
$str//% L
;//L M
return00 
Ok00 
(00 
result00 $
)00$ %
;00% &
}11 
var33 
newWorkHistory33 "
=33# $
new33% (
WorkHistory33) 4
{44 
	ProfileId55 
=55 
profile55  '
.55' (
Id55( *
,55* +
Description66 
=66  !
model66" '
.66' (
Description66( 3
,663 4
From77 
=77 
model77  
.77  !
From77! %
,77% &
To88 
=88 
model88 
.88 
To88 !
,88! "
	IsWorking99 
=99 
model99  %
.99% &
	IsWorking99& /
,99/ 0
CompanyName:: 
=::  !
model::" '
.::' (
CompanyName::( 3
,::3 4
};; 
;;; 
var<< 
data<< 
=<< 
await<<  
_workHistoryService<<! 4
.<<4 5
Add<<5 8
(<<8 9
newWorkHistory<<9 G
)<<G H
;<<H I
if== 
(== 
data== 
is== 
null==  
)==  !
{>> 
result?? 
.?? 
	IsSuccess?? $
=??% &
false??' ,
;??, -
result@@ 
.@@ 
Message@@ "
=@@# $
$str@@% N
;@@N O
returnAA 
OkAA 
(AA 
resultAA $
)AA$ %
;AA% &
}BB 
elseCC 
{DD 
resultEE 
.EE 
	IsSuccessEE $
=EE% &
trueEE' +
;EE+ ,
resultFF 
.FF 
MessageFF "
=FF# $
$strFF% K
;FFK L
resultGG 
.GG 
DataGG 
=GG  !
dataGG" &
;GG& '
}HH 
}II 
catchJJ 
(JJ 
	ExceptionJJ 
exJJ 
)JJ  
{KK 
_loggerLL 
.LL 
LogErrorLL  
(LL  !
exLL! #
.LL# $
MessageLL$ +
)LL+ ,
;LL, -
resultMM 
.MM 
InternalErrorMM $
(MM$ %
exMM% '
.MM' (
MessageMM( /
)MM/ 0
;MM0 1
}NN 
returnPP 
OkPP 
(PP 
resultPP 
)PP 
;PP 
}QQ 	
[XX 	
	AuthorizeXX	 
(XX 
RolesXX 
=XX 
$strXX $
)XX$ %
]XX% &
[YY 	

HttpDeleteYY	 
(YY 
$strYY 
)YY 
]YY 
publicZZ 
asyncZZ 
TaskZZ 
<ZZ 
IActionResultZZ '
>ZZ' (
DeleteZZ) /
(ZZ/ 0
longZZ0 4
idZZ5 7
)ZZ7 8
{[[ 	
var\\ 
result\\ 
=\\ 
new\\ 
	ApiResult\\ &
(\\& '
)\\' (
;\\( )
try]] 
{^^ 
result__ 
.__ 
	IsSuccess__  
=__! "
await__# (
_workHistoryService__) <
.__< =
Delete__= C
(__C D
new__D G
WorkHistory__H S
{__T U
Id__V X
=__Y Z
id__[ ]
}__^ _
)___ `
;__` a
if`` 
(`` 
result`` 
.`` 
	IsSuccess`` $
)``$ %
{aa 
resultbb 
.bb 
Messagebb "
=bb# $
$strbb% A
;bbA B
resultcc 
.cc 
Datacc 
=cc  !
newcc" %
WorkHistorycc& 1
{cc2 3
Idcc4 6
=cc7 8
idcc9 ;
}cc< =
;cc= >
}dd 
elseee 
{ff 
resultgg 
.gg 
Messagegg "
=gg# $
$strgg% ?
;gg? @
}hh 
}ii 
catchjj 
(jj 
	Exceptionjj 
exjj 
)jj  
{kk 
resultll 
.ll 
InternalErrorll $
(ll$ %
exll% '
.ll' (
Messagell( /
)ll/ 0
;ll0 1
_loggermm 
.mm 
LogErrormm  
(mm  !
exmm! #
.mm# $
Messagemm$ +
)mm+ ,
;mm, -
}nn 
returnoo 
Okoo 
(oo 
resultoo 
)oo 
;oo 
}pp 	
[ww 	
	Authorizeww	 
(ww 
Rolesww 
=ww 
$strww $
)ww$ %
]ww% &
[xx 	
HttpPutxx	 
]xx 
publicyy 
asyncyy 
Taskyy 
<yy 
IActionResultyy '
>yy' (
Putyy) ,
(yy, -
WorkHistoryyy- 8
modelyy9 >
)yy> ?
{zz 	
var{{ 
result{{ 
={{ 
new{{ 
	ApiResult{{ &
({{& '
){{' (
;{{( )
try|| 
{}} 
result~~ 
.~~ 
	IsSuccess~~  
=~~! "
await~~# (
_workHistoryService~~) <
.~~< =
Update~~= C
(~~C D
model~~D I
)~~I J
;~~J K
if 
( 
result 
. 
	IsSuccess $
)$ %
{
€€ 
result
 
.
 
Message
 "
=
# $
$str
% F
;
F G
result
‚‚ 
.
‚‚ 
Data
‚‚ 
=
‚‚  !
model
‚‚" '
;
‚‚' (
}
ƒƒ 
else
„„ 
{
…… 
result
†† 
.
†† 
Message
†† "
=
††# $
$str
††% D
;
††D E
}
‡‡ 
}
 
catch
‰‰ 
(
‰‰ 
	Exception
‰‰ 
ex
‰‰ 
)
‰‰  
{
 
result
‹‹ 
.
‹‹ 
InternalError
‹‹ $
(
‹‹$ %
ex
‹‹% '
.
‹‹' (
Message
‹‹( /
)
‹‹/ 0
;
‹‹0 1
_logger
 
.
 
LogError
  
(
  !
ex
! #
.
# $
Message
$ +
)
+ ,
;
, -
}
 
return
 
Ok
 
(
 
result
 
)
 
;
 
}
 	
}
 
}‘‘ Ώ6
BD:\Dacntt2\Source\EW\EW.WebAPI\Extensions\ServicesConfiguration.cs
	namespace

 	
EW


 
.

 
WebAPI

 
.

 

Extensions

 
{ 
public 

static 
class !
ServicesConfiguration -
{ 
public 
static 
void 
RegisterService *
(* +
this+ /
IServiceCollection0 B
servicesC K
)K L
{ 	
IMapper 
mapper 
= 
MappingConfig *
.* +
RegisterMaps+ 7
(7 8
)8 9
.9 :
CreateMapper: F
(F G
)G H
;H I
services 
. 
AddSingleton !
(! "
mapper" (
)( )
;) *
services 
. 
	AddScoped 
( 
typeof %
(% &
IRepository& 1
<1 2
>2 3
)3 4
,4 5
typeof6 <
(< =
EWRepository= I
<I J
>J K
)K L
)L M
;M N
services 
. 
	AddScoped 
( 
typeof %
(% &
IDatabaseFactory& 6
<6 7
>7 8
)8 9
,9 :
typeof; A
(A B
DatabaseFactoryB Q
<Q R
>R S
)S T
)T U
;U V
services 
. 
	AddScoped 
< 
IUserService +
,+ ,
UserService- 8
>8 9
(9 :
): ;
;; <
services 
. 
	AddScoped 
< 
ITokenService ,
,, -
TokenService. :
>: ;
(; <
)< =
;= >
services 
. 
	AddScoped 
< 
IRecruiterService 0
,0 1
RecruiterService2 B
>B C
(C D
)D E
;E F
services 
. 
	AddScoped 
< 
IUserCVService -
,- .
UserCVService/ <
>< =
(= >
)> ?
;? @
services 
. 
	AddScoped 
< 
IEmailService ,
,, -
EmailService. :
>: ;
(; <
)< =
;= >
services 
. 
	AddScoped 
< #
IRecruitmentPostService 6
,6 7"
RecruitmentPostService8 N
>N O
(O P
)P Q
;Q R
services 
. 
	AddScoped 
< 
ICompanyService .
,. /
CompanyService0 >
>> ?
(? @
)@ A
;A B
services 
. 
	AddScoped 
< 
IApplicationService 2
,2 3
ApplicationService4 F
>F G
(G H
)H I
;I J
services 
. 
	AddScoped 
< 
IProfileSerivce .
,. /
ProfileService0 >
>> ?
(? @
)@ A
;A B
services 
. 
	AddScoped 
< 
IWorkHistoryService 2
,2 3
WorkHistoryService4 F
>F G
(G H
)H I
;I J
services 
. 
	AddScoped 
< 
IProjectService .
,. /
ProjectService0 >
>> ?
(? @
)@ A
;A B
services 
. 
	AddScoped 
< 
ICertificateService 2
,2 3
CertificateService4 F
>F G
(G H
)H I
;I J
services   
.   
	AddScoped   
<   
IEducationService   0
,  0 1
EducationService  2 B
>  B C
(  C D
)  D E
;  E F
services!! 
.!! 
	AddScoped!! 
<!! 
IChartService!! ,
,!!, -
ChartService!!. :
>!!: ;
(!!; <
)!!< =
;!!= >
services"" 
."" 
	AddScoped"" 
<""  
IBlogCategoryService"" 3
,""3 4
BlogCategoryService""5 H
>""H I
(""I J
)""J K
;""K L
services## 
.## 
	AddScoped## 
<## 
IBlogService## +
,##+ ,
BlogService##- 8
>##8 9
(##9 :
)##: ;
;##; <
services$$ 
.$$ 
	AddScoped$$ 
<$$ 
IUnitOfWork$$ *
,$$* +

UnitOfWork$$, 6
>$$6 7
($$7 8
)$$8 9
;$$9 :
}%% 	
public'' 
static'' 
void'' %
AddCustomsConfigureObject'' 4
(''4 5
this(( 
IServiceCollection(( #
services(($ ,
,((, - 
ConfigurationManager))   
configurationManager))! 5
)** 	
{++ 	
services,, 
.,, 
	Configure,, 
<,, 
EmailConfig,, *
>,,* +
(,,+ , 
configurationManager,,, @
.,,@ A

GetSection,,A K
(,,K L
$str,,L Z
),,Z [
),,[ \
;,,\ ]
services-- 
.-- 
	Configure-- 
<-- 
CustomConfig-- +
>--+ ,
(--, - 
configurationManager--- A
.--A B

GetSection--B L
(--L M
$str--M \
)--\ ]
)--] ^
;--^ _
}.. 	
public00 
static00 
void00  
AddEWDbConfiguration00 /
(00/ 0
this11 
IServiceCollection11 #
services11$ ,
,11, - 
ConfigurationManager22   
configurationManager22! 5
)33 	
{44 	
var55 
connectionString55  
=55! " 
configurationManager55# 7
.557 8
GetConnectionString558 K
(55K L
$str55L ]
)55] ^
;55^ _
services66 
.66 
AddDbContext66 !
<66! "
	EWContext66" +
>66+ ,
(66, -
options66- 4
=>665 7
options77 
.77 
UseMySql77 $
(77$ %
connectionString77% 5
,775 6
ServerVersion777 D
.77D E

AutoDetect77E O
(77O P
connectionString77P `
)77` a
)77a b
)77b c
;77c d
}88 	
}99 
}:: ΰ5
/D:\Dacntt2\Source\EW\EW.WebAPI\MappingConfig.cs
	namespace

 	
EW


 
.

 
WebAPI

 
{ 
public 

class 
MappingConfig 
{ 
public 
static 
MapperConfiguration )
RegisterMaps* 6
(6 7
)7 8
{ 	
var 
mappingConfig 
= 
new  #
MapperConfiguration$ 7
(7 8
config8 >
=>? A
{ 
config 
. 
	CreateMap  
<  !
RegisterModel! .
,. /
User0 4
>4 5
(5 6
)6 7
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
PhoneNumber( 3
,3 4
option5 ;
=>< >
option? E
.E F
MapFromF M
(M N
sourceN T
=>U W
sourceX ^
.^ _
NumberPhone_ j
)j k
)k l
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
RoleId( .
,. /
option0 6
=>7 9
option: @
.@ A
MapFromA H
(H I
sourceI O
=>P R
(S T
longT X
)X Y
ERoleY ^
.^ _
ID_Business_ j
)j k
)k l
;l m
config 
. 
	CreateMap  
<  ! 
LoginWithGoogleModel! 5
,5 6
User7 ;
>; <
(< =
)= >
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
Username( 0
,0 1
option2 8
=>9 ;
option< B
.B C
MapFromC J
(J K
sourceK Q
=>R T
sourceU [
.[ \
GoogleId\ d
)d e
)e f
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
RoleId( .
,. /
option0 6
=>7 9
option: @
.@ A
MapFromA H
(H I
sourceI O
=>P R
(S T
longT X
)X Y
ERoleY ^
.^ _

ID_Student_ i
)i j
)j k
;k l
config 
. 
	CreateMap  
<  !
Blog! %
,% &
BlogDetailViewModel' :
>: ;
(; <
)< =
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
Author( .
,. /
option0 6
=>7 9
option: @
.@ A
MapFromA H
(H I
sourceI O
=>P R
sourceS Y
.Y Z
UserZ ^
.^ _
FullName_ g
)g h
)h i
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
BlogCategoryName( 8
,8 9
option: @
=>A C
optionD J
.J K
MapFromK R
(R S
sourceS Y
=>Z \
source] c
.c d
BlogCategoryd p
.p q
Nameq u
)u v
)v w
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
	CreatedBy( 1
,1 2
option3 9
=>: <
option= C
.C D
MapFromD K
(K L
sourceL R
=>S U
sourceV \
.\ ]
UserId] c
)c d
)d e
;e f
config 
. 
	CreateMap  
<  !
AddCompanyModel! 0
,0 1
Company2 9
>9 :
(: ;
); <
;< =
config   
.   
	CreateMap    
<    !
AddProjectModel  ! 0
,  0 1
Project  2 9
>  9 :
(  : ;
)  ; <
;  < =
config!! 
.!! 
	CreateMap!!  
<!!  ! 
RecruitmentPostModel!!! 5
,!!5 6
RecruitmentPost!!7 F
>!!F G
(!!G H
)!!H I
;!!I J
config"" 
."" 
	CreateMap""  
<""  !
RecruitmentPost""! 0
,""0 1)
RecruitmentPostShortViewModel""2 O
>""O P
(""P Q
)""Q R
.## 
	ForMember## 
(## 
dest## 
=>##  "
dest### '
.##' (
	AvatarUrl##( 1
,##1 2
option##3 9
=>##: <
option##= C
.##C D
MapFrom##D K
(##K L
source##L R
=>##S U
source##V \
.##\ ]
Company##] d
.##d e
	AvatarUrl##e n
)##n o
)##o p
.$$ 
	ForMember$$ 
($$ 
dest$$ 
=>$$  "
dest$$# '
.$$' (
CompanyName$$( 3
,$$3 4
option$$5 ;
=>$$< >
option$$? E
.$$E F
MapFrom$$F M
($$M N
source$$N T
=>$$U W
source$$X ^
.$$^ _
Company$$_ f
.$$f g
CompanyName$$g r
)$$r s
)$$s t
.%% 
	ForMember%% 
(%% 
dest%% 
=>%%  "
dest%%# '
.%%' (
CompanyType%%( 3
,%%3 4
option%%5 ;
=>%%< >
option%%? E
.%%E F
MapFrom%%F M
(%%M N
source%%N T
=>%%U W
source%%X ^
.%%^ _
Company%%_ f
.%%f g
CompanyType%%g r
)%%r s
)%%s t
;%%t u
config'' 
.'' 
	CreateMap''  
<''  !
User''! %
,''% &
UserInfoViewModel''' 8
>''8 9
(''9 :
)'': ;
.(( 
	ForMember(( 
((( 
dest(( 
=>((  "
dest((# '
.((' (
Role((( ,
,((, -
option((. 4
=>((5 7
option((8 >
.((> ?
MapFrom((? F
(((F G
source((G M
=>((N P
source((Q W
.((W X
Role((X \
.((\ ]
Name((] a
)((a b
)((b c
;((c d
})) 
))) 
;)) 
return** 
mappingConfig**  
;**  !
}++ 	
},, 
}-- έ
@D:\Dacntt2\Source\EW\EW.WebAPI\Middlewares\EWExceptionHandler.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Middlewares 
{ 
public 

static 
class 
EWExceptionHandler *
{		 
public

 
static

 
void

 !
UseEWExceptionHandler

 0
(

0 1
this

1 5
WebApplication

6 D
app

E H
)

H I
{ 	
app 
. 
UseExceptionHandler #
(# $
exceptionHandlerApp$ 7
=>8 :
{ 
exceptionHandlerApp #
.# $
Run$ '
(' (
async( -
context. 5
=>6 8
{ 
var '
exceptionHandlerPathFeature 3
=4 5
context 
.  
Features  (
.( )
Get) ,
<, -(
IExceptionHandlerPathFeature- I
>I J
(J K
)K L
;L M
if 
( '
exceptionHandlerPathFeature 3
?3 4
.4 5
Error5 :
is; =
EWException> I
modelJ O
)O P
{ 
context 
.  
Response  (
.( )

StatusCode) 3
=4 5
StatusCodes6 A
.A B
Status200OKB M
;M N
context 
.  
Response  (
.( )
ContentType) 4
=5 6
$str7 I
;I J
var 
response $
=% &
new' *
	ApiResult+ 4
{ 
	IsSuccess %
=& '
false( -
,- .
Message #
=$ %
model& +
.+ ,
Message, 3
,3 4
HttpStatusCode *
=+ ,
$num- 0
,0 1
} 
; 
var!! 
data!!  
=!!! "
JsonSerializer!!# 1
.!!1 2
	Serialize!!2 ;
(!!; <
response!!< D
)!!D E
;!!E F
await## 
context## %
.##% &
Response##& .
.##. /

WriteAsync##/ 9
(##9 :
data##: >
)##> ?
;##? @
}$$ 
}%% 
)%% 
;%% 
}&& 
)&& 
;&& 
}'' 	
}(( 
})) ―
2D:\Dacntt2\Source\EW\EW.WebAPI\Models\ApiResult.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
{ 
public 

class 
	ApiResult 
{ 
public 
int 
HttpStatusCode !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
bool 
	IsSuccess 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Message 
{ 
get  #
;# $
set% (
;( )
}* +
public 
object 
? 
Data 
{ 
get !
;! "
set# &
;& '
}( )
public		 
	ApiResult		 
(		 
object		 
?		  
data		! %
=		& '
default		( /
,		/ 0
bool		1 5
	isSuccess		6 ?
=		@ A
true		B F
,		F G
string		H N
message		O V
=		W X
$str		Y [
,		[ \
int		] `
httpStatusCode		a o
=		p q
$num		r u
)		u v
{

 	
Data 
= 
data 
; 
HttpStatusCode 
= 
httpStatusCode +
;+ ,
	IsSuccess 
= 
	isSuccess !
;! "
Message 
= 
message 
; 
} 	
public 
void 
InternalError !
(! "
string" (
message) 0
=1 2
$str3 J
)J K
{ 	
HttpStatusCode 
= 
$num  
;  !
Message 
= 
message 
; 
	IsSuccess 
= 
false 
; 
} 	
} 
} 
TD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Applications\ApplicationRequestModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Applications" .
{ 
public 

class #
ApplicationRequestModel (
{ 
public 
long 
UserCVId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
long 
RecruitmentPostId %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
CoverLetter !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
} 
public

 

class

 )
MarkedApplicationRequestModel

 .
:

/ 0#
ApplicationRequestModel

1 H
{ 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
long 
? 
UserId 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ¶
PD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Applications\UpdateProgressModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Applications" .
{ 
public 

class 
UpdateProgressModel $
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
EApplicationStatus !
Status" (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public		 
string		 
Description		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
string		2 8
.		8 9
Empty		9 >
;		> ?
}

 
} Ι
@D:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\LoginModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class 

LoginModel 
{ 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
} 
} Ί

JD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\LoginWithGoogleModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class  
LoginWithGoogleModel %
{ 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
GoogleId 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
}		 
}

 ά
KD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\RecoveryPasswordModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class !
RecoveryPasswordModel &
{ 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
} 
} λ
GD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\RefreshTokenModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class 
RefreshTokenModel "
{ 
public 
string 
RefreshToken "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
} 
} ©
CD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\RegisterModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class 
RegisterModel 
{ 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
NumberPhone !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public		 
string		 
FullName		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
=		- .
string		/ 5
.		5 6
Empty		6 ;
;		; <
}

 
public 

class 
UpdateAccount 
:  
RegisterModel! .
{ 
} 
} Ψ
ID:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\UpdatePasswordModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class 
UpdatePasswordModel $
{ 
public 
string 
OldPassword !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
NewPassword !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
=4 5
string6 <
.< =
Empty= B
;B C
} 
}		 ί	
JD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\ValidateRecoverModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class  
ValidateRecoverModel %
{ 
public 
string 
Code 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
} 
public		 

class		 
SubmitRecoverModel		 #
:		$ % 
ValidateRecoverModel		& :
{

 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
} 
} ι
BD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Blogs\AddBlogModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Blogs" '
{ 
public 

class 
AddBlogModel 
{ 
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
Content 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
string. 4
.4 5
Empty5 :
;: ;
public 
long 
BlogCategoryId "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
}		 μ
ID:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Companies\AddCompanyModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
	Companies" +
{ 
public 

class 
AddCompanyModel  
{ 
public 
string 
CompanyName !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
PhoneNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public		 
string		 
Email		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
=		* +
string		, 2
.		2 3
Empty		3 8
;		8 9
public

 
string

 
Address

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
=

, -
string

. 4
.

4 5
Empty

5 :
;

: ;
public 
string 
	TaxNumber 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
string0 6
.6 7
Empty7 <
;< =
public 
EStatusRecruiter 
Status  &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
bool 
Featured 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ±
MD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Documents\ChangeStatusCVModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
	Documents" +
{ 
public 

class 
ChangeStatusCVModel $
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
bool 
Featured 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ©	
LD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\AddCertificateModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
AddCertificateModel $
{ 
public 
string 
CertificateName %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
=4 5
string6 <
.< =
Empty= B
;B C
public 
DateTimeOffset 
From "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTimeOffset 
To  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
}		 
}

 	
JD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\AddEducationModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
AddEducationModel "
{ 
public 
string 
OrgName 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
string. 4
.4 5
Empty5 :
;: ;
public 
DateTimeOffset 
From "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTimeOffset 
To  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
}		 
}

 ‘
HD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\AddProjectModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
AddProjectModel  
{ 
public 
string 
ProjectName !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
CustomerName "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
public 
DateTimeOffset 
From "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTimeOffset 
To  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 
string		 
Description		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
string		2 8
.		8 9
Empty		9 >
;		> ?
}

 
} ¶

GD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\AddWorkHistory.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
AddWorkHistory 
{ 
public 
string 
CompanyName !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
bool 
	IsWorking 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTimeOffset 
From "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTimeOffset 
To  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 
string		 
Description		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
string		2 8
.		8 9
Empty		9 >
;		> ?
}

 
} †
ED:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\ContactModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
ContactModel 
{ 
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
string. 4
.4 5
Empty5 :
;: ;
public 
string 
Linkedin 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
Github 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
string- 3
.3 4
Empty4 9
;9 :
public 
string 
EmailContact "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
public		 
string		 
PhoneNumber		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
string		2 8
.		8 9
Empty		9 >
;		> ?
public

 
string

 
	Objective

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
=

. /
string

0 6
.

6 7
Empty

7 <
;

< =
public 
string 
Skills 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
string- 3
.3 4
Empty4 9
;9 :
} 
} ϊ
OD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\UpdateCoverLetterModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class "
UpdateCoverLetterModel '
{ 
public 
string 
CoverLetter !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
} 
} 
JD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\UpdateStatusModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
UpdateStatusModel "
{ 
public 
bool 
IsOpenForWork !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} 
UD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\RecruitmentPosts\RecruitmentPostModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
RecruitmentPosts" 2
{ 
public 

class  
RecruitmentPostModel %
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
JobTitle 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public		 
string		 
JobDescription		 $
{		% &
get		' *
;		* +
set		, /
;		/ 0
}		1 2
=		3 4
string		5 ;
.		; <
Empty		< A
;		A B
public

 
int

 

SalaryFrom

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
int 
SalaryTo 
{ 
get !
;! "
set# &
;& '
}( )
public 
	ECurrency 
Currency !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DateTimeOffset 
Deadline &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
long 
? 
	CompanyId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
ESalaryType 

SalaryType %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
EWorkingType 
WorkingType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 

TechStacks  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
string1 7
.7 8
Empty8 =
;= >
public 
double 
YearExperience $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} Γ
GD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Uploads\ImportFileModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Uploads" )
{ 
public 

class 
ImportFileModel  
{ 
public 
required 
	IFormFile !
File" &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
	EFileType 
Type 
{ 
get  #
;# $
set% (
;( )
}* +
}		 
}

 Η
GD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Uploads\UploadFileModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Uploads" )
{ 
public 

class 
UploadFileModel  
{ 
public 
required 
	IFormFile !
File" &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
public 

class 
UploadNewCVModel !
:" #
UploadFileModel$ 3
{ 
}		 
public 

class 
UploadAvatarModel "
:# $
UploadFileModel% 4
{ 
} 
} 
ED:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Users\UserActiveModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Users" '
{ 
public 

class 
UserActiveModel  
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
bool 
IsActive 
{ 
get "
;" #
set$ '
;' (
}) *
} 
}		 Ί
GD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\BlogDetailViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class 
BlogDetailViewModel $
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
Content 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
string. 4
.4 5
Empty5 :
;: ;
public 
long 
	CreatedBy 
{ 
get  #
;# $
set% (
;( )
}* +
public		 
long		 
BlogCategoryId		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
public

 
string

 
BlogCategoryName

 &
{

' (
get

) ,
;

, -
set

. 1
;

1 2
}

3 4
=

5 6
string

7 =
.

= >
Empty

> C
;

C D
public 
DateTimeOffset 
CreatedDate )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
DateTimeOffset 
UpdatedDate )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
string 
Author 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
string- 3
.3 4
Empty4 9
;9 :
} 
} Ϊ
JD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\CompanyDetailViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class "
CompanyDetailViewModel '
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
? 
CompanyName "
{# $
get% (
;( )
set* -
;- .
}/ 0
public		 
string		 
?		 
PhoneNumber		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
public

 
string

 
?

 
Email

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
string 
? 
Address 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
? 
	AvatarUrl  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
? 
Country 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
	ETeamSize 
TeamSize !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
ECompanyType 
CompanyType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
? 
Description "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
List 
< )
RecruitmentPostShortViewModel 1
>1 2
?2 3
Posts4 9
{: ;
get< ?
;? @
setA D
;D E
}F G
} 
} ®
BD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\LoginViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class 
LoginViewModel 
{ 
public 
string 
? 
AccessToken "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
? 
RefreshToken #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} ο
QD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\RecruitmentPostShortViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class )
RecruitmentPostShortViewModel .
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
? 
JobTitle 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
ESalaryType		 

SalaryType		 %
{		& '
get		( +
;		+ ,
set		- 0
;		0 1
}		2 3
public

 
int

 

SalaryFrom

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
int 
SalaryTo 
{ 
get !
;! "
set# &
;& '
}( )
public 
	ECurrency 
Currency !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
? 

TechStacks !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
double 
YearExperience $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
? 
JobDescription %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTimeOffset 
UpdatedDate )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
string 
? 
	AvatarUrl  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
EWorkingType 
WorkingType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
ECompanyType 
CompanyType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
? 
CompanyName "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} €
ED:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\UserInfoViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class 
UserInfoViewModel "
{ 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public		 
string		 
Role		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
=		) *
string		+ 1
.		1 2
Empty		2 7
;		7 8
}

 
} 
HD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\UserProfileViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class  
UserProfileViewModel %
{ 
public 
string 
CoverLetter !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
IEnumerable 
< 
UserExperience )
>) *
?* +
Experiences, 7
{8 9
get: =
;= >
set? B
;B C
}D E
public		 
IEnumerable		 
<		 
UserCV		 !
>		! "
?		" #
CVs		$ '
{		( )
get		* -
;		- .
set		/ 2
;		2 3
}		4 5
}

 
} ™
AD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\UserViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class 
UserViewModel 
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
CreatedDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public		 
string		 
UpdatedDate		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
string		2 8
.		8 9
Empty		9 >
;		> ?
public

 
string

 
PhoneNumber

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
=

0 1
string

2 8
.

8 9
Empty

9 >
;

> ?
} 
} 0
)D:\Dacntt2\Source\EW\EW.WebAPI\Program.cs
var		 
builder		 
=		 
WebApplication		 
.		 
CreateBuilder		 *
(		* +
args		+ /
)		/ 0
;		0 1
string

 "
MyAllowSpecificOrigins

 
=

 
builder

  '
.

' (
Configuration

( 5
.

5 6
GetValue

6 >
<

> ?
string

? E
>

E F
(

F G
$str

G _
)

_ `
?? 
throw 
new !
ArgumentNullException '
(' (
$str( L
)L M
;M N
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
.  
AddEWDbConfiguration %
(% &
builder& -
.- .
Configuration. ;
); <
;< =
builder 
. 
Services 
. 
AddCors 
( 
options  
=>! #
{ 
options 
. 
	AddPolicy 
( "
MyAllowSpecificOrigins ,
,, -
builder. 5
=>6 8
builder9 @
.@ A
AllowAnyOriginA O
(O P
)P Q
.Q R
AllowAnyHeaderR `
(` a
)a b
.b c
AllowAnyMethodc q
(q r
)r s
)s t
;t u
} 
) 
; 
builder 
. 
Services 
. 
AddCors 
( 
) 
; 
builder 
. 
Services 
. 
RegisterService  
(  !
)! "
;" #
builder 
. 
Services 
. %
AddCustomsConfigureObject *
(* +
builder+ 2
.2 3
Configuration3 @
)@ A
;A B
builder 
. 
Services 
. 
AddAuthentication "
(" #
JwtBearerDefaults# 4
.4 5 
AuthenticationScheme5 I
)I J
. 
AddJwtBearer 
( 
options %
=>& (
{ 
options 
. %
TokenValidationParameters %
=& '
new( +%
TokenValidationParameters, E
{ $
ValidateIssuerSigningKey  
=! "
true# '
,' (
IssuerSigningKey   
=   
new    
SymmetricSecurityKey   3
(  3 4
Encoding  4 <
.  < =
UTF8  = A
.  A B
GetBytes  B J
(  J K

Constaints  K U
.  U V
ACCES_TOKEN_KEY  V e
)  e f
)  f g
,  g h
ValidateIssuer!! 
=!! 
false!! 
,!! 
ValidateAudience"" 
="" 
false""  
,""  !
ValidateLifetime## 
=## 
true## 
,##  
	ClockSkew$$ 
=$$ 
TimeSpan$$ 
.$$ 
Zero$$ !
}&& 
;&& 
}'' 
)'' 
;'' 
builder** 
.** 
Services** 
.** #
AddEndpointsApiExplorer** (
(**( )
)**) *
;*** +
builder++ 
.++ 
Services++ 
.++ 
AddSwaggerGen++ 
(++ 
)++  
;++  !
var-- 
app-- 
=-- 	
builder--
 
.-- 
Build-- 
(-- 
)-- 
;-- 
if// 
(// 
app// 
.// 
Environment// 
.// 
IsDevelopment// !
(//! "
)//" #
)//# $
{00 
app11 
.11 

UseSwagger11 
(11 
)11 
;11 
app22 
.22 
UseSwaggerUI22 
(22 
)22 
;22 
}33 
if55 
(55 
app55 
.55 
Environment55 
.55 
IsDevelopment55 !
(55! "
)55" #
==55$ &
false55' ,
)55, -
{66 
app77 
.77 
UseHsts77 
(77 
)77 
;77 
}88 
app:: 
.:: !
UseEWExceptionHandler:: 
(:: 
):: 
;:: 
app;; 
.;; 
UseHttpsRedirection;; 
(;; 
);; 
;;; 
app<< 
.<< 
UseStaticFiles<< 
(<< 
)<< 
;<< 
app== 
.== 
UseStaticFiles== 
(== 
new== 
StaticFileOptions== (
{>> 
FileProvider?? 
=?? 
new??  
PhysicalFileProvider?? +
(??+ ,
Path??, 0
.??0 1
Combine??1 8
(??8 9
builder??9 @
.??@ A
Environment??A L
.??L M
ContentRootPath??M \
,??\ ]
$str??^ g
)??g h
)??h i
,??i j
RequestPath@@ 
=@@ 
$str@@ 
}AA 
)AA 
;AA 
appBB 
.BB 

UseRoutingBB 
(BB 
)BB 
;BB 
appCC 
.CC 
UseCorsCC 
(CC "
MyAllowSpecificOriginsCC "
)CC" #
;CC# $
appDD 
.DD 
UseAuthenticationDD 
(DD 
)DD 
;DD 
appEE 
.EE 
UseAuthorizationEE 
(EE 
)EE 
;EE 
appGG 
.GG 
MapControllersGG 
(GG 
)GG 
;GG 
appII 
.II 
RunII 
(II 
)II 	
;II	 
