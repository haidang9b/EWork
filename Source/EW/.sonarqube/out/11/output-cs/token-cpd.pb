·í
DD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\ApplicationsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class "
ApplicationsController '
:( )
ControllerBase* 8
{ 
private 
readonly 
IApplicationService ,
_applicationService- @
;@ A
private 
readonly #
IRecruitmentPostService 0#
_recruitmentPostService1 H
;H I
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IEmailService &
_emailService' 4
;4 5
private 
readonly 
IUserCVService '
_userCVService( 6
;6 7
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public "
ApplicationsController %
(% &
IApplicationService 
applicationService  2
,2 3
IUserService 
userService $
,$ %#
IRecruitmentPostService #"
recruitmentPostService$ :
,: ;
IEmailService 
emailService &
,& '
IUserCVService 
userCVService (
) 
{   	
_applicationService!! 
=!!  !
applicationService!!" 4
;!!4 5
_userService"" 
="" 
userService"" &
;""& '#
_recruitmentPostService## #
=##$ %"
recruitmentPostService##& <
;##< =
_emailService$$ 
=$$ 
emailService$$ (
;$$( )
_userCVService%% 
=%% 
userCVService%% *
;%%* +

_apiResult&& 
=&& 
new&& 
(&& 
)&& 
;&& 
}'' 	
[.. 	
	Authorize..	 
(.. 
Roles.. 
=.. 
$str.. $
)..$ %
]..% &
[// 	
HttpPost//	 
]// 
public00 
async00 
Task00 
<00 
IActionResult00 '
>00' (
Post00) -
(00- .#
ApplicationRequestModel00. E
model00F K
)00K L
{11 	
var22 
currentUser22 
=22 
await22 #
_userService22$ 0
.220 1
GetUser221 8
(228 9
new229 <
User22= A
{22B C
Username22D L
=22M N
Username22O W
}22X Y
)22Y Z
;22Z [

_apiResult44 
.44 
Data44 
=44 
await44 #
_applicationService44$ 7
.447 8
Add448 ;
(44; <
new44< ?
AddApplicationModel44@ S
{55 
RecruitmentPostId66 !
=66" #
model66$ )
.66) *
RecruitmentPostId66* ;
,66; <
UserCVId77 
=77 
model77  
.77  !
UserCVId77! )
,77) *
UserId88 
=88 
currentUser88 $
.88$ %
Id88% '
,88' (
CoverLetter99 
=99 
model99 #
.99# $
CoverLetter99$ /
,99/ 0
Status:: 
=:: 
EApplicationStatus:: +
.::+ ,
ReceptionCV::, 7
,::7 8
Description;; 
=;; 
$str;;  
}<< 
)<< 
;<< 

_apiResult>> 
.>> 
Message>> 
=>>  
$str>>! 7
;>>7 8
if@@ 
(@@ 

_apiResult@@ 
.@@ 
Data@@ 
is@@  "
not@@# &
null@@' +
)@@+ ,
{AA 
varBB 
bodyBB 
=BB 
stringBB !
.BB! "
EmptyBB" '
;BB' (
varCC "
recruitmentPostCurrentCC *
=CC+ ,
awaitCC- 2#
_recruitmentPostServiceCC3 J
.CCJ K
GetRecruitmentPostCCK ]
(CC] ^
newCC^ a
RecruitmentPostCCb q
{CCr s
IdCCt v
=CCw x
modelCCy ~
.CC~ 
RecruitmentPostId	CC ê
}
CCë í
)
CCí ì
;
CCì î
usingDD 
(DD 
StreamReaderDD #
readerDD$ *
=DD+ ,
newDD- 0
(DD0 1
PathDD1 5
.DD5 6
CombineDD6 =
(DD= >
$strDD> a
)DDa b
)DDb c
)DDc d
{EE 
bodyFF 
=FF 
readerFF !
.FF! "
	ReadToEndFF" +
(FF+ ,
)FF, -
;FF- .
}GG 
varHH 
bodyBuilderHH 
=HH  !
newHH" %
SystemHH& ,
.HH, -
TextHH- 1
.HH1 2
StringBuilderHH2 ?
(HH? @
bodyHH@ D
)HHD E
;HHE F
bodyBuilderII 
.II 
ReplaceII #
(II# $
$strII$ 3
,II3 4"
recruitmentPostCurrentII5 K
.IIK L
CompanyIIL S
.IIS T
CompanyNameIIT _
)II_ `
;II` a
bodyBuilderJJ 
.JJ 
ReplaceJJ #
(JJ# $
$strJJ$ 0
,JJ0 1
currentUserJJ2 =
.JJ= >
FullNameJJ> F
)JJF G
;JJG H
varKK 
dataKK 
=KK 
newKK 
EmailDataModelKK -
{KK. /
BodyKK0 4
=KK5 6
bodyBuilderKK7 B
.KKB C
ToStringKKC K
(KKK L
)KKL M
,KKM N
SubjectKKO V
=KKW X
$"KKY [
$strKK[ c
{KKc d"
recruitmentPostCurrentKKd z
.KKz {
Company	KK{ Ç
.
KKÇ É
CompanyName
KKÉ é
}
KKé è
$str
KKè ¥
"
KK¥ µ
,
KKµ ∂
ToEmail
KK∑ æ
=
KKø ¿
currentUser
KK¡ Ã
.
KKÃ Õ
Email
KKÕ “
}
KK” ‘
;
KK‘ ’
awaitLL 
_emailServiceLL #
.LL# $
	SendEmailLL$ -
(LL- .
dataLL. 2
)LL2 3
;LL3 4
}MM 
returnOO 
OkOO 
(OO 

_apiResultOO  
)OO  !
;OO! "
}PP 	
[VV 	
	AuthorizeVV	 
(VV 
RolesVV 
=VV 
$strVV $
)VV$ %
]VV% &
[WW 	
HttpGetWW	 
]WW 
publicXX 
asyncXX 
TaskXX 
<XX 
IActionResultXX '
>XX' (
IndexXX) .
(XX. /
)XX/ 0
{YY 	

_apiResultZZ 
.ZZ 
DataZZ 
=ZZ 
awaitZZ #
_applicationServiceZZ$ 7
.ZZ7 8
GetByApplierZZ8 D
(ZZD E
newZZE H
UserZZI M
{[[ 
Username\\ 
=\\ 
Username\\ #
,\\# $
}]] 
)]] 
;]] 
return__ 
Ok__ 
(__ 

_apiResult__  
)__  !
;__! "
}`` 	
[ff 	
	Authorizeff	 
(ff 
Rolesff 
=ff 
$strff $
)ff$ %
]ff% &
[gg 	
HttpGetgg	 
(gg 
$strgg 
)gg  
]gg  !
publichh 
asynchh 
Taskhh 
<hh 
IActionResulthh '
>hh' (
GetJobsAppliedhh) 7
(hh7 8
)hh8 9
{ii 	

_apiResultjj 
.jj 
Datajj 
=jj 
awaitjj #
_applicationServicejj$ 7
.jj7 8
GetJobsAppliedjj8 F
(jjF G
newjjG J
UserjjK O
{kk 
Usernamell 
=ll 
Usernamell #
,ll# $
}mm 
)mm 
;mm 
returnoo 
Okoo 
(oo 

_apiResultoo  
)oo  !
;oo! "
}pp 	
[uu 	
	Authorizeuu	 
(uu 
Rolesuu 
=uu 
$struu -
)uu- .
]uu. /
[vv 	
HttpGetvv	 
(vv 
$strvv 
)vv 
]vv 
publicww 
asyncww 
Taskww 
<ww 
IActionResultww '
>ww' (

GetAppliedww) 3
(ww3 4
)ww4 5
{xx 	
varyy 
currentUseryy 
=yy 
awaityy #
_userServiceyy$ 0
.yy0 1
GetUseryy1 8
(yy8 9
newyy9 <
Useryy= A
{yyB C
UsernameyyD L
=yyM N
UsernameyyO W
}yyX Y
)yyY Z
;yyZ [
ifzz 
(zz 
currentUserzz 
.zz 
RoleIdzz "
==zz# %
(zz& '
longzz' +
)zz+ ,
ERolezz, 1
.zz1 2

ID_Facultyzz2 <
)zz< =
{{{ 

_apiResult|| 
.|| 
Data|| 
=||  !
await||" '
_applicationService||( ;
.||; <
GetApplieds||< G
(||G H
)||H I
;||I J
}}} 
else~~ 
{ 

_apiResult
ÄÄ 
.
ÄÄ 
Data
ÄÄ 
=
ÄÄ  !
await
ÄÄ" '!
_applicationService
ÄÄ( ;
.
ÄÄ; <$
GetAppliedsForBusiness
ÄÄ< R
(
ÄÄR S
new
ÄÄS V
User
ÄÄW [
{
ÄÄ\ ]
Username
ÄÄ^ f
=
ÄÄg h
Username
ÄÄi q
,
ÄÄq r
}
ÄÄs t
)
ÄÄt u
;
ÄÄu v
}
ÅÅ 

_apiResult
ÇÇ 
.
ÇÇ 
Message
ÇÇ 
=
ÇÇ  
$str
ÇÇ! 9
;
ÇÇ9 :
return
ÑÑ 
Ok
ÑÑ 
(
ÑÑ 

_apiResult
ÑÑ  
)
ÑÑ  !
;
ÑÑ! "
}
ÖÖ 	
[
ãã 	
	Authorize
ãã	 
(
ãã 
Roles
ãã 
=
ãã 
$str
ãã %
)
ãã% &
]
ãã& '
[
åå 	
HttpPut
åå	 
]
åå 
public
çç 
async
çç 
Task
çç 
<
çç 
IActionResult
çç '
>
çç' (
UpdateApplication
çç) :
(
çç: ;!
UpdateProgressModel
çç; N
model
ççO T
)
ççT U
{
éé 	
var
èè 
	isHasRole
èè 
=
èè 
await
èè !!
_applicationService
èè" 5
.
èè5 6
	IsHasRole
èè6 ?
(
èè? @
new
èè@ C"
ApplicationUserModel
èèD X
{
èèY Z
Username
èè[ c
=
èèd e
Username
èèf n
,
èèn o
ApplicationId
èèp }
=
èè~ 
modelèèÄ Ö
.èèÖ Ü
IdèèÜ à
}èèâ ä
)èèä ã
;èèã å
if
êê 
(
êê 
!
êê 
	isHasRole
êê 
)
êê 
{
ëë 

_apiResult
íí 
.
íí 
	IsSuccess
íí $
=
íí% &
false
íí' ,
;
íí, -

_apiResult
ìì 
.
ìì 
Message
ìì "
=
ìì# $
$str
ìì% B
;
ììB C
return
îî 
Ok
îî 
(
îî 

_apiResult
îî $
)
îî$ %
;
îî% &
}
ïï 

_apiResult
ññ 
.
ññ 
	IsSuccess
ññ  
=
ññ! "
await
ññ# (!
_applicationService
ññ) <
.
ññ< =
Update
ññ= C
(
ññC D
new
ññD G
Application
ññH S
{
óó 
Id
òò 
=
òò 
model
òò 
.
òò 
Id
òò 
,
òò 
Status
ôô 
=
ôô 
model
ôô 
.
ôô 
Status
ôô %
,
ôô% &
Description
öö 
=
öö 
model
öö #
.
öö# $
Description
öö$ /
}
õõ 
)
õõ 
;
õõ 
if
úú 
(
úú 

_apiResult
úú 
.
úú 
	IsSuccess
úú $
)
úú$ %
{
ùù 

_apiResult
ûû 
.
ûû 
Data
ûû 
=
ûû  !
model
ûû" '
;
ûû' (

_apiResult
üü 
.
üü 
Message
üü "
=
üü# $
$str
üü% D
;
üüD E
}
†† 
else
°° 
{
¢¢ 

_apiResult
££ 
.
££ 
Message
££ "
=
££# $
$str
££% J
;
££J K
}
§§ 
return
ßß 
Ok
ßß 
(
ßß 

_apiResult
ßß  
)
ßß  !
;
ßß! "
}
®® 	
[
ÆÆ 	
	Authorize
ÆÆ	 
(
ÆÆ 
Roles
ÆÆ 
=
ÆÆ 
$str
ÆÆ %
)
ÆÆ% &
]
ÆÆ& '
[
ØØ 	
HttpPost
ØØ	 
(
ØØ 
$str
ØØ 
)
ØØ 
]
ØØ 
public
∞∞ 
async
∞∞ 
Task
∞∞ 
<
∞∞ 
IActionResult
∞∞ '
>
∞∞' (

MarkedUser
∞∞) 3
(
∞∞3 4+
MarkedApplicationRequestModel
∞∞4 Q
model
∞∞R W
)
∞∞W X
{
±± 	
var
≤≤ 
newApplication
≤≤ 
=
≤≤  
new
≤≤! $!
AddApplicationModel
≤≤% 8
{
≥≥ 
RecruitmentPostId
¥¥ !
=
¥¥" #
model
¥¥$ )
.
¥¥) *
RecruitmentPostId
¥¥* ;
,
¥¥; <
UserCVId
µµ 
=
µµ 
model
µµ  
.
µµ  !
UserCVId
µµ! )
,
µµ) *
Description
∂∂ 
=
∂∂ 
model
∂∂ #
.
∂∂# $
Description
∂∂$ /
,
∂∂/ 0
CoverLetter
∑∑ 
=
∑∑ 
$str
∑∑  
,
∑∑  !
Status
∏∏ 
=
∏∏  
EApplicationStatus
∏∏ +
.
∏∏+ ,
Marked
∏∏, 2
,
∏∏2 3
UserId
ππ 
=
ππ 
model
ππ 
.
ππ 
UserId
ππ %
??
ππ& (
$num
ππ) *
,
ππ* +
}
∫∫ 
;
∫∫ 

_apiResult
ªª 
.
ªª 
Data
ªª 
=
ªª 
await
ªª #!
_applicationService
ªª$ 7
.
ªª7 8
Add
ªª8 ;
(
ªª; <
newApplication
ªª< J
)
ªªJ K
;
ªªK L

_apiResult
ºº 
.
ºº 
Message
ºº 
=
ºº  
$str
ºº! 6
;
ºº6 7
if
ΩΩ 
(
ΩΩ 

_apiResult
ΩΩ 
.
ΩΩ 
Data
ΩΩ 
is
ΩΩ  "
not
ΩΩ# &
null
ΩΩ' +
)
ΩΩ+ ,
{
ææ 
var
øø 
currentUserCV
øø !
=
øø" #
await
øø$ )
_userCVService
øø* 8
.
øø8 9
GetUserCVByInfo
øø9 H
(
øøH I
new
øøI L
UserCV
øøM S
{
øøT U
Id
øøV X
=
øøY Z
model
øø[ `
.
øø` a
UserCVId
øøa i
}
øøj k
)
øøk l
;
øøl m
var
¿¿ 
body
¿¿ 
=
¿¿ 
string
¿¿ !
.
¿¿! "
Empty
¿¿" '
;
¿¿' (
var
¡¡ $
recruitmentPostCurrent
¡¡ *
=
¡¡+ ,
await
¡¡- 2%
_recruitmentPostService
¡¡3 J
.
¡¡J K 
GetRecruitmentPost
¡¡K ]
(
¡¡] ^
new
¡¡^ a
RecruitmentPost
¡¡b q
{
¡¡r s
Id
¡¡t v
=
¡¡w x
model
¡¡y ~
.
¡¡~  
RecruitmentPostId¡¡ ê
}¡¡ë í
)¡¡í ì
;¡¡ì î
using
¬¬ 
(
¬¬ 
StreamReader
¬¬ #
reader
¬¬$ *
=
¬¬+ ,
new
¬¬- 0
(
¬¬0 1
Path
¬¬1 5
.
¬¬5 6
Combine
¬¬6 =
(
¬¬= >
$str
¬¬> `
)
¬¬` a
)
¬¬a b
)
¬¬b c
{
√√ 
body
ƒƒ 
=
ƒƒ 
reader
ƒƒ !
.
ƒƒ! "
	ReadToEnd
ƒƒ" +
(
ƒƒ+ ,
)
ƒƒ, -
;
ƒƒ- .
}
≈≈ 
var
∆∆ 
bodyBuilder
∆∆ 
=
∆∆  !
new
∆∆" %
System
∆∆& ,
.
∆∆, -
Text
∆∆- 1
.
∆∆1 2
StringBuilder
∆∆2 ?
(
∆∆? @
body
∆∆@ D
)
∆∆D E
;
∆∆E F
bodyBuilder
«« 
.
«« 
Replace
«« #
(
««# $
$str
««$ 3
,
««3 4$
recruitmentPostCurrent
««5 K
.
««K L
Company
««L S
.
««S T
CompanyName
««T _
)
««_ `
;
««` a
bodyBuilder
»» 
.
»» 
Replace
»» #
(
»»# $
$str
»»$ 0
,
»»0 1
currentUserCV
»»2 ?
.
»»? @
User
»»@ D
.
»»D E
FullName
»»E M
)
»»M N
;
»»N O
var
…… 
data
…… 
=
…… 
new
…… 
EmailDataModel
…… -
{
……. /
Body
……0 4
=
……5 6
bodyBuilder
……7 B
.
……B C
ToString
……C K
(
……K L
)
……L M
,
……M N
Subject
……O V
=
……W X
$"
……Y [
$str
……[ c
{
……c d$
recruitmentPostCurrent
……d z
.
……z {
Company……{ Ç
.……Ç É
CompanyName……É é
}……é è
$str……è ©
"……© ™
,……™ ´
ToEmail……¨ ≥
=……¥ µ
currentUserCV……∂ √
.……√ ƒ
User……ƒ »
.……» …
Email……… Œ
}……œ –
;……– —
await
   
_emailService
   #
.
  # $
	SendEmail
  $ -
(
  - .
data
  . 2
)
  2 3
;
  3 4
}
ÀÀ 
return
ÕÕ 
Ok
ÕÕ 
(
ÕÕ 

_apiResult
ÕÕ  
)
ÕÕ  !
;
ÕÕ! "
}
ŒŒ 	
}
œœ 
}–– Úﬂ
<D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\AuthController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
AuthController 
:  !
ControllerBase" 0
{ 
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
ITokenService &
_tokenService' 4
;4 5
private 
readonly 
IEmailService &
_emailService' 4
;4 5
private 
readonly 
ICompanyService (
_companyService) 8
;8 9
private 
readonly 
CustomConfig %
_customConfig& 3
;3 4
private 
readonly 
IMapper  
_mapper! (
;( )
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public 
AuthController 
( 
IUserService   
userService   $
,  $ %
ITokenService!! 
tokenService!! &
,!!& '
IEmailService"" 
emailService"" &
,""& '
ICompanyService## 
companyService## *
,##* +
IOptions$$ 
<$$ 
CustomConfig$$ !
>$$! "
customConfig$$# /
,$$/ 0
IMapper%% 
mapper%% 
)&& 	
{'' 	
_userService(( 
=(( 
userService(( &
;((& '
_tokenService)) 
=)) 
tokenService)) (
;))( )
_companyService** 
=** 
companyService** ,
;**, -
_emailService++ 
=++ 
emailService++ (
;++( )
_customConfig,, 
=,, 
customConfig,, (
.,,( )
Value,,) .
;,,. /
_mapper-- 
=-- 
mapper-- 
;-- 

_apiResult.. 
=.. 
new.. 
(.. 
).. 
;.. 
}// 	
[11 	
HttpPost11	 
(11 
$str11 
)11 
]11 
[22 	
AllowAnonymous22	 
]22 
public33 
async33 
Task33 
<33 
IActionResult33 '
>33' (
Register33) 1
(331 2
RegisterModel332 ?
model33@ E
)33E F
{44 	
var55 
newUser55 
=55 
_mapper55 !
.55! "
Map55" %
<55% &
User55& *
>55* +
(55+ ,
model55, 1
)551 2
;552 3

_apiResult66 
.66 
	IsSuccess66  
=66! "
await66# (
_userService66) 5
.665 6
Register666 >
(66> ?
newUser66? F
)66F G
;66G H
return88 
Ok88 
(88 

_apiResult88  
)88  !
;88! "
}99 	
[;; 	
HttpPost;;	 
(;; 
$str;; 
);; 
];; 
[<< 	
AllowAnonymous<<	 
]<< 
public== 
async== 
Task== 
<== 
IActionResult== '
>==' (
Login==) .
(==. /

LoginModel==/ 9
model==: ?
)==? @
{>> 	
var?? 
exist?? 
=?? 
await?? 
_userService?? *
.??* +
GetUser??+ 2
(??2 3
new??3 6
User??7 ;
{??< =
Username??> F
=??G H
model??I N
.??N O
Username??O W
}??X Y
)??Y Z
;??Z [
if@@ 
(@@ 
exist@@ 
is@@ 
not@@ 
null@@ !
&&@@" $
BCrypt@@% +
.@@+ ,
Net@@, /
.@@/ 0
BCrypt@@0 6
.@@6 7
Verify@@7 =
(@@= >
model@@> C
.@@C D
Password@@D L
,@@L M
exist@@N S
.@@S T
Password@@T \
)@@\ ]
)@@] ^
{AA 
ifCC 
(CC 
existCC 
.CC 
RoleIdCC  
==CC! #
(CC$ %
longCC% )
)CC) *
ERoleCC* /
.CC/ 0
ID_BusinessCC0 ;
)CC; <
{DD 
varEE 
companyEE 
=EE  !
awaitEE" '
_companyServiceEE( 7
.EE7 8
GetCompanyByUserEE8 H
(EEH I
newEEI L
UserEEM Q
{EER S
IdEET V
=EEW X
existEEY ^
.EE^ _
IdEE_ a
}EEb c
)EEc d
;EEd e
ifFF 
(FF 
companyFF 
isFF  "
notFF# &
nullFF' +
&&FF, .
companyFF/ 6
.FF6 7
StatusFF7 =
==FF> @
EStatusRecruiterFFA Q
.FFQ R
PendingFFR Y
)FFY Z
{GG 
throwHH 
newHH !
EWExceptionHH" -
(HH- .
$strHH. m
)HHm n
;HHn o
}II 
ifKK 
(KK 
companyKK 
isKK  "
notKK# &
nullKK' +
&&KK, .
companyKK/ 6
.KK6 7
StatusKK7 =
==KK> @
EStatusRecruiterKKA Q
.KKQ R
DisabledKKR Z
)KKZ [
{LL 
throwMM 
newMM !
EWExceptionMM" -
(MM- .
$strMM. x
)MMx y
;MMy z
}NN 
ifPP 
(PP 
companyPP 
isPP  "
nullPP# '
)PP' (
{QQ 
throwRR 
newRR !
EWExceptionRR" -
(RR- .
$strRR. X
)RRX Y
;RRY Z
}SS 
}TT 
ifUU 
(UU 
!UU 
existUU 
.UU 
IsActiveUU #
)UU# $
{VV 
throwWW 
newWW 
EWExceptionWW )
(WW) *
$strWW* j
)WWj k
;WWk l
}XX 

_apiResultYY 
.YY 
MessageYY "
=YY# $
$strYY% ;
;YY; <
varZZ 
rfTokenZZ 
=ZZ 
_tokenServiceZZ +
.ZZ+ ,
CreateRefreshTokenZZ, >
(ZZ> ?
existZZ? D
)ZZD E
;ZZE F
var[[ 
data[[ 
=[[ 
new[[ 
LoginViewModel[[ -
{\\ 
AccessToken]] 
=]]  !
_tokenService]]" /
.]]/ 0
CreateToken]]0 ;
(]]; <
exist]]< A
)]]A B
,]]B C
RefreshToken^^  
=^^! "
rfToken^^# *
,^^* +
}__ 
;__ 

_apiResult`` 
.`` 
Data`` 
=``  !
data``" &
;``& '
}aa 
elsebb 
{cc 

_apiResultdd 
.dd 
	IsSuccessdd $
=dd% &
falsedd' ,
;dd, -

_apiResultee 
.ee 
Messageee "
=ee# $
$stree% N
;eeN O
}ff 
returnhh 
Okhh 
(hh 

_apiResulthh  
)hh  !
;hh! "
}ii 	
[kk 	
HttpPostkk	 
(kk 
$strkk  
)kk  !
]kk! "
publicll 
asyncll 
Taskll 
<ll 
IActionResultll '
>ll' (
RefreshTokenll) 5
(ll5 6
RefreshTokenModelll6 G
modelllH M
)llM N
{mm 	
varoo 
refreshTokenoo 
=oo 
modeloo $
.oo$ %
RefreshTokenoo% 1
;oo1 2
varpp 
validatepp 
=pp 
_tokenServicepp (
.pp( )"
GetPayloadRefreshTokenpp) ?
(pp? @
refreshTokenpp@ L
)ppL M
??qq 
throwqq 
newqq 
EWExceptionqq (
(qq( )
$strqq) A
)qqA B
;qqB C
varrr 
existrr 
=rr 
awaitrr 
_userServicerr *
.rr* +
GetUserrr+ 2
(rr2 3
newrr3 6
Userrr7 ;
{ss 
Emailtt 
=tt 
validatett  
.tt  !
Issuertt! '
,tt' (
Usernameuu 
=uu 
validateuu #
.uu# $
Issueruu$ *
,uu* +
}vv 
)vv 
;vv 
ifww 
(ww 
!ww 
existww 
.ww 
IsActiveww 
)ww  
{xx 
throwyy 
newyy 
EWExceptionyy %
(yy% &
$stryy& f
)yyf g
;yyg h
}zz 
var{{ 
token{{ 
={{ 
_tokenService{{ %
.{{% &
CreateToken{{& 1
({{1 2
exist{{2 7
){{7 8
;{{8 9
var|| 
rfToken|| 
=|| 
_tokenService|| '
.||' (
CreateRefreshToken||( :
(||: ;
exist||; @
)||@ A
;||A B

_apiResult}} 
.}} 
Data}} 
=}} 
new}} !
LoginViewModel}}" 0
{~~ 
AccessToken 
= 
token #
,# $
RefreshToken
ÄÄ 
=
ÄÄ 
rfToken
ÄÄ &
,
ÄÄ& '
}
ÅÅ 
;
ÅÅ 
return
ÑÑ 
Ok
ÑÑ 
(
ÑÑ 

_apiResult
ÑÑ  
)
ÑÑ  !
;
ÑÑ! "
}
ÖÖ 	
[
áá 	
HttpGet
áá	 
(
áá 
$str
áá 
)
áá 
]
áá 
[
àà 	
	Authorize
àà	 
(
àà 
Roles
àà 
=
àà 
$str
àà $
)
àà$ %
]
àà% &
public
ââ 
async
ââ 
Task
ââ 
<
ââ 
IActionResult
ââ '
>
ââ' (
Users
ââ) .
(
ââ. /
)
ââ/ 0
{
ää 	

_apiResult
åå 
.
åå 
Data
åå 
=
åå 
await
åå #
_userService
åå$ 0
.
åå0 1
GetUsers
åå1 9
(
åå9 :
)
åå: ;
;
åå; <
return
éé 
Ok
éé 
(
éé 

_apiResult
éé  
)
éé  !
;
éé! "
}
èè 	
[
ëë 	
HttpGet
ëë	 
(
ëë 
$str
ëë 
)
ëë 
]
ëë 
public
íí 
async
íí 
Task
íí 
<
íí 
IActionResult
íí '
>
íí' (
GetUsersById
íí) 5
(
íí5 6
int
íí6 9
id
íí: <
)
íí< =
{
ìì 	

_apiResult
ïï 
.
ïï 
Data
ïï 
=
ïï 
await
ïï #
_userService
ïï$ 0
.
ïï0 1
GetUser
ïï1 8
(
ïï8 9
new
ïï9 <
User
ïï= A
{
ïïB C
Id
ïïD F
=
ïïG H
id
ïïI K
}
ïïL M
)
ïïM N
;
ïïN O
return
òò 
Ok
òò 
(
òò 

_apiResult
òò  
)
òò  !
;
òò! "
}
ôô 	
[
õõ 	
HttpPost
õõ	 
(
õõ 
$str
õõ  
)
õõ  !
]
õõ! "
public
úú 
async
úú 
Task
úú 
<
úú 
IActionResult
úú '
>
úú' (
LoginWithGoogle
úú) 8
(
úú8 9"
LoginWithGoogleModel
úú9 M
model
úúN S
)
úúS T
{
ùù 	
var
üü 
newUser
üü 
=
üü 
_mapper
üü !
.
üü! "
Map
üü" %
<
üü% &
User
üü& *
>
üü* +
(
üü+ ,
model
üü, 1
)
üü1 2
;
üü2 3
var
†† 
resultRegister
†† 
=
††  
await
††! &
_userService
††' 3
.
††3 4 
RegisterWithGoogle
††4 F
(
††F G
newUser
††G N
)
††N O
;
††O P
if
°° 
(
°° 
!
°° 
resultRegister
°° 
)
°°  
{
¢¢ 
throw
££ 
new
££ 
EWException
££ %
(
££% &
$str
££& H
)
££H I
;
££I J
}
§§ 
else
•• 
{
¶¶ 
var
ßß 
exist
ßß 
=
ßß 
await
ßß !
_userService
ßß" .
.
ßß. /
GetUser
ßß/ 6
(
ßß6 7
new
ßß7 :
User
ßß; ?
{
ßß@ A
Username
ßßB J
=
ßßK L
model
ßßM R
.
ßßR S
GoogleId
ßßS [
,
ßß[ \
Email
ßß] b
=
ßßc d
model
ßße j
.
ßßj k
Email
ßßk p
}
ßßq r
)
ßßr s
;
ßßs t
var
®® 
rfToken
®® 
=
®® 
_tokenService
®® +
.
®®+ , 
CreateRefreshToken
®®, >
(
®®> ?
exist
®®? D
)
®®D E
;
®®E F
var
©© 
data
©© 
=
©© 
new
©© 
LoginViewModel
©© -
{
™™ 
AccessToken
´´ 
=
´´  !
_tokenService
´´" /
.
´´/ 0
CreateToken
´´0 ;
(
´´; <
exist
´´< A
)
´´A B
,
´´B C
RefreshToken
¨¨  
=
¨¨! "
rfToken
¨¨# *
,
¨¨* +
}
≠≠ 
;
≠≠ 

_apiResult
ÆÆ 
.
ÆÆ 
Data
ÆÆ 
=
ÆÆ  !
data
ÆÆ" &
;
ÆÆ& '

_apiResult
ØØ 
.
ØØ 
Message
ØØ "
=
ØØ# $
$str
ØØ% ;
;
ØØ; <
}
∞∞ 
return
≤≤ 
Ok
≤≤ 
(
≤≤ 

_apiResult
≤≤  
)
≤≤  !
;
≤≤! "
}
≥≥ 	
[
∫∫ 	
AllowAnonymous
∫∫	 
]
∫∫ 
[
ªª 	
HttpPost
ªª	 
(
ªª 
$str
ªª 
)
ªª 
]
ªª 
public
ºº 
async
ºº 
Task
ºº 
<
ºº 
IActionResult
ºº '
>
ºº' (
RecoveryPassword
ºº) 9
(
ºº9 :#
RecoveryPasswordModel
ºº: O
model
ººP U
)
ººU V
{
ΩΩ 	
var
øø 
exist
øø 
=
øø 
await
øø 
_userService
øø *
.
øø* +
GetUser
øø+ 2
(
øø2 3
new
øø3 6
User
øø7 ;
{
øø< =
Username
øø> F
=
øøG H
model
øøI N
.
øøN O
Username
øøO W
,
øøW X
Email
øøY ^
=
øø_ `
model
øøa f
.
øøf g
Email
øøg l
}
øøm n
)
øøn o
;
øøo p
if
¿¿ 
(
¿¿ 
exist
¿¿ 
is
¿¿ 
null
¿¿ 
||
¿¿  
exist
¿¿! &
.
¿¿& '
Email
¿¿' ,
!=
¿¿- /
model
¿¿0 5
.
¿¿5 6
Email
¿¿6 ;
||
¿¿< >
exist
¿¿? D
.
¿¿D E
Username
¿¿E M
!=
¿¿N P
model
¿¿Q V
.
¿¿V W
Username
¿¿W _
)
¿¿_ `
{
¡¡ 
throw
¬¬ 
new
¬¬ 
EWException
¬¬ %
(
¬¬% &
$str
¬¬& o
)
¬¬o p
;
¬¬p q
}
√√ 
if
ƒƒ 
(
ƒƒ 
!
ƒƒ 
exist
ƒƒ 
.
ƒƒ 
IsActive
ƒƒ 
)
ƒƒ  
throw
≈≈ 
new
≈≈ 
EWException
≈≈ %
(
≈≈% &
$str
≈≈& f
)
≈≈f g
;
≈≈g h
var
∆∆ 
body
∆∆ 
=
∆∆ 
string
∆∆ 
.
∆∆ 
Empty
∆∆ #
;
∆∆# $
using
«« 
(
«« 
StreamReader
«« 
reader
««  &
=
««' (
new
««) ,
(
««, -
Path
««- 1
.
««1 2
Combine
««2 9
(
««9 :
$str
««: `
)
««` a
)
««a b
)
««b c
{
»» 
body
…… 
=
…… 
reader
…… 
.
…… 
	ReadToEnd
…… '
(
……' (
)
……( )
;
……) *
}
   
var
ÀÀ 
key
ÀÀ 
=
ÀÀ 
await
ÀÀ 
_userService
ÀÀ (
.
ÀÀ( )!
GenKeyResetPassword
ÀÀ) <
(
ÀÀ< =
exist
ÀÀ= B
)
ÀÀB C
;
ÀÀC D
var
ÃÃ 
bodyBuilder
ÃÃ 
=
ÃÃ 
new
ÃÃ !
System
ÃÃ" (
.
ÃÃ( )
Text
ÃÃ) -
.
ÃÃ- .
StringBuilder
ÃÃ. ;
(
ÃÃ; <
body
ÃÃ< @
)
ÃÃ@ A
;
ÃÃA B
bodyBuilder
ŒŒ 
.
ŒŒ 
Replace
ŒŒ 
(
ŒŒ  
$str
ŒŒ  ,
,
ŒŒ, -
exist
ŒŒ. 3
.
ŒŒ3 4
FullName
ŒŒ4 <
)
ŒŒ< =
;
ŒŒ= >
bodyBuilder
œœ 
.
œœ 
Replace
œœ 
(
œœ  
$str
œœ  '
,
œœ' (
$"
œœ) +
{
œœ+ ,
_customConfig
œœ, 9
.
œœ9 :
FrontEndURL
œœ: E
}
œœE F
$str
œœF \
{
œœ\ ]
key
œœ] `
}
œœ` a
$str
œœa k
{
œœk l
exist
œœl q
.
œœq r
Username
œœr z
}
œœz {
"
œœ{ |
)
œœ| }
;
œœ} ~
var
—— 
data
—— 
=
—— 
new
—— 
EmailDataModel
—— )
{
——* +
Body
——, 0
=
——1 2
bodyBuilder
——3 >
.
——> ?
ToString
——? G
(
——G H
)
——H I
,
——I J
Subject
——K R
=
——S T
$str
——U q
,
——q r
ToEmail
——s z
=
——{ |
exist——} Ç
.——Ç É
Email——É à
}——â ä
;——ä ã
await
”” 
_emailService
”” 
.
””  
	SendEmail
””  )
(
””) *
data
””* .
)
””. /
;
””/ 0

_apiResult
’’ 
.
’’ 
	IsSuccess
’’  
=
’’! "
true
’’# '
;
’’' (

_apiResult
÷÷ 
.
÷÷ 
Message
÷÷ 
=
÷÷  
$str
÷÷! Y
;
÷÷Y Z
return
ÿÿ 
Ok
ÿÿ 
(
ÿÿ 

_apiResult
ÿÿ  
)
ÿÿ  !
;
ÿÿ! "
}
ŸŸ 	
[
ﬂﬂ 	
AllowAnonymous
ﬂﬂ	 
]
ﬂﬂ 
[
‡‡ 	
HttpPost
‡‡	 
(
‡‡ 
$str
‡‡ )
)
‡‡) *
]
‡‡* +
public
·· 
async
·· 
Task
·· 
<
·· 
IActionResult
·· '
>
··' ( 
IsValidCodeRecover
··) ;
(
··; <"
ValidateRecoverModel
··< P
model
··Q V
)
··V W
{
‚‚ 	
var
„„ 
exist
„„ 
=
„„ 
await
„„ 
_userService
„„ *
.
„„* +
GetUser
„„+ 2
(
„„2 3
new
„„3 6
User
„„7 ;
{
„„< =
Username
„„> F
=
„„G H
model
„„I N
.
„„N O
Username
„„O W
}
„„X Y
)
„„Y Z
;
„„Z [
if
‰‰ 
(
‰‰ 
exist
‰‰ 
is
‰‰ 
null
‰‰ 
||
‰‰  
(
‰‰! "
exist
‰‰" '
is
‰‰( *
not
‰‰+ .
null
‰‰/ 3
&&
‰‰4 6
exist
‰‰7 <
.
‰‰< = 
TokenResetPassword
‰‰= O
!=
‰‰P R
model
‰‰S X
.
‰‰X Y
Code
‰‰Y ]
)
‰‰] ^
)
‰‰^ _
{
ÂÂ 
throw
ÊÊ 
new
ÊÊ 
EWException
ÊÊ %
(
ÊÊ% &
$str
ÊÊ& <
)
ÊÊ< =
;
ÊÊ= >
}
ÁÁ 
else
ËË 
{
ÈÈ 

_apiResult
ÍÍ 
.
ÍÍ 
Message
ÍÍ "
=
ÍÍ# $
$str
ÍÍ% )
;
ÍÍ) *

_apiResult
ÎÎ 
.
ÎÎ 
	IsSuccess
ÎÎ $
=
ÎÎ% &
true
ÎÎ' +
;
ÎÎ+ ,
}
ÏÏ 
return
ÓÓ 
Ok
ÓÓ 
(
ÓÓ 

_apiResult
ÓÓ  
)
ÓÓ  !
;
ÓÓ! "
}
ÔÔ 	
[
ˆˆ 	
AllowAnonymous
ˆˆ	 
]
ˆˆ 
[
˜˜ 	
HttpPost
˜˜	 
(
˜˜ 
$str
˜˜ "
)
˜˜" #
]
˜˜# $
public
¯¯ 
async
¯¯ 
Task
¯¯ 
<
¯¯ 
IActionResult
¯¯ '
>
¯¯' (
ResetPassword
¯¯) 6
(
¯¯6 7 
SubmitRecoverModel
¯¯7 I
model
¯¯J O
)
¯¯O P
{
˘˘ 	
var
˚˚ 
exist
˚˚ 
=
˚˚ 
await
˚˚ 
_userService
˚˚ *
.
˚˚* +
GetUser
˚˚+ 2
(
˚˚2 3
new
˚˚3 6
User
˚˚7 ;
{
˚˚< =
Username
˚˚> F
=
˚˚G H
model
˚˚I N
.
˚˚N O
Username
˚˚O W
}
˚˚X Y
)
˚˚Y Z
??
¸¸ 
throw
¸¸ 
new
¸¸ 
EWException
¸¸ (
(
¸¸( )
$str
¸¸) A
)
¸¸A B
;
¸¸B C
if
˛˛ 
(
˛˛ 
exist
˛˛ 
.
˛˛  
TokenResetPassword
˛˛ (
!=
˛˛) +
model
˛˛, 1
.
˛˛1 2
Code
˛˛2 6
)
˛˛6 7
{
ˇˇ 
throw
ÄÄ 
new
ÄÄ 
EWException
ÄÄ %
(
ÄÄ% &
$str
ÄÄ& <
)
ÄÄ< =
;
ÄÄ= >
}
ÅÅ 
else
ÇÇ 
{
ÉÉ 
exist
ÑÑ 
.
ÑÑ 
Password
ÑÑ 
=
ÑÑ  
model
ÑÑ! &
.
ÑÑ& '
Password
ÑÑ' /
;
ÑÑ/ 0

_apiResult
ÖÖ 
.
ÖÖ 
Message
ÖÖ "
=
ÖÖ# $
$str
ÖÖ% E
;
ÖÖE F

_apiResult
ÜÜ 
.
ÜÜ 
	IsSuccess
ÜÜ $
=
ÜÜ% &
await
ÜÜ' ,
_userService
ÜÜ- 9
.
ÜÜ9 :
ResetPassword
ÜÜ: G
(
ÜÜG H
exist
ÜÜH M
)
ÜÜM N
;
ÜÜN O
}
áá 
return
ââ 
Ok
ââ 
(
ââ 

_apiResult
ââ  
)
ââ  !
;
ââ! "
}
ää 	
[
êê 	
	Authorize
êê	 
]
êê 
[
ëë 	
HttpPost
ëë	 
(
ëë 
$str
ëë #
)
ëë# $
]
ëë$ %
public
íí 
async
íí 
Task
íí 
<
íí 
IActionResult
íí '
>
íí' (
UpdatePassword
íí) 7
(
íí7 8!
UpdatePasswordModel
íí8 K
model
ííL Q
)
ííQ R
{
ìì 	
if
ïï 
(
ïï 
string
ïï 
.
ïï  
IsNullOrWhiteSpace
ïï )
(
ïï) *
model
ïï* /
.
ïï/ 0
ConfirmPassword
ïï0 ?
)
ïï? @
||
ïïA C
string
ïïD J
.
ïïJ K 
IsNullOrWhiteSpace
ïïK ]
(
ïï] ^
model
ïï^ c
.
ïïc d
NewPassword
ïïd o
)
ïïo p
)
ïïp q
{
ññ 

_apiResult
óó 
.
óó 
Message
óó "
=
óó# $
$str
óó% J
;
óóJ K

_apiResult
òò 
.
òò 
	IsSuccess
òò $
=
òò% &
false
òò' ,
;
òò, -
}
ôô 
else
öö 
if
öö 
(
öö 
model
öö 
.
öö 
NewPassword
öö &
!=
öö' )
model
öö* /
.
öö/ 0
ConfirmPassword
öö0 ?
)
öö? @
{
õõ 

_apiResult
úú 
.
úú 
Message
úú "
=
úú# $
$str
úú% S
;
úúS T

_apiResult
ùù 
.
ùù 
	IsSuccess
ùù $
=
ùù% &
false
ùù' ,
;
ùù, -
}
ûû 
else
üü 
{
†† 
var
°° 
currentUser
°° 
=
°°  !
await
°°" '
_userService
°°( 4
.
°°4 5
GetUser
°°5 <
(
°°< =
new
°°= @
User
°°A E
{
°°F G
Username
°°H P
=
°°Q R
Username
°°S [
}
°°\ ]
)
°°] ^
;
°°^ _
if
¢¢ 
(
¢¢ 
BCrypt
¢¢ 
.
¢¢ 
Net
¢¢ 
.
¢¢ 
BCrypt
¢¢ %
.
¢¢% &
Verify
¢¢& ,
(
¢¢, -
model
¢¢- 2
.
¢¢2 3
OldPassword
¢¢3 >
,
¢¢> ?
currentUser
¢¢@ K
.
¢¢K L
Password
¢¢L T
)
¢¢T U
)
¢¢U V
{
££ 
var
§§ 
hashed
§§ 
=
§§  
BCrypt
§§! '
.
§§' (
Net
§§( +
.
§§+ ,
BCrypt
§§, 2
.
§§2 3
HashPassword
§§3 ?
(
§§? @
model
§§@ E
.
§§E F
NewPassword
§§F Q
,
§§Q R
BCrypt
§§S Y
.
§§Y Z
Net
§§Z ]
.
§§] ^
BCrypt
§§^ d
.
§§d e
GenerateSalt
§§e q
(
§§q r
$num
§§r t
)
§§t u
)
§§u v
;
§§v w
currentUser
•• 
.
••  
Password
••  (
=
••) *
hashed
••+ 1
;
••1 2

_apiResult
¶¶ 
.
¶¶ 
	IsSuccess
¶¶ (
=
¶¶) *
await
¶¶+ 0
_userService
¶¶1 =
.
¶¶= >

UpdateUser
¶¶> H
(
¶¶H I
currentUser
¶¶I T
)
¶¶T U
;
¶¶U V
if
ßß 
(
ßß 

_apiResult
ßß "
.
ßß" #
	IsSuccess
ßß# ,
)
ßß, -
{
®® 

_apiResult
©© "
.
©©" #
Message
©©# *
=
©©+ ,
$str
©©- K
;
©©K L
}
™™ 
else
´´ 
{
¨¨ 

_apiResult
≠≠ "
.
≠≠" #
Message
≠≠# *
=
≠≠+ ,
$str
≠≠- I
;
≠≠I J
}
ÆÆ 
}
ØØ 
else
∞∞ 
{
±± 

_apiResult
≤≤ 
.
≤≤ 
	IsSuccess
≤≤ (
=
≤≤) *
false
≤≤+ 0
;
≤≤0 1

_apiResult
≥≥ 
.
≥≥ 
Message
≥≥ &
=
≥≥' (
$str
≥≥) ]
;
≥≥] ^
}
¥¥ 
}
µµ 
return
∑∑ 
Ok
∑∑ 
(
∑∑ 

_apiResult
∑∑  
)
∑∑  !
;
∑∑! "
}
∏∏ 	
[
∫∫ 	
HttpGet
∫∫	 
(
∫∫ 
$str
∫∫  
)
∫∫  !
]
∫∫! "
[
ªª 	
	Authorize
ªª	 
]
ªª 
public
ºº 
async
ºº 
Task
ºº 
<
ºº 
IActionResult
ºº '
>
ºº' (
GetUserInfo
ºº) 4
(
ºº4 5
)
ºº5 6
{
ΩΩ 	
var
øø 
currentUser
øø 
=
øø 
await
øø #
_userService
øø$ 0
.
øø0 1
GetUser
øø1 8
(
øø8 9
new
øø9 <
User
øø= A
{
øøB C
Username
øøD L
=
øøM N
Username
øøO W
}
øøX Y
)
øøY Z
;
øøZ [

_apiResult
¿¿ 
.
¿¿ 
	IsSuccess
¿¿  
=
¿¿! "
true
¿¿# '
;
¿¿' (

_apiResult
¡¡ 
.
¡¡ 
Data
¡¡ 
=
¡¡ 
_mapper
¡¡ %
.
¡¡% &
Map
¡¡& )
<
¡¡) *
UserInfoViewModel
¡¡* ;
>
¡¡; <
(
¡¡< =
currentUser
¡¡= H
)
¡¡H I
;
¡¡I J
return
√√ 
Ok
√√ 
(
√√ 

_apiResult
√√  
)
√√  !
;
√√! "
}
ƒƒ 	
}
≈≈ 
}∆∆ ü'
FD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\BlogCategoriesController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class $
BlogCategoriesController )
:* +
ControllerBase, :
{ 
private 
readonly  
IBlogCategoryService - 
_blogCategoryService. B
;B C
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public $
BlogCategoriesController '
(' ( 
IBlogCategoryService  
blogCategoryService! 4
) 	
{ 	 
_blogCategoryService  
=! "
blogCategoryService# 6
;6 7

_apiResult 
= 
new 
( 
) 
; 
} 	
[ 	
AllowAnonymous	 
] 
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	

_apiResult   
.   
Data   
=   
await   # 
_blogCategoryService  $ 8
.  8 9
GetAll  9 ?
(  ? @
)  @ A
;  A B

_apiResult!! 
.!! 
Message!! 
=!!  
$str!!! 9
;!!9 :
return## 
Ok## 
(## 

_apiResult##  
)##  !
;##! "
}$$ 	
[++ 	
	Authorize++	 
(++ 
Roles++ 
=++ 
$str++ $
)++$ %
]++% &
[,, 	
HttpPost,,	 
],, 
public-- 
async-- 
Task-- 
<-- 
IActionResult-- '
>--' (
Post--) -
(--- .
BlogCategory--. :
model--; @
)--@ A
{.. 	

_apiResult// 
.// 
Data// 
=// 
await// # 
_blogCategoryService//$ 8
.//8 9
Add//9 <
(//< =
model//= B
)//B C
;//C D

_apiResult00 
.00 
Message00 
=00  
$str00! ?
;00? @
return11 
Ok11 
(11 

_apiResult11  
)11  !
;11! "
}22 	
[88 	
	Authorize88	 
(88 
Roles88 
=88 
$str88 $
)88$ %
]88% &
[99 	

HttpDelete99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
Delete::) /
(::/ 0
long::0 4
id::5 7
)::7 8
{;; 	
if<< 
(<< 
await<<  
_blogCategoryService<< *
.<<* +
Delete<<+ 1
(<<1 2
new<<2 5
BlogCategory<<6 B
{<<C D
Id<<E G
=<<H I
id<<J L
}<<M N
)<<N O
)<<O P
{== 

_apiResult>> 
.>> 
Data>> 
=>>  !
new>>" %
Blog>>& *
{?? 
Id@@ 
=@@ 
id@@ 
}AA 
;AA 

_apiResultBB 
.BB 
MessageBB "
=BB# $
$strBB% >
;BB> ?
}CC 
elseDD 
{EE 

_apiResultFF 
.FF 
	IsSuccessFF $
=FF% &
falseFF' ,
;FF, -

_apiResultGG 
.GG 
MessageGG "
=GG# $
$strGG% <
;GG< =
}HH 
returnII 
OkII 
(II 

_apiResultII  
)II  !
;II! "
}JJ 	
[PP 	
	AuthorizePP	 
(PP 
RolesPP 
=PP 
$strPP $
)PP$ %
]PP% &
[QQ 	
HttpPutQQ	 
]QQ 
publicRR 
asyncRR 
TaskRR 
<RR 
IActionResultRR '
>RR' (
PutRR) ,
(RR, -
BlogCategoryRR- 9
modelRR: ?
)RR? @
{SS 	

_apiResultTT 
.TT 
DataTT 
=TT 
awaitTT # 
_blogCategoryServiceTT$ 8
.TT8 9
UpdateTT9 ?
(TT? @
modelTT@ E
)TTE F
;TTF G

_apiResultUU 
.UU 
MessageUU 
=UU  
$strUU! ?
;UU? @
returnVV 
OkVV 
(VV 

_apiResultVV  
)VV  !
;VV! "
}WW 	
}XX 
}YY èH
=D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\BlogsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
BlogsController  
:! "
ControllerBase# 1
{ 
private 
readonly 
IBlogService %
_blogService& 2
;2 3
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IMapper  
_mapper! (
;( )
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public 
BlogsController 
( 
IBlogService 
blogService $
,$ %
IUserService 
userService $
,$ %
IMapper 
mapper 
) 	
{ 	
_blogService 
= 
blogService &
;& '
_userService 
= 
userService &
;& '
_mapper   
=   
mapper   
;   

_apiResult!! 
=!! 
new!! 
(!! 
)!! 
;!! 
}"" 	
[(( 	
AllowAnonymous((	 
](( 
[)) 	
HttpGet))	 
])) 
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
Index**) .
(**. /
)**/ 0
{++ 	
var-- 
data-- 
=-- 
await-- 
_blogService-- )
.--) *
GetAll--* 0
(--0 1
)--1 2
;--2 3

_apiResult.. 
... 
Data.. 
=.. 
_mapper.. %
...% &
Map..& )
<..) *
IEnumerable..* 5
<..5 6
BlogDetailViewModel..6 I
>..I J
>..J K
(..K L
data..L P
)..P Q
;..Q R

_apiResult// 
.// 
Message// 
=//  
$str//! 9
;//9 :
return11 
Ok11 
(11 

_apiResult11  
)11  !
;11! "
}22 	
[99 	
AllowAnonymous99	 
]99 
[:: 	
HttpGet::	 
(:: 
$str:: 
):: 
]:: 
public;; 
async;; 
Task;; 
<;; 
IActionResult;; '
>;;' (
Get;;) ,
(;;, -
long;;- 1
id;;2 4
);;4 5
{<< 	
var>> 
data>> 
=>> 
await>> 
_blogService>> )
.>>) *
Get>>* -
(>>- .
id>>. 0
)>>0 1
;>>1 2
if?? 
(?? 
data?? 
is?? 
null?? 
)?? 
{@@ 

_apiResultAA 
.AA 
	IsSuccessAA $
=AA% &
falseAA' ,
;AA, -

_apiResultBB 
.BB 
MessageBB "
=BB# $
$strBB% A
;BBA B
}CC 
elseDD 
{EE 

_apiResultFF 
.FF 
DataFF 
=FF  !
_mapperFF" )
.FF) *
MapFF* -
<FF- .
BlogDetailViewModelFF. A
>FFA B
(FFB C
dataFFC G
)FFG H
;FFH I

_apiResultGG 
.GG 
MessageGG "
=GG# $
$strGG% =
;GG= >
}HH 
returnJJ 
OkJJ 
(JJ 

_apiResultJJ  
)JJ  !
;JJ! "
}KK 	
[QQ 	
	AuthorizeQQ	 
(QQ 
RolesQQ 
=QQ 
$strQQ $
)QQ$ %
]QQ% &
[RR 	
HttpPostRR	 
]RR 
publicSS 
asyncSS 
TaskSS 
<SS 
IActionResultSS '
>SS' (
PostSS) -
(SS- .
AddBlogModelSS. :
modelSS; @
)SS@ A
{TT 	
varVV 
userVV 
=VV 
awaitVV 
_userServiceVV )
.VV) *
GetUserVV* 1
(VV1 2
newVV2 5
UserVV6 :
{VV; <
UsernameVV= E
=VVF G
UsernameVVH P
}VVQ R
)VVR S
;VVS T
varWW 
newBlogWW 
=WW 
newWW 
BlogWW "
{XX 
TitleYY 
=YY 
modelYY 
.YY 
TitleYY #
,YY# $
ContentZZ 
=ZZ 
modelZZ 
.ZZ  
ContentZZ  '
,ZZ' (
UserId[[ 
=[[ 
user[[ 
.[[ 
Id[[  
,[[  !
BlogCategoryId\\ 
=\\  
model\\! &
.\\& '
BlogCategoryId\\' 5
,\\5 6
}^^ 
;^^ 
await__ 
_blogService__ 
.__ 
Add__ "
(__" #
newBlog__# *
)__* +
;__+ ,
var`` 
data`` 
=`` 
await`` 
_blogService`` )
.``) *
Get``* -
(``- .
newBlog``. 5
.``5 6
Id``6 8
)``8 9
;``9 :

_apiResultaa 
.aa 
Dataaa 
=aa 
_mapperaa %
.aa% &
Mapaa& )
<aa) *
BlogDetailViewModelaa* =
>aa= >
(aa> ?
dataaa? C
)aaC D
;aaD E

_apiResultbb 
.bb 
Messagebb 
=bb  
$strbb! ;
;bb; <
returndd 
Okdd 
(dd 

_apiResultdd  
)dd  !
;dd! "
}ee 	
[kk 	
	Authorizekk	 
(kk 
Roleskk 
=kk 
$strkk $
)kk$ %
]kk% &
[ll 	

HttpDeletell	 
(ll 
$strll 
)ll 
]ll 
publicmm 
asyncmm 
Taskmm 
<mm 
IActionResultmm '
>mm' (
Deletemm) /
(mm/ 0
longmm0 4
idmm5 7
)mm7 8
{nn 	
ifpp 
(pp 
awaitpp 
_blogServicepp "
.pp" #
Deletepp# )
(pp) *
newpp* -
Blogpp. 2
{pp3 4
Idpp5 7
=pp8 9
idpp: <
}pp= >
)pp> ?
)pp? @
{qq 

_apiResultrr 
.rr 
Datarr 
=rr  !
newrr" %
Blogrr& *
{ss 
Idtt 
=tt 
idtt 
}uu 
;uu 

_apiResultvv 
.vv 
Messagevv "
=vv# $
$strvv% >
;vv> ?
}ww 
elsexx 
{yy 

_apiResultzz 
.zz 
	IsSuccesszz $
=zz% &
falsezz' ,
;zz, -

_apiResult{{ 
.{{ 
Message{{ "
={{# $
$str{{% <
;{{< =
}|| 
return~~ 
Ok~~ 
(~~ 

_apiResult~~  
)~~  !
;~~! "
} 	
[
ÖÖ 	
	Authorize
ÖÖ	 
(
ÖÖ 
Roles
ÖÖ 
=
ÖÖ 
$str
ÖÖ $
)
ÖÖ$ %
]
ÖÖ% &
[
ÜÜ 	
HttpPut
ÜÜ	 
]
ÜÜ 
public
áá 
async
áá 
Task
áá 
<
áá 
IActionResult
áá '
>
áá' (
Put
áá) ,
(
áá, -
Blog
áá- 1
model
áá2 7
)
áá7 8
{
àà 	
await
ää 
_blogService
ää 
.
ää 
Update
ää %
(
ää% &
model
ää& +
)
ää+ ,
;
ää, -
var
ãã 
data
ãã 
=
ãã 
await
ãã 
_blogService
ãã )
.
ãã) *
Get
ãã* -
(
ãã- .
model
ãã. 3
.
ãã3 4
Id
ãã4 6
)
ãã6 7
;
ãã7 8

_apiResult
åå 
.
åå 
Data
åå 
=
åå 
_mapper
åå %
.
åå% &
Map
åå& )
<
åå) *!
BlogDetailViewModel
åå* =
>
åå= >
(
åå> ?
data
åå? C
)
ååC D
;
ååD E

_apiResult
çç 
.
çç 
Message
çç 
=
çç  
$str
çç! ?
;
çç? @
return
èè 
Ok
èè 
(
èè 

_apiResult
èè  
)
èè  !
;
èè! "
}
êê 	
}
ëë 
}íí ∂:
DD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\CertificatesController.cs
	namespace

 	
EW


 
.

 
WebAPI

 
.

 
Controllers

 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class "
CertificatesController '
:( )
ControllerBase* 8
{ 
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
ICertificateService ,
_certificateService- @
;@ A
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public "
CertificatesController %
(% &
IProfileSerivce 
profileSerivce *
,* +
ICertificateService 
certificateService  2
) 	
{ 	
_profileSerivce 
= 
profileSerivce ,
;, -
_certificateService 
=  !
certificateService" 4
;4 5

_apiResult 
= 
new 
( 
) 
; 
} 	
[## 	
	Authorize##	 
(## 
Roles## 
=## 
$str## $
)##$ %
]##% &
[$$ 	
HttpPost$$	 
]$$ 
public%% 
async%% 
Task%% 
<%% 
IActionResult%% '
>%%' (
Post%%) -
(%%- .
AddCertificateModel%%. A
model%%B G
)%%G H
{&& 	
var'' 
profile'' 
='' 
await'' 
_profileSerivce''  /
.''/ 0

GetProfile''0 :
('': ;
new''; >
User''? C
{''D E
Username''F N
=''O P
Username''Q Y
}''Z [
)''[ \
;''\ ]
if(( 
((( 
profile(( 
is(( 
null(( 
)((  
{)) 

_apiResult** 
.** 
	IsSuccess** $
=**% &
false**' ,
;**, -

_apiResult++ 
.++ 
Message++ "
=++# $
$str++% L
;++L M
return,, 
Ok,, 
(,, 

_apiResult,, $
),,$ %
;,,% &
}-- 
var// 
newCertificate// 
=//  
new//! $
Certificate//% 0
{00 
	ProfileId11 
=11 
profile11 #
.11# $
Id11$ &
,11& '
Description22 
=22 
model22 #
.22# $
Description22$ /
,22/ 0
From33 
=33 
model33 
.33 
From33 !
,33! "
To44 
=44 
model44 
.44 
To44 
,44 
CertificateName55 
=55  !
model55" '
.55' (
CertificateName55( 7
}66 
;66 
var77 
data77 
=77 
await77 
_certificateService77 0
.770 1
Add771 4
(774 5
newCertificate775 C
)77C D
;77D E
if88 
(88 
data88 
is88 
null88 
)88 
{99 

_apiResult:: 
.:: 
	IsSuccess:: $
=::% &
false::' ,
;::, -

_apiResult;; 
.;; 
Message;; "
=;;# $
$str;;% C
;;;C D
return<< 
Ok<< 
(<< 

_apiResult<< $
)<<$ %
;<<% &
}== 
else>> 
{?? 

_apiResult@@ 
.@@ 
	IsSuccess@@ $
=@@% &
true@@' +
;@@+ ,

_apiResultAA 
.AA 
MessageAA "
=AA# $
$strAA% @
;AA@ A

_apiResultBB 
.BB 
DataBB 
=BB  !
dataBB" &
;BB& '
}CC 
returnEE 
OkEE 
(EE 

_apiResultEE  
)EE  !
;EE! "
}FF 	
[MM 	
	AuthorizeMM	 
(MM 
RolesMM 
=MM 
$strMM $
)MM$ %
]MM% &
[NN 	

HttpDeleteNN	 
(NN 
$strNN 
)NN 
]NN 
publicOO 
asyncOO 
TaskOO 
<OO 
IActionResultOO '
>OO' (
DeleteOO) /
(OO/ 0
longOO0 4
idOO5 7
)OO7 8
{PP 	

_apiResultQQ 
.QQ 
	IsSuccessQQ  
=QQ! "
awaitQQ# (
_certificateServiceQQ) <
.QQ< =
DeleteQQ= C
(QQC D
newQQD G
CertificateQQH S
{QQT U
IdQQV X
=QQY Z
idQQ[ ]
}QQ^ _
)QQ_ `
;QQ` a
ifRR 
(RR 

_apiResultRR 
.RR 
	IsSuccessRR $
)RR$ %
{SS 

_apiResultTT 
.TT 
MessageTT "
=TT# $
$strTT% ?
;TT? @

_apiResultUU 
.UU 
DataUU 
=UU  !
newUU" %
	EducationUU& /
{UU0 1
IdUU2 4
=UU5 6
idUU7 9
}UU: ;
;UU; <
}VV 
elseWW 
{XX 

_apiResultYY 
.YY 
MessageYY "
=YY# $
$strYY% =
;YY= >
}ZZ 
return[[ 
Ok[[ 
([[ 

_apiResult[[  
)[[  !
;[[! "
}\\ 	
[cc 	
	Authorizecc	 
(cc 
Rolescc 
=cc 
$strcc $
)cc$ %
]cc% &
[dd 	
HttpPutdd	 
]dd 
publicee 
asyncee 
Taskee 
<ee 
IActionResultee '
>ee' (
Putee) ,
(ee, -
Certificateee- 8
modelee9 >
)ee> ?
{ff 	

_apiResultgg 
.gg 
	IsSuccessgg  
=gg! "
awaitgg# (
_certificateServicegg) <
.gg< =
Updategg= C
(ggC D
modelggD I
)ggI J
;ggJ K
ifhh 
(hh 

_apiResulthh 
.hh 
	IsSuccesshh $
)hh$ %
{ii 

_apiResultjj 
.jj 
Messagejj "
=jj# $
$strjj% D
;jjD E

_apiResultkk 
.kk 
Datakk 
=kk  !
modelkk" '
;kk' (
}ll 
elsemm 
{nn 

_apiResultoo 
.oo 
Messageoo "
=oo# $
$stroo% B
;ooB C
}pp 
returnqq 
Okqq 
(qq 

_apiResultqq  
)qq  !
;qq! "
}rr 	
}ss 
}tt ﬂ
>D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\ChartsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
ChartsController

 !
:

" #
ControllerBase

$ 2
{ 
private 
readonly 
IChartService &
_chartService' 4
;4 5
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public 
ChartsController 
(  
IChartService 
chartService &
) 	
{ 	
_chartService 
= 
chartService (
;( )

_apiResult 
= 
new 
( 
) 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
]  
[ 	
	Authorize	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetApplication) 7
(7 8
)8 9
{ 	

_apiResult 
. 
Data 
= 
await #
_chartService$ 1
.1 2 
GetNumberApplication2 F
(F G
)G H
;H I
return   
Ok   
(   

_apiResult    
)    !
;  ! "
}!! 	
['' 	
HttpGet''	 
('' 
$str'' 
)'' 
]'' 
[(( 	
	Authorize((	 
](( 
public)) 
async)) 
Task)) 
<)) 
IActionResult)) '
>))' (
GetPost))) 0
())0 1
)))1 2
{** 	

_apiResult++ 
.++ 
Data++ 
=++ 
await++ #
_chartService++$ 1
.++1 2$
GetNumberRecruitmentPost++2 J
(++J K
)++K L
;++L M
return,, 
Ok,, 
(,, 

_apiResult,,  
),,  !
;,,! "
}-- 	
[33 	
HttpPost33	 
(33 
$str33  
)33  !
]33! "
[44 	
	Authorize44	 
]44 
public55 
async55 
Task55 
<55 
IActionResult55 '
>55' (

GetRanking55) 3
(553 4
string554 :
[55: ;
]55; <

techStacks55= G
)55G H
{66 	

_apiResult77 
.77 
Data77 
=77 
await77 #
_chartService77$ 1
.771 2 
GetRankingTechStacks772 F
(77F G

techStacks77G Q
)77Q R
;77R S
return88 
Ok88 
(88 

_apiResult88  
)88  !
;88! "
}99 	
}:: 
};; Âñ
AD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\CompaniesController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
CompaniesController $
:% &
ControllerBase' 5
{ 
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
ICompanyService (
_companyService) 8
;8 9
private 
readonly #
IRecruitmentPostService 0#
_recruitmentPostService1 H
;H I
private 
readonly 
IEmailService &
_emailService' 4
;4 5
private 
readonly 
CustomConfig %
_customConfig& 3
;3 4
private 
readonly 
IMapper  
_mapper! (
;( )
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public   
CompaniesController   "
(  " #
IUserService!! 
userService!! $
,!!$ %
ICompanyService"" 
companyService"" *
,""* +#
IRecruitmentPostService## #"
recruitmentPostService##$ :
,##: ;
IEmailService$$ 
emailService$$ &
,$$& '
IOptions%% 
<%% 
CustomConfig%% !
>%%! "
customConfig%%# /
,%%/ 0
IMapper&& 
mapper&& 
)&& 
{'' 	
_userService(( 
=(( 
userService(( &
;((& '
_companyService)) 
=)) 
companyService)) ,
;)), -#
_recruitmentPostService** #
=**$ %"
recruitmentPostService**& <
;**< =
_emailService++ 
=++ 
emailService++ (
;++( )
_customConfig,, 
=,, 
customConfig,, (
.,,( )
Value,,) .
;,,. /
_mapper-- 
=-- 
mapper-- 
;-- 

_apiResult.. 
=.. 
new.. 
(.. 
).. 
;.. 
}// 	
[55 	
HttpGet55	 
]55 
public66 
async66 
Task66 
<66 
IActionResult66 '
>66' (
Get66) ,
(66, -
)66- .
{77 	

_apiResult99 
.99 
Message99 
=99  
$str99! 9
;999 :

_apiResult:: 
.:: 
Data:: 
=:: 
await:: #
_companyService::$ 3
.::3 4
GetCompanies::4 @
(::@ A
)::A B
;::B C
return<< 
Ok<< 
(<< 

_apiResult<<  
)<<  !
;<<! "
}== 	
[EE 	
HttpPutEE	 
]EE 
[FF 	
	AuthorizeFF	 
(FF 
RolesFF 
=FF 
$strFF -
)FF- .
]FF. /
publicGG 
asyncGG 
TaskGG 
<GG 
IActionResultGG '
>GG' (
PutGG) ,
(GG, -
UpdateCompanyModelGG- ?
modelGG@ E
)GGE F
{HH 	
varII 
currentUserII 
=II 
awaitII #
_userServiceII$ 0
.II0 1
GetUserII1 8
(II8 9
newII9 <
UserII= A
{IIB C
UsernameIID L
=IIM N
UsernameIIO W
}IIX Y
)IIY Z
;IIZ [
varKK 
existCompanyKK 
=KK 
awaitKK $
_companyServiceKK% 4
.KK4 5

GetCompanyKK5 ?
(KK? @
newKK@ C
CompanyKKD K
{KKL M
IdKKN P
=KKQ R
modelKKS X
.KKX Y
IdKKY [
}KK\ ]
)KK] ^
;KK^ _
varLL 
currentStatusLL 
=LL 
existCompanyLL  ,
.LL, -
StatusLL- 3
;LL3 4
ifMM 
(MM 
existCompanyMM 
isMM 
nullMM  $
)MM$ %
{NN 

_apiResultOO 
.OO 
	IsSuccessOO $
=OO% &
falseOO' ,
;OO, -

_apiResultPP 
.PP 
MessagePP "
=PP# $
$strPP% @
;PP@ A
}QQ 
elseRR 
{SS 
ifTT 
(TT 
awaitTT 
_companyServiceTT )
.TT) *$
UpdateInformationCompanyTT* B
(TTB C
modelTTC H
)TTH I
)TTI J
{UU 

_apiResultVV 
.VV 
	IsSuccessVV (
=VV) *
trueVV+ /
;VV/ 0

_apiResultWW 
.WW 
MessageWW &
=WW' (
$strWW) H
;WWH I

_apiResultXX 
.XX 
DataXX #
=XX$ %
awaitXX& +
_companyServiceXX, ;
.XX; <

GetCompanyXX< F
(XXF G
newXXG J
CompanyXXK R
{XXS T
IdXXU W
=XXX Y
modelXXZ _
.XX_ `
IdXX` b
}XXc d
)XXd e
;XXe f
ifZZ 
(ZZ 
currentUserZZ #
.ZZ# $
RoleIdZZ$ *
==ZZ+ -
(ZZ. /
longZZ/ 3
)ZZ3 4
ERoleZZ4 9
.ZZ9 :

ID_FacultyZZ: D
&&ZZE G
currentStatusZZH U
!=ZZV X
modelZZY ^
.ZZ^ _
StatusZZ_ e
&&ZZf h
modelZZi n
.ZZn o
StatusZZo u
!=ZZv x
EStatusRecruiter	ZZy â
.
ZZâ ä
Pending
ZZä ë
)
ZZë í
{[[ 
var\\ 
body\\  
=\\! "
string\\# )
.\\) *
Empty\\* /
;\\/ 0
using]] 
(]] 
StreamReader]] +
reader]], 2
=]]3 4
new]]5 8
(]]8 9
Path]]9 =
.]]= >
Combine]]> E
(]]E F
$str]]F o
)]]o p
)]]p q
)]]q r
{^^ 
body``  
=``! "
reader``# )
.``) *
	ReadToEnd``* 3
(``3 4
)``4 5
;``5 6
}bb 
varcc 
bodyBuildercc '
=cc( )
newcc* -
Systemcc. 4
.cc4 5
Textcc5 9
.cc9 :
StringBuildercc: G
(ccG H
bodyccH L
)ccL M
;ccM N
bodyBuilderdd #
.dd# $
Replacedd$ +
(dd+ ,
$strdd, ;
,dd; <
existCompanydd= I
.ddI J
CompanyNameddJ U
)ddU V
;ddV W
bodyBuilderee #
.ee# $
Replaceee$ +
(ee+ ,
$stree, :
,ee: ;

EnumHelperee< F
.eeF G
DescriptioneeG R
(eeR S
currentStatuseeS `
)ee` a
)eea b
;eeb c
bodyBuilderff #
.ff# $
Replaceff$ +
(ff+ ,
$strff, 8
,ff8 9

EnumHelperff: D
.ffD E
DescriptionffE P
(ffP Q
modelffQ V
.ffV W
StatusffW ]
)ff] ^
)ff^ _
;ff_ `
bodyBuildergg #
.gg# $
Replacegg$ +
(gg+ ,
$strgg, 3
,gg3 4
_customConfiggg5 B
.ggB C
FrontEndURLggC N
)ggN O
;ggO P
varii 
dataii  
=ii! "
newii# &
EmailDataModelii' 5
{ii6 7
Bodyii8 <
=ii= >
bodyBuilderii? J
.iiJ K
ToStringiiK S
(iiS T
)iiT U
,iiU V
SubjectiiW ^
=ii_ `
$str	iia è
,
iiè ê
ToEmail
iië ò
=
iiô ö
existCompany
iiõ ß
.
iiß ®
Email
ii® ≠
}
iiÆ Ø
;
iiØ ∞
awaitjj 
_emailServicejj +
.jj+ ,
	SendEmailjj, 5
(jj5 6
datajj6 :
)jj: ;
;jj; <

_apiResultll "
.ll" #
Messagell# *
=ll+ ,
$strll- f
;llf g
}mm 
}nn 
elseoo 
{pp 

_apiResultqq 
.qq 
	IsSuccessqq (
=qq) *
falseqq+ 0
;qq0 1

_apiResultrr 
.rr 
Messagerr &
=rr' (
$strrr) F
;rrF G
}ss 
}tt 
returnvv 
Okvv 
(vv 

_apiResultvv  
)vv  !
;vv! "
}ww 	
[~~ 	
HttpPost~~	 
]~~ 
[ 	
	Authorize	 
( 
Roles 
= 
$str $
)$ %
]% &
public
ÄÄ 
async
ÄÄ 
Task
ÄÄ 
<
ÄÄ 
IActionResult
ÄÄ '
>
ÄÄ' (
Post
ÄÄ) -
(
ÄÄ- .
AddCompanyModel
ÄÄ. =
model
ÄÄ> C
)
ÄÄC D
{
ÅÅ 	
var
ÉÉ 
exist
ÉÉ 
=
ÉÉ 
await
ÉÉ 
_companyService
ÉÉ -
.
ÉÉ- .

GetCompany
ÉÉ. 8
(
ÉÉ8 9
new
ÉÉ9 <
Company
ÉÉ= D
{
ÑÑ 
Email
ÖÖ 
=
ÖÖ 
model
ÖÖ 
.
ÖÖ 
Email
ÖÖ #
,
ÖÖ# $
}
ÜÜ 
)
ÜÜ 
;
ÜÜ 
if
áá 
(
áá 
exist
áá 
is
áá 
not
áá 
null
áá !
)
áá! "
{
àà 

_apiResult
ââ 
.
ââ 
	IsSuccess
ââ $
=
ââ% &
false
ââ' ,
;
ââ, -

_apiResult
ää 
.
ää 
Message
ää "
=
ää# $
$str
ää% @
;
ää@ A
return
ãã 
Ok
ãã 
(
ãã 

_apiResult
ãã $
)
ãã$ %
;
ãã% &
}
åå 
var
çç 

newCompany
çç 
=
çç 
_mapper
çç $
.
çç$ %
Map
çç% (
<
çç( )
Company
çç) 0
>
çç0 1
(
çç1 2
model
çç2 7
)
çç7 8
;
çç8 9
var
éé 
data
éé 
=
éé 
await
éé 
_companyService
éé ,
.
éé, -

AddCompany
éé- 7
(
éé7 8

newCompany
éé8 B
)
ééB C
;
ééC D
if
èè 
(
èè 
data
èè 
is
èè 
not
èè 
null
èè  
)
èè  !
{
êê 

_apiResult
ëë 
.
ëë 
Message
ëë "
=
ëë# $
$str
ëë% ?
;
ëë? @

_apiResult
íí 
.
íí 
Data
íí 
=
íí  !
data
íí" &
;
íí& '

_apiResult
ìì 
.
ìì 
	IsSuccess
ìì $
=
ìì% &
true
ìì' +
;
ìì+ ,
}
îî 
else
ïï 
{
ññ 

_apiResult
óó 
.
óó 
Message
óó "
=
óó# $
$str
óó% <
;
óó< =

_apiResult
òò 
.
òò 
	IsSuccess
òò $
=
òò% &
false
òò' ,
;
òò, -
}
ôô 
return
öö 
Ok
öö 
(
öö 

_apiResult
öö  
)
öö  !
;
öö! "
}
õõ 	
[
¢¢ 	
HttpGet
¢¢	 
(
¢¢ 
$str
¢¢ -
)
¢¢- .
]
¢¢. /
[
££ 	
	Authorize
££	 
(
££ 
Roles
££ 
=
££ 
$str
££ %
)
££% &
]
££& '
public
§§ 
async
§§ 
Task
§§ 
<
§§ 
IActionResult
§§ '
>
§§' (
Profile
§§) 0
(
§§0 1
)
§§1 2
{
•• 	
var
¶¶ 
	existUser
¶¶ 
=
¶¶ 
await
¶¶ !
_userService
¶¶" .
.
¶¶. /
GetUser
¶¶/ 6
(
¶¶6 7
new
¶¶7 :
User
¶¶; ?
{
¶¶@ A
Username
¶¶B J
=
¶¶K L
Username
¶¶M U
}
¶¶V W
)
¶¶W X
;
¶¶X Y

_apiResult
®® 
.
®® 
Data
®® 
=
®® 
await
®® #
_companyService
®®$ 3
.
®®3 4
GetCompanyByUser
®®4 D
(
®®D E
	existUser
®®E N
)
®®N O
;
®®O P

_apiResult
©© 
.
©© 
Message
©© 
=
©©  
$str
©©! 9
;
©©9 :
return
´´ 
Ok
´´ 
(
´´ 

_apiResult
´´  
)
´´  !
;
´´! "
}
¨¨ 	
[
≤≤ 	
HttpGet
≤≤	 
(
≤≤ 
$str
≤≤  
)
≤≤  !
]
≤≤! "
[
≥≥ 	
AllowAnonymous
≥≥	 
]
≥≥ 
public
¥¥ 
async
¥¥ 
Task
¥¥ 
<
¥¥ 
IActionResult
¥¥ '
>
¥¥' (
GetTopCompanies
¥¥) 8
(
¥¥8 9
)
¥¥9 :
{
µµ 	

_apiResult
∂∂ 
.
∂∂ 
Data
∂∂ 
=
∂∂ 
await
∂∂ #
_companyService
∂∂$ 3
.
∂∂3 4
GetTopCompanies
∂∂4 C
(
∂∂C D
)
∂∂D E
;
∂∂E F
return
∏∏ 
Ok
∏∏ 
(
∏∏ 

_apiResult
∏∏  
)
∏∏  !
;
∏∏! "
}
ππ 	
[
¿¿ 	
HttpGet
¿¿	 
(
¿¿ 
$str
¿¿ 
)
¿¿ 
]
¿¿ 
public
¡¡ 
async
¡¡ 
Task
¡¡ 
<
¡¡ 
IActionResult
¡¡ '
>
¡¡' (
Get
¡¡) ,
(
¡¡, -
long
¡¡- 1
id
¡¡2 4
)
¡¡4 5
{
¬¬ 	
var
√√ 
existCompany
√√ 
=
√√ 
await
√√ $
_companyService
√√% 4
.
√√4 5

GetCompany
√√5 ?
(
√√? @
new
√√@ C
Company
√√D K
{
√√L M
Id
√√N P
=
√√Q R
id
√√S U
}
√√V W
)
√√W X
??
ƒƒ  "
throw
ƒƒ# (
new
ƒƒ) ,
EWException
ƒƒ- 8
(
ƒƒ8 9
$str
ƒƒ9 T
)
ƒƒT U
;
ƒƒU V
var
∆∆ 
recruitmentPosts
∆∆  
=
∆∆! "
await
∆∆# (%
_recruitmentPostService
∆∆) @
.
∆∆@ A*
GetRecruitmentPostsByCompany
∆∆A ]
(
∆∆] ^
existCompany
∆∆^ j
)
∆∆j k
;
∆∆k l

_apiResult
»» 
.
»» 
Data
»» 
=
»» 
new
»» !$
CompanyDetailViewModel
»»" 8
{
…… 
Id
   
=
   
existCompany
   !
.
  ! "
Id
  " $
,
  $ %
CompanyName
ÀÀ 
=
ÀÀ 
existCompany
ÀÀ *
.
ÀÀ* +
CompanyName
ÀÀ+ 6
,
ÀÀ6 7
CompanyType
ÃÃ 
=
ÃÃ 
existCompany
ÃÃ *
.
ÃÃ* +
CompanyType
ÃÃ+ 6
,
ÃÃ6 7
PhoneNumber
ÕÕ 
=
ÕÕ 
existCompany
ÕÕ *
.
ÕÕ* +
PhoneNumber
ÕÕ+ 6
,
ÕÕ6 7
Email
ŒŒ 
=
ŒŒ 
existCompany
ŒŒ $
.
ŒŒ$ %
Email
ŒŒ% *
,
ŒŒ* +
Address
œœ 
=
œœ 
existCompany
œœ &
.
œœ& '
Address
œœ' .
,
œœ. /
	AvatarUrl
–– 
=
–– 
existCompany
–– (
.
––( )
	AvatarUrl
––) 2
,
––2 3
Country
—— 
=
—— 
existCompany
—— &
.
——& '
Country
——' .
,
——. /
TeamSize
““ 
=
““ 
existCompany
““ '
.
““' (
TeamSize
““( 0
,
““0 1
Description
”” 
=
”” 
existCompany
”” *
.
””* +
Description
””+ 6
,
””6 7
Posts
‘‘ 
=
‘‘ 
recruitmentPosts
‘‘ (
.
‘‘( )
OrderByDescending
‘‘) :
(
‘‘: ;
item
‘‘; ?
=>
‘‘@ B
item
‘‘C G
.
‘‘G H
CreatedDate
‘‘H S
)
‘‘S T
.
‘‘T U
Select
‘‘U [
(
‘‘[ \
post
‘‘\ `
=>
‘‘a c
new
‘‘d g,
RecruitmentPostShortViewModel‘‘h Ö
{
’’ 
Id
÷÷ 
=
÷÷ 
post
÷÷ 
.
÷÷ 
Id
÷÷  
,
÷÷  !
JobTitle
◊◊ 
=
◊◊ 
post
◊◊ #
.
◊◊# $
JobTitle
◊◊$ ,
,
◊◊, -

SalaryType
ÿÿ 
=
ÿÿ  
post
ÿÿ! %
.
ÿÿ% &

SalaryType
ÿÿ& 0
,
ÿÿ0 1

SalaryFrom
ŸŸ 
=
ŸŸ  
post
ŸŸ! %
.
ŸŸ% &

SalaryFrom
ŸŸ& 0
,
ŸŸ0 1
SalaryTo
⁄⁄ 
=
⁄⁄ 
post
⁄⁄ #
.
⁄⁄# $
SalaryTo
⁄⁄$ ,
,
⁄⁄, -
Currency
€€ 
=
€€ 
post
€€ #
.
€€# $
Currency
€€$ ,
,
€€, -

TechStacks
‹‹ 
=
‹‹  
post
‹‹! %
.
‹‹% &

TechStacks
‹‹& 0
,
‹‹0 1
YearExperience
›› "
=
››# $
post
››% )
.
››) *
YearExperience
››* 8
,
››8 9
JobDescription
ﬁﬁ "
=
ﬁﬁ# $
post
ﬁﬁ% )
.
ﬁﬁ) *
JobDescription
ﬁﬁ* 8
,
ﬁﬁ8 9
UpdatedDate
ﬂﬂ 
=
ﬂﬂ  !
post
ﬂﬂ" &
.
ﬂﬂ& '
UpdatedDate
ﬂﬂ' 2
,
ﬂﬂ2 3
	AvatarUrl
‡‡ 
=
‡‡ 
existCompany
‡‡  ,
.
‡‡, -
	AvatarUrl
‡‡- 6
,
‡‡6 7
WorkingType
·· 
=
··  !
post
··" &
.
··& '
WorkingType
··' 2
,
··2 3
CompanyType
‚‚ 
=
‚‚  !
existCompany
‚‚" .
.
‚‚. /
CompanyType
‚‚/ :
,
‚‚: ;
CompanyName
„„ 
=
„„  !
existCompany
„„" .
.
„„. /
CompanyName
„„/ :
}
‰‰ 
)
‰‰ 
.
‰‰ 
ToList
‰‰ 
(
‰‰ 
)
‰‰ 
,
‰‰ 
}
ÂÂ 
;
ÂÂ 

_apiResult
ÊÊ 
.
ÊÊ 
	IsSuccess
ÊÊ  
=
ÊÊ! "
true
ÊÊ# '
;
ÊÊ' (

_apiResult
ÁÁ 
.
ÁÁ 
Message
ÁÁ 
=
ÁÁ  
$str
ÁÁ! 9
;
ÁÁ9 :
return
ÈÈ 
Ok
ÈÈ 
(
ÈÈ 

_apiResult
ÈÈ  
)
ÈÈ  !
;
ÈÈ! "
}
ÍÍ 	
}
ÎÎ 
}ÏÏ ÛZ
AD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\DocumentsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
DocumentsController $
:% &
ControllerBase' 5
{ 
private 
readonly 
IUserCVService '
_userCVService( 6
;6 7
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public 
DocumentsController "
(" #
IUserCVService 
userCVService (
,( )
IUserService 
userService $
,$ %
IProfileSerivce 
profileSerivce *
) 	
{ 	
_userCVService 
= 
userCVService *
;* +
_userService 
= 
userService &
;& '
_profileSerivce   
=   
profileSerivce   ,
;  , -

_apiResult!! 
=!! 
new!! 
(!! 
)!! 
;!! 
}"" 	
[(( 	
HttpGet((	 
](( 
[)) 	
	Authorize))	 
()) 
Roles)) 
=)) 
$str)) $
)))$ %
]))% &
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
Get**) ,
(**, -
)**- .
{++ 	
var,, 
user,, 
=,, 
await,, 
_userService,, )
.,,) *
GetUser,,* 1
(,,1 2
new,,2 5
User,,6 :
{,,; <
Username,,= E
=,,F G
Username,,H P
},,Q R
),,R S
;,,S T
var-- 
dataCV-- 
=-- 
await-- 
_userCVService-- -
.--- .
GetUserCVsByUser--. >
(--> ?
user--? C
)--C D
;--D E

_apiResult.. 
... 
Data.. 
=.. 
new.. ! 
UserProfileViewModel.." 6
{// 
Experiences00 
=00 
user00 "
.00" #

Experences00# -
,00- .
CVs11 
=11 
dataCV11 
.11 
OrderByDescending11 .
(11. /
item11/ 3
=>114 6
item117 ;
.11; <
CreatedDate11< G
)11G H
.11H I
ToList11I O
(11O P
)11P Q
,11Q R
CoverLetter22 
=22 
user22 "
.22" #
CoverLetter22# .
,22. /
}33 
;33 
return44 
Ok44 
(44 

_apiResult44  
)44  !
;44! "
}55 	
[<< 	
HttpPut<<	 
(<< 
$str<< &
)<<& '
]<<' (
[== 	
	Authorize==	 
(== 
Roles== 
=== 
$str== $
)==$ %
]==% &
public>> 
async>> 
Task>> 
<>> 
IActionResult>> '
>>>' (
UpdateCoverLetter>>) :
(>>: ;"
UpdateCoverLetterModel>>; Q
model>>R W
)>>W X
{?? 	
var@@ 
user@@ 
=@@ 
await@@ 
_userService@@ )
.@@) *
GetUser@@* 1
(@@1 2
new@@2 5
User@@6 :
{@@; <
Username@@= E
=@@F G
Username@@H P
}@@Q R
)@@R S
;@@S T
ifAA 
(AA 
userAA 
isAA 
nullAA 
)AA 
{BB 

_apiResultCC 
.CC 
	IsSuccessCC $
=CC% &
falseCC' ,
;CC, -

_apiResultDD 
.DD 
MessageDD "
=DD# $
$strDD% G
;DDG H
}EE 
elseFF 
{GG 
userHH 
.HH 
CoverLetterHH  
=HH! "
modelHH# (
.HH( )
CoverLetterHH) 4
;HH4 5
varJJ 
updateResultJJ  
=JJ! "
awaitJJ# (
_userServiceJJ) 5
.JJ5 6

UpdateUserJJ6 @
(JJ@ A
userJJA E
)JJE F
;JJF G

_apiResultKK 
.KK 
	IsSuccessKK $
=KK% &
updateResultKK' 3
;KK3 4
ifLL 
(LL 
updateResultLL  
)LL  !
{MM 

_apiResultNN 
.NN 
DataNN #
=NN$ %
modelNN& +
.NN+ ,
CoverLetterNN, 7
;NN7 8

_apiResultOO 
.OO 
MessageOO &
=OO' (
$strOO) M
;OOM N
}PP 
elseQQ 
{RR 

_apiResultSS 
.SS 
MessageSS &
=SS' (
$strSS) K
;SSK L
}TT 
}UU 
returnVV 
OkVV 
(VV 

_apiResultVV  
)VV  !
;VV! "
}WW 	
[^^ 	

HttpDelete^^	 
(^^ 
$str^^ 
)^^  
]^^  !
[__ 	
	Authorize__	 
(__ 
Roles__ 
=__ 
$str__ $
)__$ %
]__% &
public`` 
async`` 
Task`` 
<`` 
IActionResult`` '
>``' (
RemoveCVUser``) 5
(``5 6
long``6 :
Id``; =
)``= >
{aa 	
varbb 
existbb 
=bb 
awaitbb 
_userCVServicebb ,
.bb, -
GetUserCVByInfobb- <
(bb< =
newbb= @
UserCVbbA G
{bbH I
IdbbJ L
=bbM N
IdbbO Q
}bbR S
)bbS T
;bbT U
ifcc 
(cc 
existcc 
iscc 
nullcc 
)cc 
{dd 

_apiResultee 
.ee 
	IsSuccessee $
=ee% &
falseee' ,
;ee, -

_apiResultff 
.ff 
Messageff "
=ff# $
$strff% C
;ffC D
returngg 
Okgg 
(gg 

_apiResultgg $
)gg$ %
;gg% &
}ii 

_apiResultjj 
.jj 
	IsSuccessjj  
=jj! "
awaitjj# (
_userCVServicejj) 7
.jj7 8
RemoveCVjj8 @
(jj@ A
existjjA F
)jjF G
;jjG H
ifkk 
(kk 

_apiResultkk 
.kk 
	IsSuccesskk $
)kk$ %
{ll 

_apiResultmm 
.mm 
Messagemm "
=mm# $
$strmm% <
;mm< =

_apiResultnn 
.nn 
Datann 
=nn  !
existnn" '
;nn' (
}oo 
elsepp 
{qq 

_apiResultrr 
.rr 
Messagerr "
=rr# $
$strrr% ;
;rr; <
}ss 
returntt 
Oktt 
(tt 

_apiResulttt  
)tt  !
;tt! "
}uu 	
[|| 	
HttpPut||	 
]|| 
[}} 	
	Authorize}}	 
(}} 
Roles}} 
=}} 
$str}} $
)}}$ %
]}}% &
public~~ 
async~~ 
Task~~ 
<~~ 
IActionResult~~ '
>~~' (
Put~~) ,
(~~, -
ChangeStatusCVModel~~- @
model~~A F
)~~F G
{ 	
var
ÄÄ 
	currentCV
ÄÄ 
=
ÄÄ 
await
ÄÄ !
_userCVService
ÄÄ" 0
.
ÄÄ0 1
GetUserCVByInfo
ÄÄ1 @
(
ÄÄ@ A
new
ÄÄA D
UserCV
ÄÄE K
{
ÄÄL M
Id
ÄÄN P
=
ÄÄQ R
model
ÄÄS X
.
ÄÄX Y
Id
ÄÄY [
}
ÄÄ\ ]
)
ÄÄ] ^
;
ÄÄ^ _
if
ÅÅ 
(
ÅÅ 
	currentCV
ÅÅ 
is
ÅÅ 
not
ÅÅ  
null
ÅÅ! %
&&
ÅÅ& (
	currentCV
ÅÅ) 2
.
ÅÅ2 3
User
ÅÅ3 7
.
ÅÅ7 8
Username
ÅÅ8 @
==
ÅÅA C
Username
ÅÅD L
)
ÅÅL M
{
ÇÇ 
var
ÉÉ 
profile
ÉÉ 
=
ÉÉ 
await
ÉÉ #
_profileSerivce
ÉÉ$ 3
.
ÉÉ3 4

GetProfile
ÉÉ4 >
(
ÉÉ> ?
new
ÉÉ? B
User
ÉÉC G
{
ÉÉH I
Username
ÉÉJ R
=
ÉÉS T
Username
ÉÉU ]
}
ÉÉ^ _
)
ÉÉ_ `
;
ÉÉ` a
if
ÑÑ 
(
ÑÑ 
profile
ÑÑ 
is
ÑÑ 
not
ÑÑ "
null
ÑÑ# '
&&
ÑÑ( *
profile
ÑÑ+ 2
.
ÑÑ2 3
IsOpenForWork
ÑÑ3 @
&&
ÑÑA C
	currentCV
ÑÑD M
.
ÑÑM N
Featured
ÑÑN V
&&
ÑÑW Y
!
ÑÑZ [
model
ÑÑ[ `
.
ÑÑ` a
Featured
ÑÑa i
)
ÑÑi j
{
ÖÖ 

_apiResult
ÜÜ 
.
ÜÜ 
Message
ÜÜ &
=
ÜÜ' (
$str
ÜÜ) i
;
ÜÜi j

_apiResult
áá 
.
áá 
	IsSuccess
áá (
=
áá) *
false
áá+ 0
;
áá0 1
return
àà 
Ok
àà 
(
àà 

_apiResult
àà (
)
àà( )
;
àà) *
}
ââ 
	currentCV
ää 
.
ää 
Featured
ää "
=
ää# $
model
ää% *
.
ää* +
Featured
ää+ 3
;
ää3 4

_apiResult
ãã 
.
ãã 
	IsSuccess
ãã $
=
ãã% &
await
ãã' ,
_userCVService
ãã- ;
.
ãã; <
UpdateFeaturedCV
ãã< L
(
ããL M
	currentCV
ããM V
)
ããV W
;
ããW X
if
åå 
(
åå 

_apiResult
åå 
.
åå 
	IsSuccess
åå (
)
åå( )
{
çç 

_apiResult
éé 
.
éé 
Message
éé &
=
éé' (
$str
éé) G
;
ééG H

_apiResult
èè 
.
èè 
Data
èè #
=
èè$ %
model
èè& +
;
èè+ ,
}
êê 
else
ëë 
{
íí 

_apiResult
ìì 
.
ìì 
Message
ìì &
=
ìì' (
$str
ìì) E
;
ììE F
}
îî 
}
ïï 
else
ññ 
{
óó 

_apiResult
òò 
.
òò 
Message
òò "
=
òò# $
$str
òò% >
;
òò> ?

_apiResult
ôô 
.
ôô 
	IsSuccess
ôô $
=
ôô% &
false
ôô' ,
;
ôô, -
}
öö 
return
õõ 
Ok
õõ 
(
õõ 

_apiResult
õõ  
)
õõ  !
;
õõ! "
}
úú 	
}
ùù 
}ûû Ç:
BD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\EducationsController.cs
	namespace

 	
EW


 
.

 
WebAPI

 
.

 
Controllers

 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class  
EducationsController %
:& '
ControllerBase( 6
{ 
private 
readonly 
IEducationService *
_educationService+ <
;< =
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public  
EducationsController #
(# $
IEducationService 
educationService .
,. /
IProfileSerivce 
profileSerivce *
) 	
{ 	
_educationService 
= 
educationService  0
;0 1
_profileSerivce 
= 
profileSerivce ,
;, -

_apiResult 
= 
new 
( 
) 
; 
} 	
[## 	
	Authorize##	 
(## 
Roles## 
=## 
$str## $
)##$ %
]##% &
[$$ 	
HttpPost$$	 
]$$ 
public%% 
async%% 
Task%% 
<%% 
IActionResult%% '
>%%' (
Post%%) -
(%%- .
AddEducationModel%%. ?
model%%@ E
)%%E F
{&& 	
var'' 
profile'' 
='' 
await'' 
_profileSerivce''  /
.''/ 0

GetProfile''0 :
('': ;
new''; >
User''? C
{''D E
Username''F N
=''O P
Username''Q Y
}''Z [
)''[ \
;''\ ]
if(( 
((( 
profile(( 
is(( 
null(( 
)((  
{)) 

_apiResult** 
.** 
	IsSuccess** $
=**% &
false**' ,
;**, -

_apiResult++ 
.++ 
Message++ "
=++# $
$str++% L
;++L M
return,, 
Ok,, 
(,, 

_apiResult,, $
),,$ %
;,,% &
}-- 
var// 
newEducation// 
=// 
new// "
	Education//# ,
{00 
	ProfileId11 
=11 
profile11 #
.11# $
Id11$ &
,11& '
Description22 
=22 
model22 #
.22# $
Description22$ /
,22/ 0
From33 
=33 
model33 
.33 
From33 !
,33! "
To44 
=44 
model44 
.44 
To44 
,44 
OrgName55 
=55 
model55 
.55  
OrgName55  '
}66 
;66 
var77 
data77 
=77 
await77 
_educationService77 .
.77. /
Add77/ 2
(772 3
newEducation773 ?
)77? @
;77@ A
if88 
(88 
data88 
is88 
null88 
)88 
{99 

_apiResult:: 
.:: 
	IsSuccess:: $
=::% &
false::' ,
;::, -

_apiResult;; 
.;; 
Message;; "
=;;# $
$str;;% A
;;;A B
return<< 
Ok<< 
(<< 

_apiResult<< $
)<<$ %
;<<% &
}== 
else>> 
{?? 

_apiResult@@ 
.@@ 
	IsSuccess@@ $
=@@% &
true@@' +
;@@+ ,

_apiResultAA 
.AA 
MessageAA "
=AA# $
$strAA% >
;AA> ?

_apiResultBB 
.BB 
DataBB 
=BB  !
dataBB" &
;BB& '
}CC 
returnEE 
OkEE 
(EE 

_apiResultEE  
)EE  !
;EE! "
}FF 	
[MM 	
	AuthorizeMM	 
(MM 
RolesMM 
=MM 
$strMM $
)MM$ %
]MM% &
[NN 	

HttpDeleteNN	 
(NN 
$strNN 
)NN 
]NN 
publicOO 
asyncOO 
TaskOO 
<OO 
IActionResultOO '
>OO' (
DeleteOO) /
(OO/ 0
longOO0 4
idOO5 7
)OO7 8
{PP 	

_apiResultQQ 
.QQ 
	IsSuccessQQ  
=QQ! "
awaitQQ# (
_educationServiceQQ) :
.QQ: ;
DeleteQQ; A
(QQA B
newQQB E
	EducationQQF O
{QQP Q
IdQQR T
=QQU V
idQQW Y
}QQZ [
)QQ[ \
;QQ\ ]
ifRR 
(RR 

_apiResultRR 
.RR 
	IsSuccessRR $
)RR$ %
{SS 

_apiResultTT 
.TT 
MessageTT "
=TT# $
$strTT% =
;TT= >

_apiResultUU 
.UU 
DataUU 
=UU  !
newUU" %
	EducationUU& /
{UU0 1
IdUU2 4
=UU5 6
idUU7 9
}UU: ;
;UU; <
}VV 
elseWW 
{XX 

_apiResultYY 
.YY 
MessageYY "
=YY# $
$strYY% ;
;YY; <
}ZZ 
return\\ 
Ok\\ 
(\\ 

_apiResult\\  
)\\  !
;\\! "
}]] 	
[dd 	
	Authorizedd	 
(dd 
Rolesdd 
=dd 
$strdd $
)dd$ %
]dd% &
[ee 	
HttpPutee	 
]ee 
publicff 
asyncff 
Taskff 
<ff 
IActionResultff '
>ff' (
Putff) ,
(ff, -
	Educationff- 6
modelff7 <
)ff< =
{gg 	

_apiResulthh 
.hh 
	IsSuccesshh  
=hh! "
awaithh# (
_educationServicehh) :
.hh: ;
Updatehh; A
(hhA B
modelhhB G
)hhG H
;hhH I
ifii 
(ii 

_apiResultii 
.ii 
	IsSuccessii $
)ii$ %
{jj 

_apiResultkk 
.kk 
Messagekk "
=kk# $
$strkk% B
;kkB C

_apiResultll 
.ll 
Datall 
=ll  !
modelll" '
;ll' (
}mm 
elsenn 
{oo 

_apiResultpp 
.pp 
Messagepp "
=pp# $
$strpp% @
;pp@ A
}qq 
returnss 
Okss 
(ss 

_apiResultss  
)ss  !
;ss! "
}tt 	
}uu 
}vv «c
?D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\ProfileController.cs
	namespace		 	
EW		
 
.		 
WebAPI		 
.		 
Controllers		 
{

 
[ 
Route 

(
 
$str 
) 
] 
[ 
	Authorize 
] 
[ 
ApiController 
] 
public 

class 
ProfileController "
:# $
ControllerBase% 3
{ 
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IUserCVService '
_userCVService( 6
;6 7
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public 
ProfileController  
(  !
IUserService 
userService $
,$ %
IUserCVService 
userCVService (
,( )
IProfileSerivce 
profileSerivce *
) 	
{ 	
_userService 
= 
userService &
;& '
_userCVService 
= 
userCVService *
;* +
_profileSerivce 
= 
profileSerivce ,
;, -

_apiResult   
=   
new   
(   
)   
;   
}!! 	
[(( 	
	Authorize((	 
((( 
Roles(( 
=(( 
$str(( $
)(($ %
]((% &
[)) 	
HttpGet))	 
()) 
$str)) !
)))! "
]))" #
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
MyInformation**) 6
(**6 7
)**7 8
{++ 	
var,, 
profile,, 
=,, 
await,, 
_profileSerivce,,  /
.,,/ 0

GetProfile,,0 :
(,,: ;
new,,; >
User,,? C
{,,D E
Username,,F N
=,,O P
Username,,Q Y
},,Z [
),,[ \
;,,\ ]
if-- 
(-- 
profile-- 
is-- 
null-- 
)--  
{.. 
var// 
initProfile// 
=//  !
await//" '
_profileSerivce//( 7
.//7 8
InitProfile//8 C
(//C D
new//D G
User//H L
{//M N
Username//O W
=//X Y
Username//Z b
}//c d
)//d e
;//e f

_apiResult00 
.00 
	IsSuccess00 $
=00% &
true00' +
;00+ ,

_apiResult11 
.11 
Message11 "
=11# $
$str11% =
;11= >

_apiResult22 
.22 
Data22 
=22  !
initProfile22" -
;22- .
}33 
else44 
{55 

_apiResult66 
.66 
	IsSuccess66 $
=66% &
true66' +
;66+ ,

_apiResult77 
.77 
Message77 "
=77# $
$str77% =
;77= >

_apiResult88 
.88 
Data88 
=88  !
profile88" )
;88) *
}99 
return;; 
Ok;; 
(;; 

_apiResult;;  
);;  !
;;;! "
}<< 	
[CC 	
	AuthorizeCC	 
(CC 
RolesCC 
=CC 
$strCC $
)CC$ %
]CC% &
[DD 	
HttpPutDD	 
(DD 
$strDD 
)DD 
]DD 
publicEE 
asyncEE 
TaskEE 
<EE 
IActionResultEE '
>EE' (
EditContactEE) 4
(EE4 5
ContactModelEE5 A
modelEEB G
)EEG H
{FF 	
varGG 
profileGG 
=GG 
awaitGG 
_profileSerivceGG  /
.GG/ 0

GetProfileGG0 :
(GG: ;
newGG; >
UserGG? C
{GGD E
UsernameGGF N
=GGO P
UsernameGGQ Y
}GGZ [
)GG[ \
;GG\ ]
ifHH 
(HH 
profileHH 
isHH 
nullHH 
)HH  
{II 

_apiResultJJ 
.JJ 
	IsSuccessJJ $
=JJ% &
falseJJ' ,
;JJ, -

_apiResultKK 
.KK 
MessageKK "
=KK# $
$strKK% L
;KKL M
returnMM 
OkMM 
(MM 

_apiResultMM $
)MM$ %
;MM% &
}NN 
profileOO 
.OO 
EmailContactOO  
=OO! "
modelOO# (
.OO( )
EmailContactOO) 5
;OO5 6
profilePP 
.PP 
PhoneNumberPP 
=PP  !
modelPP" '
.PP' (
PhoneNumberPP( 3
;PP3 4
profileQQ 
.QQ 
GithubQQ 
=QQ 
modelQQ "
.QQ" #
GithubQQ# )
;QQ) *
profileRR 
.RR 
LinkedinRR 
=RR 
modelRR $
.RR$ %
LinkedinRR% -
;RR- .
profileSS 
.SS 
AddressSS 
=SS 
modelSS #
.SS# $
AddressSS$ +
;SS+ ,
profileTT 
.TT 
	ObjectiveTT 
=TT 
modelTT  %
.TT% &
	ObjectiveTT& /
;TT/ 0
profileUU 
.UU 
SkillsUU 
=UU 
modelUU "
.UU" #
SkillsUU# )
;UU) *

_apiResultVV 
.VV 
	IsSuccessVV  
=VV! "
awaitVV# (
_profileSerivceVV) 8
.VV8 9
UpdateProfileVV9 F
(VVF G
profileVVG N
)VVN O
;VVO P
ifWW 
(WW 

_apiResultWW 
.WW 
	IsSuccessWW $
)WW$ %
{XX 

_apiResultYY 
.YY 
DataYY 
=YY  !
profileYY" )
;YY) *

_apiResultZZ 
.ZZ 
MessageZZ "
=ZZ# $
$strZZ% D
;ZZD E
}[[ 
else\\ 
{]] 

_apiResult^^ 
.^^ 
Message^^ "
=^^# $
$str^^% B
;^^B C
}__ 
returnaa 
Okaa 
(aa 

_apiResultaa  
)aa  !
;aa! "
}bb 	
[hh 	
	Authorizehh	 
(hh 
Roleshh 
=hh 
$strhh $
)hh$ %
]hh% &
[ii 	
HttpPutii	 
(ii 
$strii .
)ii. /
]ii/ 0
publicjj 
asyncjj 
Taskjj 
<jj 
IActionResultjj '
>jj' (#
UpdateStatusOpenForWorkjj) @
(jj@ A
UpdateStatusModeljjA R
modeljjS X
)jjX Y
{kk 	
varll 
currrentUserll 
=ll 
awaitll $
_userServicell% 1
.ll1 2
GetUserll2 9
(ll9 :
newll: =
Userll> B
{llC D
UsernamellE M
=llN O
UsernamellP X
}llY Z
)llZ [
;ll[ \
varmm 
profilemm 
=mm 
awaitmm 
_profileSerivcemm  /
.mm/ 0

GetProfilemm0 :
(mm: ;
newmm; >
Usermm? C
{mmD E
UsernamemmF N
=mmO P
UsernamemmQ Y
}mmZ [
)mm[ \
;mm\ ]
ifnn 
(nn 
profilenn 
isnn 
nullnn 
)nn  
{oo 

_apiResultpp 
.pp 
	IsSuccesspp $
=pp% &
falsepp' ,
;pp, -

_apiResultqq 
.qq 
Messageqq "
=qq# $
$strqq% L
;qqL M
returnrr 
Okrr 
(rr 

_apiResultrr $
)rr$ %
;rr% &
}ss 
ifuu 
(uu 
stringuu 
.uu 
IsNullOrEmptyuu $
(uu$ %
profileuu% ,
.uu, -
PhoneNumberuu- 8
)uu8 9
||vv 
stringvv 
.vv 
IsNullOrEmptyvv '
(vv' (
profilevv( /
.vv/ 0
	Objectivevv0 9
)vv9 :
||ww 
stringww 
.ww 
IsNullOrEmptyww '
(ww' (
profileww( /
.ww/ 0
Skillsww0 6
)ww6 7
)ww7 8
{xx 

_apiResultyy 
.yy 
	IsSuccessyy $
=yy% &
falseyy' ,
;yy, -

_apiResultzz 
.zz 
Messagezz "
=zz# $
$strzz% i
;zzi j
return|| 
Ok|| 
(|| 

_apiResult|| $
)||$ %
;||% &
}}} 
var~~ 
	cvsOfUser~~ 
=~~ 
await~~ !
_userCVService~~" 0
.~~0 1
GetUserCVsByUser~~1 A
(~~A B
currrentUser~~B N
)~~N O
;~~O P
if 
( 
! 
	cvsOfUser 
. 
Any 
( 
item #
=>$ &
item' +
.+ ,
Featured, 4
)4 5
)5 6
{
ÄÄ 

_apiResult
ÅÅ 
.
ÅÅ 
	IsSuccess
ÅÅ $
=
ÅÅ% &
false
ÅÅ' ,
;
ÅÅ, -

_apiResult
ÇÇ 
.
ÇÇ 
Message
ÇÇ "
=
ÇÇ# $
$str
ÇÇ% `
;
ÇÇ` a
return
ÑÑ 
Ok
ÑÑ 
(
ÑÑ 

_apiResult
ÑÑ $
)
ÑÑ$ %
;
ÑÑ% &
}
ÖÖ 
profile
ÜÜ 
.
ÜÜ 
IsOpenForWork
ÜÜ !
=
ÜÜ" #
model
ÜÜ$ )
.
ÜÜ) *
IsOpenForWork
ÜÜ* 7
;
ÜÜ7 8

_apiResult
áá 
.
áá 
	IsSuccess
áá  
=
áá! "
await
áá# (
_profileSerivce
áá) 8
.
áá8 9
UpdateProfile
áá9 F
(
ááF G
profile
ááG N
)
ááN O
;
ááO P
if
àà 
(
àà 

_apiResult
àà 
.
àà 
	IsSuccess
àà $
)
àà$ %
{
ââ 

_apiResult
ää 
.
ää 
Data
ää 
=
ää  !
profile
ää" )
;
ää) *

_apiResult
ãã 
.
ãã 
Message
ãã "
=
ãã# $
model
ãã% *
.
ãã* +
IsOpenForWork
ãã+ 8
?
ãã9 :
$str
ãã; Y
:
ããZ [
$str
ãã\ z
;
ããz {
}
åå 
else
çç 
{
éé 

_apiResult
èè 
.
èè 
Message
èè "
=
èè# $
model
èè% *
.
èè* +
IsOpenForWork
èè+ 8
?
èè9 :
$str
èè; W
:
èèX Y
$str
èèZ v
;
èèv w
}
êê 
return
íí 
Ok
íí 
(
íí 

_apiResult
íí  
)
íí  !
;
íí! "
}
ìì 	
[
òò 	
HttpGet
òò	 
(
òò 
$str
òò /
)
òò/ 0
]
òò0 1
[
ôô 	
AllowAnonymous
ôô	 
]
ôô 
public
öö 
async
öö 
Task
öö 
<
öö 
IActionResult
öö '
>
öö' (%
GetCandidateOpenForWork
öö) @
(
öö@ A
)
ööA B
{
õõ 	

_apiResult
úú 
.
úú 
Data
úú 
=
úú 
await
úú #
_profileSerivce
úú$ 3
.
úú3 4$
GetProfileOpenForWorks
úú4 J
(
úúJ K
)
úúK L
;
úúL M

_apiResult
ùù 
.
ùù 
	IsSuccess
ùù  
=
ùù! "
true
ùù# '
;
ùù' (

_apiResult
ûû 
.
ûû 
Message
ûû 
=
ûû  
$str
ûû! 9
;
ûû9 :
return
†† 
Ok
†† 
(
†† 

_apiResult
††  
)
††  !
;
††! "
}
°° 	
}
¢¢ 
}££ ™9
@D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\ProjectsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ProjectsController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
IProjectService (
_projectService) 8
;8 9
private 
readonly 
IMapper  
_mapper! (
;( )
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public 
ProjectsController !
(! "
IProfileSerivce 
profileSerivce *
,* +
IProjectService 
projectService *
,* +
IMapper 
mapper 
) 	
{ 	
_profileSerivce 
= 
profileSerivce ,
;, -
_projectService 
= 
projectService ,
;, -
_mapper   
=   
mapper   
;   

_apiResult!! 
=!! 
new!! 
(!! 
)!! 
;!! 
}"" 	
[(( 	
	Authorize((	 
((( 
Roles(( 
=(( 
$str(( $
)(($ %
]((% &
[)) 	
HttpPost))	 
])) 
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
Post**) -
(**- .
AddProjectModel**. =
model**> C
)**C D
{++ 	
var,, 
profile,, 
=,, 
await,, 
_profileSerivce,,  /
.,,/ 0

GetProfile,,0 :
(,,: ;
new,,; >
User,,? C
{,,D E
Username,,F N
=,,O P
Username,,Q Y
},,Z [
),,[ \
;,,\ ]
if-- 
(-- 
profile-- 
is-- 
null-- 
)--  
{.. 

_apiResult// 
.// 
	IsSuccess// $
=//% &
false//' ,
;//, -

_apiResult00 
.00 
Message00 "
=00# $
$str00% L
;00L M
return11 
Ok11 
(11 

_apiResult11 $
)11$ %
;11% &
}22 
var33 

newProject33 
=33 
_mapper33 $
.33$ %
Map33% (
<33( )
Project33) 0
>330 1
(331 2
model332 7
)337 8
;338 9

newProject44 
.44 
	ProfileId44  
=44! "
profile44# *
.44* +
Id44+ -
;44- .
var66 
data66 
=66 
await66 
_projectService66 ,
.66, -
Add66- 0
(660 1

newProject661 ;
)66; <
;66< =
if77 
(77 
data77 
is77 
null77 
)77 
{88 

_apiResult99 
.99 
	IsSuccess99 $
=99% &
false99' ,
;99, -

_apiResult:: 
.:: 
Message:: "
=::# $
$str::% ?
;::? @
return;; 
Ok;; 
(;; 

_apiResult;; $
);;$ %
;;;% &
}<< 
else== 
{>> 

_apiResult?? 
.?? 
	IsSuccess?? $
=??% &
true??' +
;??+ ,

_apiResult@@ 
.@@ 
Message@@ "
=@@# $
$str@@% <
;@@< =

_apiResultAA 
.AA 
DataAA 
=AA  !
dataAA" &
;AA& '
}BB 
returnDD 
OkDD 
(DD 

_apiResultDD  
)DD  !
;DD! "
}EE 	
[LL 	
	AuthorizeLL	 
(LL 
RolesLL 
=LL 
$strLL $
)LL$ %
]LL% &
[MM 	

HttpDeleteMM	 
(MM 
$strMM 
)MM 
]MM 
publicNN 
asyncNN 
TaskNN 
<NN 
IActionResultNN '
>NN' (
DeleteNN) /
(NN/ 0
longNN0 4
idNN5 7
)NN7 8
{OO 	

_apiResultPP 
.PP 
	IsSuccessPP  
=PP! "
awaitPP# (
_projectServicePP) 8
.PP8 9
DeletePP9 ?
(PP? @
newPP@ C
ProjectPPD K
{PPL M
IdPPN P
=PPQ R
idPPS U
}PPV W
)PPW X
;PPX Y
ifQQ 
(QQ 

_apiResultQQ 
.QQ 
	IsSuccessQQ $
)QQ$ %
{RR 

_apiResultSS 
.SS 
MessageSS "
=SS# $
$strSS% ;
;SS; <

_apiResultTT 
.TT 
DataTT 
=TT  !
newTT" %
ProjectTT& -
{TT. /
IdTT0 2
=TT3 4
idTT5 7
}TT8 9
;TT9 :
}UU 
elseVV 
{WW 

_apiResultXX 
.XX 
MessageXX "
=XX# $
$strXX% 9
;XX9 :
}YY 
return[[ 
Ok[[ 
([[ 

_apiResult[[  
)[[  !
;[[! "
}\\ 	
[cc 	
	Authorizecc	 
(cc 
Rolescc 
=cc 
$strcc $
)cc$ %
]cc% &
[dd 	
HttpPutdd	 
]dd 
publicee 
asyncee 
Taskee 
<ee 
IActionResultee '
>ee' (
Putee) ,
(ee, -
Projectee- 4
modelee5 :
)ee: ;
{ff 	

_apiResultgg 
.gg 
	IsSuccessgg  
=gg! "
awaitgg# (
_projectServicegg) 8
.gg8 9
Updategg9 ?
(gg? @
modelgg@ E
)ggE F
;ggF G
ifhh 
(hh 

_apiResulthh 
.hh 
	IsSuccesshh $
)hh$ %
{ii 

_apiResultjj 
.jj 
Messagejj "
=jj# $
$strjj% @
;jj@ A

_apiResultkk 
.kk 
Datakk 
=kk  !
modelkk" '
;kk' (
}ll 
elsemm 
{nn 

_apiResultoo 
.oo 
Messageoo "
=oo# $
$stroo% >
;oo> ?
}pp 
returnrr 
Okrr 
(rr 

_apiResultrr  
)rr  !
;rr! "
}ss 	
}tt 
}uu ‡Q
BD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\RecruitersController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class  
RecruitersController %
:& '
ControllerBase( 6
{ 
private 
readonly 
IRecruiterService *
_recruiterService+ <
;< =
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
ICompanyService (
_companyService) 8
;8 9
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public  
RecruitersController #
(# $
IRecruiterService 
recruiterService .
,. /
IUserService 
userService $
,$ %
ICompanyService 
companyService *
) 	
{ 	
_recruiterService 
= 
recruiterService  0
;0 1
_userService 
= 
userService &
;& '
_companyService   
=   
companyService   ,
;  , -

_apiResult!! 
=!! 
new!! 
(!! 
)!! 
;!! 
}"" 	
[++ 	
HttpGet++	 
(++ 
$str++ !
)++! "
]++" #
[,, 	
	Authorize,,	 
(,, 
Roles,, 
=,, 
$str,, -
),,- .
],,. /
public-- 
async-- 
Task-- 
<-- 
IActionResult-- '
>--' (
GetRecruiters--) 6
(--6 7
)--7 8
{.. 	
var// 
currentUser// 
=// 
await// #
_userService//$ 0
.//0 1
GetUser//1 8
(//8 9
new//9 <
User//= A
{//B C
Username//D L
=//M N
Username//O W
}//X Y
)//Y Z
;//Z [
if00 
(00 
currentUser00 
.00 
RoleId00 "
==00# %
(00& '
long00' +
)00+ ,
ERole00, 1
.001 2
ID_Business002 =
)00= >
{11 
var22 
currentCompany22 "
=22# $
await22% *
_companyService22+ :
.22: ;
GetCompanyByUser22; K
(22K L
currentUser22L W
)22W X
;22X Y

_apiResult33 
.33 
Data33 
=33  !
await33" '
_recruiterService33( 9
.339 :"
GetRecruitersByCompany33: P
(33P Q
currentCompany33Q _
)33_ `
;33` a
}44 
else55 
{66 

_apiResult77 
.77 
Data77 
=77  !
await77" '
_recruiterService77( 9
.779 :
GetRecruiters77: G
(77G H
)77H I
;77I J
}88 

_apiResult99 
.99 
Message99 
=99  
$str99! 9
;999 :
return:: 
Ok:: 
(:: 

_apiResult::  
)::  !
;::! "
};; 	
[== 	
HttpPost==	 
(== 
$str== 
)== 
]== 
[>> 	
AllowAnonymous>>	 
]>> 
public?? 
async?? 
Task?? 
<?? 
IActionResult?? '
>??' (
Register??) 1
(??1 2"
RegisterRecruiterModel??2 H
model??I N
)??N O
{@@ 	
varAA 
existAA 
=AA 
awaitAA 
_companyServiceAA -
.AA- .
FindAA. 2
(AA2 3
newAA3 6
CompanyAA7 >
{BB 
EmailCC 
=CC 
modelCC 
.CC 
EmailCC #
,CC# $
PhoneNumberDD 
=DD 
modelDD #
.DD# $
PhoneNumberDD$ /
,DD/ 0
}EE 
)EE 
;EE 
ifGG 
(GG 
existGG 
isGG 
notGG 
nullGG !
)GG! "
{HH 
throwII 
newII 
EWExceptionII %
(II% &
$strII& X
)IIX Y
;IIY Z
}JJ 

_apiResultLL 
.LL 
	IsSuccessLL  
=LL! "
awaitLL# (
_recruiterServiceLL) :
.LL: ;
AddNewRecruiterLL; J
(LLJ K
modelLLK P
)LLP Q
;LLQ R

_apiResultMM 
.MM 
MessageMM 
=MM  
$strMM! k
;MMk l
returnOO 
OkOO 
(OO 

_apiResultOO  
)OO  !
;OO! "
}PP 	
[ZZ 	
HttpPostZZ	 
(ZZ 
$strZZ %
)ZZ% &
]ZZ& '
[[[ 	
	Authorize[[	 
([[ 
Roles[[ 
=[[ 
$str[[ -
)[[- .
][[. /
public\\ 
async\\ 
Task\\ 
<\\ 
IActionResult\\ '
>\\' (
AddNewRecruiter\\) 8
(\\8 9'
AddNewRecruiterAccountModel\\9 T
model\\U Z
)\\Z [
{]] 	
var^^ 
currentUser^^ 
=^^ 
await^^ #
_userService^^$ 0
.^^0 1
GetUser^^1 8
(^^8 9
new^^9 <
User^^= A
{^^B C
Username^^D L
=^^M N
Username^^O W
}^^X Y
)^^Y Z
;^^Z [
var__ 
	existUser__ 
=__ 
await__ !
_userService__" .
.__. /
GetUser__/ 6
(__6 7
new__7 :
User__; ?
{__@ A
Username__B J
=__K L
model__M R
.__R S
Username__S [
,__[ \
Email__] b
=__c d
model__e j
.__j k
Email__k p
}__q r
)__r s
;__s t
ifaa 
(aa 
currentUseraa 
.aa 
RoleIdaa "
==aa# %
(aa& '
longaa' +
)aa+ ,
ERoleaa, 1
.aa1 2
ID_Businessaa2 =
)aa= >
{bb 
varcc 
currentCompanycc "
=cc# $
awaitcc% *
_companyServicecc+ :
.cc: ;
GetCompanyByUsercc; K
(ccK L
currentUserccL W
)ccW X
;ccX Y
ifdd 
(dd 
currentCompanydd "
isdd# %
nulldd& *
)dd* +
{ee 

_apiResultff 
.ff 
Messageff &
=ff' (
$strff) `
;ff` a

_apiResultgg 
.gg 
	IsSuccessgg (
=gg) *
falsegg+ 0
;gg0 1
returnii 
Okii 
(ii 

_apiResultii (
)ii( )
;ii) *
}jj 
modelkk 
.kk 
	CompanyIdkk 
=kk  !
currentCompanykk" 0
.kk0 1
Idkk1 3
;kk3 4
}ll 
elsemm 
{nn 
varoo 
existCompanyoo  
=oo! "
awaitoo# (
_companyServiceoo) 8
.oo8 9

GetCompanyoo9 C
(ooC D
newooD G
CompanyooH O
{ooP Q
IdooR T
=ooU V
modelooW \
.oo\ ]
	CompanyIdoo] f
}oog h
)ooh i
;ooi j
ifpp 
(pp 
existCompanypp  
ispp! #
nullpp$ (
)pp( )
{qq 

_apiResultrr 
.rr 
Messagerr &
=rr' (
$strrr) `
;rr` a

_apiResultss 
.ss 
	IsSuccessss (
=ss) *
falsess+ 0
;ss0 1
returnuu 
Okuu 
(uu 

_apiResultuu (
)uu( )
;uu) *
}vv 
}ww 
ifxx 
(xx 
	existUserxx 
isxx 
notxx  
nullxx! %
)xx% &
{yy 

_apiResultzz 
.zz 
Messagezz "
=zz# $
$strzz% c
;zzc d

_apiResult{{ 
.{{ 
	IsSuccess{{ $
={{% &
false{{' ,
;{{, -
return}} 
Ok}} 
(}} 

_apiResult}} $
)}}$ %
;}}% &
}~~ 

_apiResult
ÄÄ 
.
ÄÄ 
	IsSuccess
ÄÄ  
=
ÄÄ! "
await
ÄÄ# (
_recruiterService
ÄÄ) :
.
ÄÄ: ;!
AssignUserToCompany
ÄÄ; N
(
ÄÄN O
model
ÄÄO T
)
ÄÄT U
;
ÄÄU V

_apiResult
ÅÅ 
.
ÅÅ 
Message
ÅÅ 
=
ÅÅ  

_apiResult
ÅÅ! +
.
ÅÅ+ ,
	IsSuccess
ÅÅ, 5
?
ÅÅ6 7
$str
ÅÅ8 [
:
ÅÅ\ ]
$str
ÅÅ^ 
;ÅÅ Ä
if
ÇÇ 
(
ÇÇ 

_apiResult
ÇÇ 
.
ÇÇ 
	IsSuccess
ÇÇ $
)
ÇÇ$ %
{
ÉÉ 

_apiResult
ÑÑ 
.
ÑÑ 
Data
ÑÑ 
=
ÑÑ  !
await
ÑÑ" '
_recruiterService
ÑÑ( 9
.
ÑÑ9 : 
GetRecruiterByUser
ÑÑ: L
(
ÑÑL M
new
ÑÑM P
User
ÑÑQ U
{
ÑÑV W
Username
ÑÑX `
=
ÑÑa b
model
ÑÑc h
.
ÑÑh i
Username
ÑÑi q
,
ÑÑq r
Email
ÑÑs x
=
ÑÑy z
modelÑÑ{ Ä
.ÑÑÄ Å
EmailÑÑÅ Ü
}ÑÑá à
)ÑÑà â
;ÑÑâ ä
}
ÖÖ 
return
áá 
Ok
áá 
(
áá 

_apiResult
áá  
)
áá  !
;
áá! "
}
àà 	
}
ââ 
}ää ÂÑ
HD:\Dacntt2\Source\EW\EW.WebAPI\Controllers\RecruitmentPostsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class &
RecruitmentPostsController +
:, -
ControllerBase. <
{ 
private 
readonly #
IRecruitmentPostService 0#
_recruitmentPostService1 H
;H I
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IRecruiterService *
_recruiterService+ <
;< =
private 
readonly 
ICompanyService (
_companyService) 8
;8 9
private 
readonly 
IMapper  
_mapper! (
;( )
private 
readonly 
	ApiResult "

_apiResult# -
;- .
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public &
RecruitmentPostsController )
() *#
IRecruitmentPostService #"
recruitmentPostService$ :
,: ;
IUserService 
userService $
,$ %
IRecruiterService 
recruiterService .
,. /
ICompanyService 
companyService *
,* +
IMapper   
mapper   
)!! 	
{"" 	#
_recruitmentPostService## #
=##$ %"
recruitmentPostService##& <
;##< =
_userService$$ 
=$$ 
userService$$ &
;$$& '
_recruiterService%% 
=%% 
recruiterService%%  0
;%%0 1
_companyService&& 
=&& 
companyService&& ,
;&&, -
_mapper'' 
='' 
mapper'' 
;'' 

_apiResult(( 
=(( 
new(( 
((( 
)(( 
;(( 
})) 	
[++ 	
HttpGet++	 
]++ 
[,, 	
	Authorize,,	 
(,, 
Roles,, 
=,, 
$str,, -
),,- .
],,. /
public-- 
async-- 
Task-- 
<-- 
IActionResult-- '
>--' (
Index--) .
(--. /
)--/ 0
{.. 	
var// 
currentUser// 
=// 
await// #
_userService//$ 0
.//0 1
GetUser//1 8
(//8 9
new//9 <
User//= A
{//B C
Username//D L
=//M N
Username//O W
}//X Y
)//Y Z
;//Z [

_apiResult00 
.00 
Data00 
=00 
await00 ##
_recruitmentPostService00$ ;
.00; <%
GetRecruitmentPostsByUser00< U
(00U V
currentUser00V a
)00a b
;00b c

_apiResult11 
.11 
Message11 
=11  
$str11! 9
;119 :
return33 
Ok33 
(33 

_apiResult33  
)33  !
;33! "
}44 	
[66 	
HttpPost66	 
]66 
[77 	
	Authorize77	 
(77 
Roles77 
=77 
$str77 -
)77- .
]77. /
public88 
async88 
Task88 
<88 
IActionResult88 '
>88' (
Post88) -
(88- . 
RecruitmentPostModel88. B
model88C H
)88H I
{99 	
var:: 
currentUser:: 
=:: 
await:: #
_userService::$ 0
.::0 1
GetUser::1 8
(::8 9
new::9 <
User::= A
{::B C
Username::D L
=::M N
Username::O W
}::X Y
)::Y Z
;::Z [
if;; 
(;; 
model;; 
.;; 
Id;; 
==;; 
$num;; 
);; 
{<< 
var>> 
postAdd>> 
=>> 
_mapper>> %
.>>% &
Map>>& )
<>>) *
RecruitmentPost>>* 9
>>>9 :
(>>: ;
model>>; @
)>>@ A
;>>A B
postAdd?? 
.?? 
IsActive??  
=??! "
true??# '
;??' (
postAdd@@ 
.@@ 
CreatedDate@@ #
=@@$ %
DateTimeOffset@@& 4
.@@4 5
Now@@5 8
;@@8 9
postAddAA 
.AA 
UpdatedDateAA #
=AA$ %
DateTimeOffsetAA& 4
.AA4 5
NowAA5 8
;AA8 9
postAddBB 
.BB 
	UpdatedByBB !
=BB" #
currentUserBB$ /
.BB/ 0
IdBB0 2
;BB2 3
ifDD 
(DD 
currentUserDD 
.DD  
RoleIdDD  &
==DD' )
(DD* +
longDD+ /
)DD/ 0
ERoleDD0 5
.DD5 6
ID_BusinessDD6 A
)DDA B
{EE 
varFF 
	recruiterFF !
=FF" #
awaitFF$ )
_recruiterServiceFF* ;
.FF; <
GetRecruiterByUserFF< N
(FFN O
currentUserFFO Z
)FFZ [
;FF[ \
ifGG 
(GG 
	recruiterGG !
isGG" $
nullGG% )
)GG) *
{HH 

_apiResultII "
.II" #
	IsSuccessII# ,
=II- .
falseII/ 4
;II4 5

_apiResultJJ "
.JJ" #
MessageJJ# *
=JJ+ ,
$strJJ- V
;JJV W
returnKK 
OkKK !
(KK! "

_apiResultKK" ,
)KK, -
;KK- .
}LL 
postAddMM 
.MM 
	CompanyIdMM %
=MM& '
	recruiterMM( 1
.MM1 2
CompanyMM2 9
.MM9 :
IdMM: <
;MM< =
}NN 
elseOO 
{PP 
varQQ 
companyQQ 
=QQ  !
awaitQQ" '
_companyServiceQQ( 7
.QQ7 8

GetCompanyQQ8 B
(QQB C
newQQC F
CompanyQQG N
{QQO P
IdQQQ S
=QQT U
modelQQV [
.QQ[ \
	CompanyIdQQ\ e
??QQf h
defaultQQi p
}QQq r
)QQr s
;QQs t
ifRR 
(RR 
companyRR 
isRR  "
nullRR# '
)RR' (
{SS 

_apiResultTT "
.TT" #
	IsSuccessTT# ,
=TT- .
falseTT/ 4
;TT4 5

_apiResultUU "
.UU" #
MessageUU# *
=UU+ ,
$strUU- Z
;UUZ [
returnVV 
OkVV !
(VV! "

_apiResultVV" ,
)VV, -
;VV- .
}WW 
postAddXX 
.XX 
	CompanyIdXX %
=XX& '
companyXX( /
.XX/ 0
IdXX0 2
;XX2 3
}YY 
var[[ 
data[[ 
=[[ 
await[[  #
_recruitmentPostService[[! 8
.[[8 9
Add[[9 <
([[< =
postAdd[[= D
)[[D E
;[[E F
if\\ 
(\\ 
data\\ 
is\\ 
null\\  
)\\  !
{]] 

_apiResult^^ 
.^^ 
	IsSuccess^^ (
=^^) *
false^^+ 0
;^^0 1

_apiResult__ 
.__ 
Message__ &
=__' (
$str__) L
;__L M
}`` 
elseaa 
{bb 

_apiResultcc 
.cc 
Messagecc &
=cc' (
$strcc) I
;ccI J

_apiResultdd 
.dd 
Datadd #
=dd$ %
datadd& *
;dd* +
}ee 
}ff 
elsegg 
{hh 
varii 
	existPostii 
=ii 
awaitii  %#
_recruitmentPostServiceii& =
.ii= >
GetRecruitmentPostii> P
(iiP Q
newiiQ T
RecruitmentPostiiU d
{iie f
Idiig i
=iij k
modeliil q
.iiq r
Idiir t
}iiu v
)iiv w
;iiw x
ifjj 
(jj 
	existPostjj 
isjj  
nulljj! %
)jj% &
{kk 

_apiResultll 
.ll 
	IsSuccessll (
=ll) *
falsell+ 0
;ll0 1

_apiResultmm 
.mm 
Messagemm &
=mm' (
$strmm) a
;mma b
returnnn 
Oknn 
(nn 

_apiResultnn (
)nn( )
;nn) *
}oo 
	existPostpp 
.pp 
JobTitlepp "
=pp# $
modelpp% *
.pp* +
JobTitlepp+ 3
;pp3 4
	existPostqq 
.qq 
JobDescriptionqq (
=qq) *
modelqq+ 0
.qq0 1
JobDescriptionqq1 ?
;qq? @
	existPostrr 
.rr 
Currencyrr "
=rr# $
modelrr% *
.rr* +
Currencyrr+ 3
;rr3 4
	existPostss 
.ss 
Deadliness "
=ss# $
modelss% *
.ss* +
Deadliness+ 3
;ss3 4
	existPosttt 
.tt 

SalaryTypett $
=tt% &
modeltt' ,
.tt, -

SalaryTypett- 7
;tt7 8
	existPostuu 
.uu 

SalaryFromuu $
=uu% &
modeluu' ,
.uu, -

SalaryFromuu- 7
;uu7 8
	existPostvv 
.vv 
SalaryTovv "
=vv# $
modelvv% *
.vv* +
SalaryTovv+ 3
;vv3 4
	existPostww 
.ww 
	UpdatedByww #
=ww$ %
currentUserww& 1
.ww1 2
Idww2 4
;ww4 5
	existPostxx 
.xx 

TechStacksxx $
=xx% &
modelxx' ,
.xx, -

TechStacksxx- 7
;xx7 8
	existPostyy 
.yy 
YearExperienceyy (
=yy) *
modelyy+ 0
.yy0 1
YearExperienceyy1 ?
;yy? @
	existPostzz 
.zz 
WorkingTypezz %
=zz& '
modelzz( -
.zz- .
WorkingTypezz. 9
;zz9 :

_apiResult|| 
.|| 
	IsSuccess|| $
=||% &
await||' ,#
_recruitmentPostService||- D
.||D E
Update||E K
(||K L
	existPost||L U
)||U V
;||V W
if}} 
(}} 

_apiResult}} 
.}} 
	IsSuccess}} (
)}}( )
{~~ 

_apiResult 
. 
Message &
=' (
$str) M
;M N

_apiResult
ÄÄ 
.
ÄÄ 
Data
ÄÄ #
=
ÄÄ$ %
await
ÄÄ& +%
_recruitmentPostService
ÄÄ, C
.
ÄÄC D 
GetRecruitmentPost
ÄÄD V
(
ÄÄV W
new
ÄÄW Z
RecruitmentPost
ÄÄ[ j
{
ÄÄk l
Id
ÄÄm o
=
ÄÄp q
model
ÄÄr w
.
ÄÄw x
Id
ÄÄx z
}
ÄÄ{ |
)
ÄÄ| }
;
ÄÄ} ~
}
ÅÅ 
else
ÇÇ 
{
ÉÉ 

_apiResult
ÑÑ 
.
ÑÑ 
	IsSuccess
ÑÑ (
=
ÑÑ) *
false
ÑÑ+ 0
;
ÑÑ0 1

_apiResult
ÖÖ 
.
ÖÖ 
Message
ÖÖ &
=
ÖÖ' (
$str
ÖÖ) P
;
ÖÖP Q
}
ÜÜ 
}
áá 
return
àà 
Ok
àà 
(
àà 

_apiResult
àà  
)
àà  !
;
àà! "
}
ââ 	
[
ãã 	

HttpDelete
ãã	 
(
ãã 
$str
ãã 
)
ãã 
]
ãã 
[
åå 	
	Authorize
åå	 
(
åå 
Roles
åå 
=
åå 
$str
åå -
)
åå- .
]
åå. /
public
çç 
async
çç 
Task
çç 
<
çç 
IActionResult
çç '
>
çç' (
Delete
çç) /
(
çç/ 0
long
çç0 4
id
çç5 7
)
çç7 8
{
éé 	
var
èè 
exist
èè 
=
èè 
await
èè %
_recruitmentPostService
èè 5
.
èè5 6 
GetRecruitmentPost
èè6 H
(
èèH I
new
èèI L
RecruitmentPost
èèM \
{
èè] ^
Id
èè_ a
=
èèb c
id
èèd f
}
èèg h
)
èèh i
;
èèi j
if
êê 
(
êê 
exist
êê 
is
êê 
null
êê 
)
êê 
{
ëë 

_apiResult
íí 
.
íí 
	IsSuccess
íí $
=
íí% &
false
íí' ,
;
íí, -

_apiResult
ìì 
.
ìì 
Message
ìì "
=
ìì# $
$str
ìì% B
;
ììB C
}
îî 
else
ïï 
{
ññ 

_apiResult
óó 
.
óó 
	IsSuccess
óó $
=
óó% &
await
óó' ,%
_recruitmentPostService
óó- D
.
óóD E
Delete
óóE K
(
óóK L
exist
óóL Q
)
óóQ R
;
óóR S

_apiResult
òò 
.
òò 
Message
òò "
=
òò# $

_apiResult
òò% /
.
òò/ 0
	IsSuccess
òò0 9
?
òò: ;
$str
òò< U
:
òòV W
$str
òòX o
;
òòo p

_apiResult
ôô 
.
ôô 
Data
ôô 
=
ôô  !
exist
ôô" '
;
ôô' (
}
öö 
return
ùù 
Ok
ùù 
(
ùù 

_apiResult
ùù  
)
ùù  !
;
ùù! "
}
ûû 	
[
†† 	
HttpGet
††	 
(
†† 
$str
†† 
)
†† 
]
†† 
[
°° 	
AllowAnonymous
°°	 
]
°° 
public
¢¢ 
async
¢¢ 
Task
¢¢ 
<
¢¢ 
IActionResult
¢¢ '
>
¢¢' (
GetJobs
¢¢) 0
(
¢¢0 1
)
¢¢1 2
{
££ 	
var
§§ 
data
§§ 
=
§§ 
await
§§ %
_recruitmentPostService
§§ 4
.
§§4 5
GetAll
§§5 ;
(
§§; <
)
§§< =
;
§§= >
data
•• 
=
•• 
data
•• 
.
•• 
OrderByDescending
•• )
(
••) *
item
••* .
=>
••/ 1
item
••2 6
.
••6 7
UpdatedDate
••7 B
)
••B C
.
••C D
ToList
••D J
(
••J K
)
••K L
;
••L M

_apiResult
¶¶ 
.
¶¶ 
Data
¶¶ 
=
¶¶ 
_mapper
¶¶ %
.
¶¶% &
Map
¶¶& )
<
¶¶) *
IEnumerable
¶¶* 5
<
¶¶5 6+
RecruitmentPostShortViewModel
¶¶6 S
>
¶¶S T
>
¶¶T U
(
¶¶U V
data
¶¶V Z
)
¶¶Z [
;
¶¶[ \

_apiResult
®® 
.
®® 
Message
®® 
=
®®  
$str
®®! 9
;
®®9 :
return
™™ 
Ok
™™ 
(
™™ 

_apiResult
™™  
)
™™  !
;
™™! "
}
´´ 	
[
≠≠ 	
HttpGet
≠≠	 
(
≠≠ 
$str
≠≠ 
)
≠≠ 
]
≠≠  
[
ÆÆ 	
AllowAnonymous
ÆÆ	 
]
ÆÆ 
public
ØØ 
async
ØØ 
Task
ØØ 
<
ØØ 
IActionResult
ØØ '
>
ØØ' (
	GetDetail
ØØ) 2
(
ØØ2 3
long
ØØ3 7
id
ØØ8 :
)
ØØ: ;
{
∞∞ 	
var
±± 
post
±± 
=
±± 
await
±± %
_recruitmentPostService
±± 4
.
±±4 5)
GetRecruitmentPostForDetail
±±5 P
(
±±P Q
new
±±Q T
RecruitmentPost
±±U d
{
±±e f
Id
±±g i
=
±±j k
id
±±l n
}
±±o p
)
±±p q
??
≤≤ 
throw
≤≤  
new
≤≤! $
EWException
≤≤% 0
(
≤≤0 1
$str
≤≤1 M
)
≤≤M N
;
≤≤N O

_apiResult
≥≥ 
.
≥≥ 
Data
≥≥ 
=
≥≥ 
post
≥≥ "
;
≥≥" #

_apiResult
¥¥ 
.
¥¥ 
Message
¥¥ 
=
¥¥  
$str
¥¥! 9
;
¥¥9 :
return
∂∂ 
Ok
∂∂ 
(
∂∂ 

_apiResult
∂∂  
)
∂∂  !
;
∂∂! "
}
∑∑ 	
}
∏∏ 
}ππ Õy
?D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\UploadsController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UploadsController "
:# $
ControllerBase% 3
{ 
private 
readonly 
ILogger  
<  !
UploadsController! 2
>2 3
_logger4 ;
;; <
private 
readonly 
IWebHostEnvironment ,
_webHostEnvironment- @
;@ A
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
IUserCVService '
_userCVService( 6
;6 7
private 
readonly 
ICompanyService (
_companyService) 8
;8 9
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public 
UploadsController  
(  !
ILogger 
< 
UploadsController %
>% &
logger' -
,- .
IWebHostEnvironment 
webHostEnvironment  2
,2 3
IUserService 
userService $
,$ %
IUserCVService 
userCVService (
,( )
ICompanyService 
companyService *
) 	
{   	
_logger!! 
=!! 
logger!! 
;!! 
_webHostEnvironment"" 
=""  !
webHostEnvironment""" 4
;""4 5
_userService## 
=## 
userService## &
;##& '
_userCVService$$ 
=$$ 
userCVService$$ *
;$$* +
_companyService%% 
=%% 
companyService%% ,
;%%, -

_apiResult&& 
=&& 
new&& 
(&& 
)&& 
;&& 
}'' 	
[.. 	
	Authorize..	 
(.. 
Roles.. 
=.. 
$str.. $
)..$ %
]..% &
[// 	
HttpPost//	 
(// 
$str// !
)//! "
]//" #
public00 
async00 
Task00 
<00 
IActionResult00 '
>00' (
UploadNewCV00) 4
(004 5
[005 6
FromForm006 >
]00> ?
UploadNewCVModel00@ P
model00Q V
)00V W
{11 	
var33 
fileExtension33 
=33 
Path33  $
.33$ %
GetExtension33% 1
(331 2
model332 7
.337 8
File338 <
.33< =
FileName33= E
)33E F
;33F G
var44  
acceptExtensionFiles44 $
=44% &
new44' *
string44+ 1
[441 2
]442 3
{444 5
$str446 =
,44= >
$str44? E
,44E F
$str44G M
}44N O
;44O P
var55 
fileNameRequest55 
=55  !
model55" '
.55' (
File55( ,
.55, -
FileName55- 5
;555 6
if66 
(66 
!66  
acceptExtensionFiles66 %
.66% &
Contains66& .
(66. /
fileExtension66/ <
)66< =
)66= >
{77 

_apiResult88 
.88 
	IsSuccess88 $
=88% &
false88' ,
;88, -

_apiResult99 
.99 
Message99 "
=99# $
$str99% I
;99I J
return;; 
Ok;; 
(;; 

_apiResult;; $
);;$ %
;;;% &
}<< 
if== 
(== 
model== 
.== 
File== 
.== 
Length== !
>==" #
$num==$ ,
)==, -
{>> 

_apiResult?? 
.?? 
	IsSuccess?? $
=??% &
false??' ,
;??, -

_apiResult@@ 
.@@ 
Message@@ "
=@@# $
$str@@% J
;@@J K
returnAA 
OkAA 
(AA 

_apiResultAA $
)AA$ %
;AA% &
}BB 
varDD 
uploadModelDD 
=DD 
newDD !
ImportFileModelDD" 1
{DD2 3
FileDD4 8
=DD9 :
modelDD; @
.DD@ A
FileDDA E
,DDE F
TypeDDG K
=DDL M
	EFileTypeDDN W
.DDW X
CVDDX Z
}DD[ \
;DD\ ]
varEE 
resultUploadEE 
=EE 
awaitEE $
	WriteFileEE% .
(EE. /
uploadModelEE/ :
)EE: ;
;EE; <
varFF 
userFF 
=FF 
awaitFF 
_userServiceFF )
.FF) *
GetUserFF* 1
(FF1 2
newFF2 5
UserFF6 :
{FF; <
UsernameFF= E
=FFF G
UsernameFFH P
}FFQ R
)FFR S
;FFS T
ifHH 
(HH 
resultUploadHH 
.HH 
	IsSuccessHH &
)HH& '
{II 
varJJ 
ownerCVJJ 
=JJ 
newJJ !
UserCVJJ" (
{KK 
CVUrlLL 
=LL 
resultUploadLL (
.LL( )
PathLL) -
,LL- .
CVNameMM 
=MM 
fileNameRequestMM ,
,MM, -
UserIdNN 
=NN 
userNN !
.NN! "
IdNN" $
,NN$ %
FeaturedOO 
=OO 
falseOO $
,OO$ %
}PP 
;PP 
varRR 
resultAddCVRR 
=RR  !
awaitRR" '
_userCVServiceRR( 6
.RR6 7
AddCVRR7 <
(RR< =
ownerCVRR= D
)RRD E
;RRE F
ifSS 
(SS 
resultAddCVSS 
isSS  "
notSS# &
nullSS' +
)SS+ ,
{TT 

_apiResultUU 
.UU 
	IsSuccessUU (
=UU) *
trueUU+ /
;UU/ 0

_apiResultVV 
.VV 
MessageVV &
=VV' (
$strVV) ?
;VV? @

_apiResultWW 
.WW 
DataWW #
=WW$ %
resultAddCVWW& 1
;WW1 2
}XX 
elseYY 
{ZZ 

_apiResult[[ 
.[[ 
	IsSuccess[[ (
=[[) *
false[[+ 0
;[[0 1

_apiResult\\ 
.\\ 
Message\\ &
=\\' (
$str\\) F
;\\F G
}]] 
}__ 
else`` 
{aa 

_apiResultbb 
.bb 
	IsSuccessbb $
=bb% &
falsebb' ,
;bb, -

_apiResultcc 
.cc 
Messagecc "
=cc# $
$strcc% B
;ccB C
}dd 
returngg 
Okgg 
(gg 

_apiResultgg  
)gg  !
;gg! "
}hh 	
[oo 	
	Authorizeoo	 
(oo 
Rolesoo 
=oo 
$stroo %
)oo% &
]oo& '
[pp 	
HttpPostpp	 
(pp 
$strpp )
)pp) *
]pp* +
publicqq 
asyncqq 
Taskqq 
<qq 
IActionResultqq '
>qq' (
UploadAvatarCompanyqq) <
(qq< =
[qq= >
FromFormqq> F
]qqF G
UploadAvatarModelqqH Y
modelqqZ _
)qq_ `
{rr 	
vartt 
usertt 
=tt 
awaittt 
_userServicett )
.tt) *
GetUsertt* 1
(tt1 2
newtt2 5
Usertt6 :
{tt; <
Usernamett= E
=ttF G
UsernamettH P
}ttQ R
)ttR S
;ttS T
varuu 
companyByUseruu 
=uu 
awaituu  %
_companyServiceuu& 5
.uu5 6
GetCompanyByUseruu6 F
(uuF G
useruuG K
)uuK L
;uuL M
varvv 
fileExtensionvv 
=vv 
Pathvv  $
.vv$ %
GetExtensionvv% 1
(vv1 2
modelvv2 7
.vv7 8
Filevv8 <
.vv< =
FileNamevv= E
)vvE F
.vvF G
ToLowervvG N
(vvN O
)vvO P
;vvP Q
varww  
acceptExtensionFilesww $
=ww% &
newww' *
stringww+ 1
[ww1 2
]ww2 3
{ww4 5
$strww6 <
,ww< =
$strww> E
,wwE F
$strwwG N
,wwN O
$strwwP V
,wwV W
$strwwX ^
,ww^ _
$strww` g
}wwh i
;wwi j
ifyy 
(yy 
!yy  
acceptExtensionFilesyy %
.yy% &
Containsyy& .
(yy. /
fileExtensionyy/ <
)yy< =
)yy= >
{zz 

_apiResult{{ 
.{{ 
	IsSuccess{{ $
={{% &
false{{' ,
;{{, -

_apiResult|| 
.|| 
Message|| "
=||# $
$str||% H
;||H I
return}} 
Ok}} 
(}} 

_apiResult}} $
)}}$ %
;}}% &
}~~ 
var
ÄÄ 
uploadModel
ÄÄ 
=
ÄÄ 
new
ÄÄ !
ImportFileModel
ÄÄ" 1
{
ÄÄ2 3
File
ÄÄ4 8
=
ÄÄ9 :
model
ÄÄ; @
.
ÄÄ@ A
File
ÄÄA E
,
ÄÄE F
Type
ÄÄG K
=
ÄÄL M
	EFileType
ÄÄN W
.
ÄÄW X
CompanyAvatar
ÄÄX e
}
ÄÄf g
;
ÄÄg h
var
ÅÅ 
resultUpload
ÅÅ 
=
ÅÅ 
await
ÅÅ $
	WriteFile
ÅÅ% .
(
ÅÅ. /
uploadModel
ÅÅ/ :
)
ÅÅ: ;
;
ÅÅ; <
if
ÇÇ 
(
ÇÇ 
resultUpload
ÇÇ 
.
ÇÇ 
	IsSuccess
ÇÇ &
)
ÇÇ& '
{
ÉÉ 
companyByUser
ÑÑ 
.
ÑÑ 
	AvatarUrl
ÑÑ '
=
ÑÑ( )
resultUpload
ÑÑ* 6
.
ÑÑ6 7
Path
ÑÑ7 ;
;
ÑÑ; <

_apiResult
ÖÖ 
.
ÖÖ 
	IsSuccess
ÖÖ $
=
ÖÖ% &
await
ÖÖ' ,
_companyService
ÖÖ- <
.
ÖÖ< =!
UploadAvatarCompany
ÖÖ= P
(
ÖÖP Q
companyByUser
ÖÖQ ^
)
ÖÖ^ _
;
ÖÖ_ `

_apiResult
ÜÜ 
.
ÜÜ 
Message
ÜÜ "
=
ÜÜ# $

_apiResult
ÜÜ% /
.
ÜÜ/ 0
	IsSuccess
ÜÜ0 9
?
ÜÜ: ;
$str
ÜÜ< X
:
ÜÜY Z
$str
ÜÜ[ ~
;
ÜÜ~ 
if
áá 
(
áá 
resultUpload
áá  
.
áá  !
	IsSuccess
áá! *
)
áá* +
{
àà 

_apiResult
ââ 
.
ââ 
Data
ââ #
=
ââ$ %
companyByUser
ââ& 3
;
ââ3 4
}
ää 
}
ãã 
else
åå 
{
çç 

_apiResult
éé 
.
éé 
	IsSuccess
éé $
=
éé% &
false
éé' ,
;
éé, -

_apiResult
èè 
.
èè 
Message
èè "
=
èè# $
$str
èè% H
;
èèH I
}
êê 
return
íí 
Ok
íí 
(
íí 

_apiResult
íí  
)
íí  !
;
íí! "
}
ìì 	
[
õõ 	
	NonAction
õõ	 
]
õõ 
private
úú 
async
úú 
Task
úú 
<
úú 
ResponseWriteFile
úú ,
>
úú, -
	WriteFile
úú. 7
(
úú7 8
ImportFileModel
úú8 G
model
úúH M
)
úúM N
{
ùù 	
var
ûû 
response
ûû 
=
ûû 
new
ûû 
ResponseWriteFile
ûû 0
(
ûû0 1
)
ûû1 2
;
ûû2 3
try
üü 
{
†† 
var
°° 
folder
°° 
=
°° 
Path
°° !
.
°°! "
Combine
°°" )
(
°°) *!
_webHostEnvironment
°°* =
.
°°= >
ContentRootPath
°°> M
,
°°M N
$str
°°O X
)
°°X Y
;
°°Y Z
var
££ 
fileName
££ 
=
££ 
$"
££ !
{
££! "
model
££" '
.
££' (
Type
££( ,
}
££, -
$str
££- .
{
££. /
DateTime
££/ 7
.
££7 8
Now
££8 ;
:
££; <
$str
££< J
}
££J K
$str
££K L
{
££L M
model
££M R
.
££R S
File
££S W
.
££W X
FileName
££X `
}
££` a
"
££a b
;
££b c
if
§§ 
(
§§ 
!
§§ 
	Directory
§§ 
.
§§ 
Exists
§§ %
(
§§% &
folder
§§& ,
)
§§, -
)
§§- .
{
•• 
	Directory
¶¶ 
.
¶¶ 
CreateDirectory
¶¶ -
(
¶¶- .
folder
¶¶. 4
)
¶¶4 5
;
¶¶5 6
}
ßß 
if
©© 
(
©© 
model
©© 
.
©© 
File
©© 
is
©© !
not
©©" %
null
©©& *
&&
©©+ -
model
©©. 3
.
©©3 4
File
©©4 8
.
©©8 9
Length
©©9 ?
>
©©@ A
$num
©©B C
)
©©C D
{
™™ 
string
´´ 
filePath
´´ #
=
´´$ %
Path
´´& *
.
´´* +
Combine
´´+ 2
(
´´2 3
folder
´´3 9
,
´´9 :
fileName
´´; C
)
´´C D
;
´´D E
using
¨¨ 
(
¨¨ 
var
¨¨ 
stream
¨¨ %
=
¨¨& '
new
¨¨( +

FileStream
¨¨, 6
(
¨¨6 7
filePath
¨¨7 ?
,
¨¨? @
FileMode
¨¨A I
.
¨¨I J
Create
¨¨J P
)
¨¨P Q
)
¨¨Q R
{
≠≠ 
await
ÆÆ 
model
ÆÆ #
.
ÆÆ# $
File
ÆÆ$ (
.
ÆÆ( )
CopyToAsync
ÆÆ) 4
(
ÆÆ4 5
stream
ÆÆ5 ;
)
ÆÆ; <
;
ÆÆ< =
}
ØØ 
response
∞∞ 
.
∞∞ 
	IsSuccess
∞∞ &
=
∞∞' (
true
∞∞) -
;
∞∞- .
response
±± 
.
±± 
Path
±± !
=
±±" #
fileName
±±$ ,
;
±±, -
}
≤≤ 
}
≥≥ 
catch
¥¥ 
(
¥¥ 
	Exception
¥¥ 
ex
¥¥ 
)
¥¥  
{
µµ 
_logger
∂∂ 
.
∂∂ 
LogError
∂∂  
(
∂∂  !
ex
∂∂! #
.
∂∂# $
Message
∂∂$ +
)
∂∂+ ,
;
∂∂, -
response
∑∑ 
.
∑∑ 
	IsSuccess
∑∑ "
=
∑∑# $
false
∑∑% *
;
∑∑* +
}
∏∏ 
return
ππ 
response
ππ 
;
ππ 
}
ªª 	
}
ºº 
}ΩΩ ‘e
=D:\Dacntt2\Source\EW\EW.WebAPI\Controllers\UsersController.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UsersController  
:! "
ControllerBase# 1
{ 
private 
readonly 
IUserService %
_userService& 2
;2 3
private 
readonly 
	ApiResult "

_apiResult# -
;- .
public 
UsersController 
( 
IUserService 
userService $
) 	
{ 	
_userService 
= 
userService &
;& '

_apiResult 
= 
new 
( 
) 
; 
} 	
[ 	
	Authorize	 
( 
Roles 
= 
$str $
)$ %
]% &
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Get) ,
(, -
)- .
{   	
var!! 
data!! 
=!! 
await!! 
_userService!! )
.!!) *
GetUsers!!* 2
(!!2 3
)!!3 4
;!!4 5

_apiResult"" 
."" 
Data"" 
="" 
data"" "
.""" #
OrderByDescending""# 4
(""4 5
item""5 9
=>"": <
item""= A
.""A B
CreatedDate""B M
)""M N
;""N O
return$$ 
Ok$$ 
($$ 

_apiResult$$  
)$$  !
;$$! "
}%% 	
['' 	
HttpPost''	 
('' 
$str'' '
)''' (
]''( )
[(( 	
	Authorize((	 
((( 
Roles(( 
=(( 
$str(( $
)(($ %
]((% &
public)) 
async)) 
Task)) 
<)) 
IActionResult)) '
>))' (
Register))) 1
())1 2
RegisterModel))2 ?
model))@ E
)))E F
{** 	
var++ 
exist++ 
=++ 
await++ 
_userService++ *
.++* +
GetUser+++ 2
(++2 3
new++3 6
User++7 ;
{++< =
Username++> F
=++G H
model++I N
.++N O
Username++O W
,++W X
Email++Y ^
=++_ `
model++a f
.++f g
Email++g l
}++m n
)++n o
;++o p
if,, 
(,, 
exist,, 
is,, 
not,, 
null,, !
),,! "
{-- 

_apiResult.. 
... 
	IsSuccess.. $
=..% &
false..' ,
;.., -

_apiResult// 
.// 
Message// "
=//# $
$str//% ?
;//? @
}00 
else11 
{22 

_apiResult33 
.33 
	IsSuccess33 $
=33% &
await33' ,
_userService33- 9
.339 :
Register33: B
(33B C
new33C F
User33G K
{44 
Email55 
=55 
model55 !
.55! "
Email55" '
,55' (
Username66 
=66 
model66 $
.66$ %
Username66% -
,66- .
Password77 
=77 
model77 $
.77$ %
Password77% -
,77- .
PhoneNumber88 
=88  !
model88" '
.88' (
NumberPhone88( 3
,883 4
FullName99 
=99 
model99 $
.99$ %
FullName99% -
,99- .
RoleId:: 
=:: 
(:: 
long:: "
)::" #
ERole::# (
.::( )

ID_Faculty::) 3
,::3 4
};; 
);; 
;;; 
if<< 
(<< 

_apiResult<< 
.<< 
	IsSuccess<< (
)<<( )
{== 

_apiResult>> 
.>> 
Message>> &
=>>' (
$str>>) D
;>>D E

_apiResult?? 
.?? 
Data?? #
=??$ %
await??& +
_userService??, 8
.??8 9
GetUser??9 @
(??@ A
new??A D
User??E I
{@@ 
EmailAA 
=AA 
modelAA  %
.AA% &
EmailAA& +
,AA+ ,
UsernameBB  
=BB! "
modelBB# (
.BB( )
UsernameBB) 1
,BB1 2
PasswordCC  
=CC! "
modelCC# (
.CC( )
PasswordCC) 1
,CC1 2
PhoneNumberDD #
=DD$ %
modelDD& +
.DD+ ,
NumberPhoneDD, 7
,DD7 8
FullNameEE  
=EE! "
modelEE# (
.EE( )
FullNameEE) 1
,EE1 2
}FF 
)FF 
;FF 
}GG 
elseHH 
{II 

_apiResultJJ 
.JJ 
MessageJJ &
=JJ' (
$strJJ) G
;JJG H
}KK 
}LL 
returnNN 
OkNN 
(NN 

_apiResultNN  
)NN  !
;NN! "
}OO 	
[QQ 	
HttpGetQQ	 
(QQ 
$strQQ 
)QQ 
]QQ 
[RR 	
	AuthorizeRR	 
(RR 
RolesRR 
=RR 
$strRR $
)RR$ %
]RR% &
publicSS 
asyncSS 
TaskSS 
<SS 
IActionResultSS '
>SS' (
GetRolesSS) 1
(SS1 2
)SS2 3
{TT 	

_apiResultUU 
.UU 
DataUU 
=UU 
awaitUU #
_userServiceUU$ 0
.UU0 1
GetRolesUU1 9
(UU9 :
)UU: ;
;UU; <

_apiResultVV 
.VV 
	IsSuccessVV  
=VV! "
trueVV# '
;VV' (

_apiResultWW 
.WW 
MessageWW 
=WW  
$strWW! ;
;WW; <
returnYY 
OkYY 
(YY 

_apiResultYY  
)YY  !
;YY! "
}ZZ 	
[\\ 	
HttpPut\\	 
(\\ 
$str\\ 
)\\ 
]\\ 
[]] 	
	Authorize]]	 
(]] 
Roles]] 
=]] 
$str]] $
)]]$ %
]]]% &
public^^ 
async^^ 
Task^^ 
<^^ 
IActionResult^^ '
>^^' (
	SetActive^^) 2
(^^2 3
UserActiveModel^^3 B
model^^C H
)^^H I
{__ 	
var`` 
	userExist`` 
=`` 
await`` !
_userService``" .
.``. /
GetUser``/ 6
(``6 7
new``7 :
User``; ?
{``@ A
Id``B D
=``E F
model``G L
.``L M
Id``M O
,``O P
Username``Q Y
=``Z [
model``\ a
.``a b
Username``b j
}``k l
)``l m
;``m n
ifaa 
(aa 
	userExistaa 
isaa 
nullaa !
)aa! "
{bb 

_apiResultcc 
.cc 
	IsSuccesscc $
=cc% &
falsecc' ,
;cc, -

_apiResultdd 
.dd 
Messagedd "
=dd# $
$strdd% B
;ddB C
}ee 
elseff 
ifff 
(ff 
	userExistff 
.ff 
IsActiveff '
==ff( *
modelff+ 0
.ff0 1
IsActiveff1 9
)ff9 :
{gg 

_apiResulthh 
.hh 
	IsSuccesshh $
=hh% &
falsehh' ,
;hh, -

_apiResultii 
.ii 
Messageii "
=ii# $
$strii% \
;ii\ ]
}jj 
elsekk 
{ll 
	userExistmm 
.mm 
IsActivemm "
=mm# $
modelmm% *
.mm* +
IsActivemm+ 3
;mm3 4

_apiResultnn 
.nn 
	IsSuccessnn $
=nn% &
awaitnn' ,
_userServicenn- 9
.nn9 :

UpdateUsernn: D
(nnD E
	userExistnnE N
)nnN O
;nnO P
ifoo 
(oo 

_apiResultoo 
.oo 
	IsSuccessoo (
)oo( )
{pp 

_apiResultqq 
.qq 
Messageqq &
=qq' (
$strqq) S
;qqS T

_apiResultrr 
.rr 
Datarr #
=rr$ %
	userExistrr& /
;rr/ 0
}ss 
elsett 
{uu 

_apiResultvv 
.vv 
Messagevv &
=vv' (
$strvv) Q
;vvQ R
}ww 
}xx 
returnzz 
Okzz 
(zz 

_apiResultzz  
)zz  !
;zz! "
}{{ 	
[}} 	
HttpPut}}	 
(}} 
$str}} &
)}}& '
]}}' (
[~~ 	
	Authorize~~	 
(~~ 
Roles~~ 
=~~ 
$str~~ $
)~~$ %
]~~% &
public 
async 
Task 
< 
IActionResult '
>' (
Update) /
(/ 0
long0 4
id5 7
,7 8
UpdateAccount9 F
modelG L
)L M
{
ÄÄ 	
var
ÅÅ 
exist
ÅÅ 
=
ÅÅ 
await
ÅÅ 
_userService
ÅÅ *
.
ÅÅ* +
GetUser
ÅÅ+ 2
(
ÅÅ2 3
new
ÅÅ3 6
User
ÅÅ7 ;
{
ÅÅ< =
Id
ÅÅ> @
=
ÅÅA B
id
ÅÅC E
}
ÅÅF G
)
ÅÅG H
;
ÅÅH I
if
ÇÇ 
(
ÇÇ 
exist
ÇÇ 
is
ÇÇ 
null
ÇÇ 
)
ÇÇ 
{
ÉÉ 

_apiResult
ÑÑ 
.
ÑÑ 
	IsSuccess
ÑÑ $
=
ÑÑ% &
false
ÑÑ' ,
;
ÑÑ, -

_apiResult
ÖÖ 
.
ÖÖ 
Message
ÖÖ "
=
ÖÖ# $
$str
ÖÖ% B
;
ÖÖB C
return
ÜÜ 
Ok
ÜÜ 
(
ÜÜ 

_apiResult
ÜÜ $
)
ÜÜ$ %
;
ÜÜ% &
}
áá 
else
ââ 
if
ââ 
(
ââ 
exist
ââ 
.
ââ 
Username
ââ #
!=
ââ$ &
model
ââ' ,
.
ââ, -
Username
ââ- 5
||
ââ6 8
exist
ââ9 >
.
ââ> ?
Email
ââ? D
!=
ââE G
model
ââH M
.
ââM N
Email
ââN S
)
ââS T
{
ää 

_apiResult
ãã 
.
ãã 
	IsSuccess
ãã $
=
ãã% &
false
ãã' ,
;
ãã, -

_apiResult
åå 
.
åå 
Message
åå "
=
åå# $
$str
åå% B
;
ååB C
}
çç 
else
éé 
{
èè 
exist
êê 
.
êê 
FullName
êê 
=
êê  
model
êê! &
.
êê& '
FullName
êê' /
;
êê/ 0
exist
ëë 
.
ëë 
PhoneNumber
ëë !
=
ëë" #
model
ëë$ )
.
ëë) *
NumberPhone
ëë* 5
;
ëë5 6
exist
íí 
.
íí 
UpdatedDate
íí !
=
íí" #
DateTimeOffset
íí$ 2
.
íí2 3
Now
íí3 6
;
íí6 7

_apiResult
ìì 
.
ìì 
	IsSuccess
ìì $
=
ìì% &
await
ìì' ,
_userService
ìì- 9
.
ìì9 :

UpdateUser
ìì: D
(
ììD E
exist
ììE J
)
ììJ K
;
ììK L
if
îî 
(
îî 

_apiResult
îî 
.
îî 
	IsSuccess
îî (
)
îî( )
{
ïï 

_apiResult
ññ 
.
ññ 
Message
ññ &
=
ññ' (
$str
ññ) H
;
ññH I

_apiResult
óó 
.
óó 
	IsSuccess
óó (
=
óó) *
true
óó+ /
;
óó/ 0

_apiResult
òò 
.
òò 
Data
òò #
=
òò$ %
exist
òò& +
;
òò+ ,
}
ôô 
else
öö 
{
õõ 

_apiResult
úú 
.
úú 
Message
úú &
=
úú' (
$str
úú) F
;
úúF G

_apiResult
ùù 
.
ùù 
	IsSuccess
ùù (
=
ùù) *
false
ùù+ 0
;
ùù0 1
}
ûû 
}
üü 
return
°° 
Ok
°° 
(
°° 

_apiResult
°°  
)
°°  !
;
°°! "
}
¢¢ 	
}
§§ 
}•• éK
ED:\Dacntt2\Source\EW\EW.WebAPI\Controllers\WorkHistoriesController.cs
	namespace

 	
EW


 
.

 
WebAPI

 
.

 
Controllers

 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class #
WorkHistoriesController (
:) *
ControllerBase+ 9
{ 
private 
readonly 
ILogger  
<  !
ProfileController! 2
>2 3
_logger4 ;
;; <
private 
readonly 
IProfileSerivce (
_profileSerivce) 8
;8 9
private 
readonly 
IWorkHistoryService ,
_workHistoryService- @
;@ A
private 
string 
Username 
=>  "
User# '
.' (
FindFirstValue( 6
(6 7

ClaimTypes7 A
.A B
NameIdentifierB P
)P Q
??R T
stringU [
.[ \
Empty\ a
;a b
public #
WorkHistoriesController &
(& '
ILogger 
< 
ProfileController %
>% &
logger' -
,- .
IProfileSerivce 
profileSerivce *
,* +
IWorkHistoryService 
workHistoryService  2
) 	
{ 	
_logger 
= 
logger 
; 
_profileSerivce 
= 
profileSerivce ,
;, -
_workHistoryService 
=  !
workHistoryService" 4
;4 5
} 	
[$$ 	
	Authorize$$	 
($$ 
Roles$$ 
=$$ 
$str$$ $
)$$$ %
]$$% &
[%% 	
HttpPost%%	 
]%% 
public&& 
async&& 
Task&& 
<&& 
IActionResult&& '
>&&' (
Post&&) -
(&&- .
AddWorkHistory&&. <
model&&= B
)&&B C
{'' 	
var(( 
result(( 
=(( 
new(( 
	ApiResult(( &
(((& '
)((' (
;((( )
try)) 
{** 
var++ 
profile++ 
=++ 
await++ #
_profileSerivce++$ 3
.++3 4

GetProfile++4 >
(++> ?
new++? B
User++C G
{++H I
Username++J R
=++S T
Username++U ]
}++^ _
)++_ `
;++` a
if,, 
(,, 
profile,, 
is,, 
null,, #
),,# $
{-- 
result.. 
... 
	IsSuccess.. $
=..% &
false..' ,
;.., -
result// 
.// 
Message// "
=//# $
$str//% L
;//L M
return00 
Ok00 
(00 
result00 $
)00$ %
;00% &
}11 
var33 
newWorkHistory33 "
=33# $
new33% (
WorkHistory33) 4
{44 
	ProfileId55 
=55 
profile55  '
.55' (
Id55( *
,55* +
Description66 
=66  !
model66" '
.66' (
Description66( 3
,663 4
From77 
=77 
model77  
.77  !
From77! %
,77% &
To88 
=88 
model88 
.88 
To88 !
,88! "
	IsWorking99 
=99 
model99  %
.99% &
	IsWorking99& /
,99/ 0
CompanyName:: 
=::  !
model::" '
.::' (
CompanyName::( 3
,::3 4
};; 
;;; 
var<< 
data<< 
=<< 
await<<  
_workHistoryService<<! 4
.<<4 5
Add<<5 8
(<<8 9
newWorkHistory<<9 G
)<<G H
;<<H I
if== 
(== 
data== 
is== 
null==  
)==  !
{>> 
result?? 
.?? 
	IsSuccess?? $
=??% &
false??' ,
;??, -
result@@ 
.@@ 
Message@@ "
=@@# $
$str@@% N
;@@N O
returnAA 
OkAA 
(AA 
resultAA $
)AA$ %
;AA% &
}BB 
elseCC 
{DD 
resultEE 
.EE 
	IsSuccessEE $
=EE% &
trueEE' +
;EE+ ,
resultFF 
.FF 
MessageFF "
=FF# $
$strFF% K
;FFK L
resultGG 
.GG 
DataGG 
=GG  !
dataGG" &
;GG& '
}HH 
}II 
catchJJ 
(JJ 
	ExceptionJJ 
exJJ 
)JJ  
{KK 
_loggerLL 
.LL 
LogErrorLL  
(LL  !
exLL! #
.LL# $
MessageLL$ +
)LL+ ,
;LL, -
resultMM 
.MM 
InternalErrorMM $
(MM$ %
exMM% '
.MM' (
MessageMM( /
)MM/ 0
;MM0 1
}NN 
returnPP 
OkPP 
(PP 
resultPP 
)PP 
;PP 
}QQ 	
[XX 	
	AuthorizeXX	 
(XX 
RolesXX 
=XX 
$strXX $
)XX$ %
]XX% &
[YY 	

HttpDeleteYY	 
(YY 
$strYY 
)YY 
]YY 
publicZZ 
asyncZZ 
TaskZZ 
<ZZ 
IActionResultZZ '
>ZZ' (
DeleteZZ) /
(ZZ/ 0
longZZ0 4
idZZ5 7
)ZZ7 8
{[[ 	
var\\ 
result\\ 
=\\ 
new\\ 
	ApiResult\\ &
(\\& '
)\\' (
;\\( )
try]] 
{^^ 
result__ 
.__ 
	IsSuccess__  
=__! "
await__# (
_workHistoryService__) <
.__< =
Delete__= C
(__C D
new__D G
WorkHistory__H S
{__T U
Id__V X
=__Y Z
id__[ ]
}__^ _
)___ `
;__` a
if`` 
(`` 
result`` 
.`` 
	IsSuccess`` $
)``$ %
{aa 
resultbb 
.bb 
Messagebb "
=bb# $
$strbb% A
;bbA B
resultcc 
.cc 
Datacc 
=cc  !
newcc" %
WorkHistorycc& 1
{cc2 3
Idcc4 6
=cc7 8
idcc9 ;
}cc< =
;cc= >
}dd 
elseee 
{ff 
resultgg 
.gg 
Messagegg "
=gg# $
$strgg% ?
;gg? @
}hh 
}ii 
catchjj 
(jj 
	Exceptionjj 
exjj 
)jj  
{kk 
resultll 
.ll 
InternalErrorll $
(ll$ %
exll% '
.ll' (
Messagell( /
)ll/ 0
;ll0 1
_loggermm 
.mm 
LogErrormm  
(mm  !
exmm! #
.mm# $
Messagemm$ +
)mm+ ,
;mm, -
}nn 
returnoo 
Okoo 
(oo 
resultoo 
)oo 
;oo 
}pp 	
[ww 	
	Authorizeww	 
(ww 
Rolesww 
=ww 
$strww $
)ww$ %
]ww% &
[xx 	
HttpPutxx	 
]xx 
publicyy 
asyncyy 
Taskyy 
<yy 
IActionResultyy '
>yy' (
Putyy) ,
(yy, -
WorkHistoryyy- 8
modelyy9 >
)yy> ?
{zz 	
var{{ 
result{{ 
={{ 
new{{ 
	ApiResult{{ &
({{& '
){{' (
;{{( )
try|| 
{}} 
result~~ 
.~~ 
	IsSuccess~~  
=~~! "
await~~# (
_workHistoryService~~) <
.~~< =
Update~~= C
(~~C D
model~~D I
)~~I J
;~~J K
if 
( 
result 
. 
	IsSuccess $
)$ %
{
ÄÄ 
result
ÅÅ 
.
ÅÅ 
Message
ÅÅ "
=
ÅÅ# $
$str
ÅÅ% F
;
ÅÅF G
result
ÇÇ 
.
ÇÇ 
Data
ÇÇ 
=
ÇÇ  !
model
ÇÇ" '
;
ÇÇ' (
}
ÉÉ 
else
ÑÑ 
{
ÖÖ 
result
ÜÜ 
.
ÜÜ 
Message
ÜÜ "
=
ÜÜ# $
$str
ÜÜ% D
;
ÜÜD E
}
áá 
}
àà 
catch
ââ 
(
ââ 
	Exception
ââ 
ex
ââ 
)
ââ  
{
ää 
result
ãã 
.
ãã 
InternalError
ãã $
(
ãã$ %
ex
ãã% '
.
ãã' (
Message
ãã( /
)
ãã/ 0
;
ãã0 1
_logger
åå 
.
åå 
LogError
åå  
(
åå  !
ex
åå! #
.
åå# $
Message
åå$ +
)
åå+ ,
;
åå, -
}
çç 
return
éé 
Ok
éé 
(
éé 
result
éé 
)
éé 
;
éé 
}
èè 	
}
êê 
}ëë ø6
BD:\Dacntt2\Source\EW\EW.WebAPI\Extensions\ServicesConfiguration.cs
	namespace

 	
EW


 
.

 
WebAPI

 
.

 

Extensions

 
{ 
public 

static 
class !
ServicesConfiguration -
{ 
public 
static 
void 
RegisterService *
(* +
this+ /
IServiceCollection0 B
servicesC K
)K L
{ 	
IMapper 
mapper 
= 
MappingConfig *
.* +
RegisterMaps+ 7
(7 8
)8 9
.9 :
CreateMapper: F
(F G
)G H
;H I
services 
. 
AddSingleton !
(! "
mapper" (
)( )
;) *
services 
. 
	AddScoped 
( 
typeof %
(% &
IRepository& 1
<1 2
>2 3
)3 4
,4 5
typeof6 <
(< =
EWRepository= I
<I J
>J K
)K L
)L M
;M N
services 
. 
	AddScoped 
( 
typeof %
(% &
IDatabaseFactory& 6
<6 7
>7 8
)8 9
,9 :
typeof; A
(A B
DatabaseFactoryB Q
<Q R
>R S
)S T
)T U
;U V
services 
. 
	AddScoped 
< 
IUserService +
,+ ,
UserService- 8
>8 9
(9 :
): ;
;; <
services 
. 
	AddScoped 
< 
ITokenService ,
,, -
TokenService. :
>: ;
(; <
)< =
;= >
services 
. 
	AddScoped 
< 
IRecruiterService 0
,0 1
RecruiterService2 B
>B C
(C D
)D E
;E F
services 
. 
	AddScoped 
< 
IUserCVService -
,- .
UserCVService/ <
>< =
(= >
)> ?
;? @
services 
. 
	AddScoped 
< 
IEmailService ,
,, -
EmailService. :
>: ;
(; <
)< =
;= >
services 
. 
	AddScoped 
< #
IRecruitmentPostService 6
,6 7"
RecruitmentPostService8 N
>N O
(O P
)P Q
;Q R
services 
. 
	AddScoped 
< 
ICompanyService .
,. /
CompanyService0 >
>> ?
(? @
)@ A
;A B
services 
. 
	AddScoped 
< 
IApplicationService 2
,2 3
ApplicationService4 F
>F G
(G H
)H I
;I J
services 
. 
	AddScoped 
< 
IProfileSerivce .
,. /
ProfileService0 >
>> ?
(? @
)@ A
;A B
services 
. 
	AddScoped 
< 
IWorkHistoryService 2
,2 3
WorkHistoryService4 F
>F G
(G H
)H I
;I J
services 
. 
	AddScoped 
< 
IProjectService .
,. /
ProjectService0 >
>> ?
(? @
)@ A
;A B
services 
. 
	AddScoped 
< 
ICertificateService 2
,2 3
CertificateService4 F
>F G
(G H
)H I
;I J
services   
.   
	AddScoped   
<   
IEducationService   0
,  0 1
EducationService  2 B
>  B C
(  C D
)  D E
;  E F
services!! 
.!! 
	AddScoped!! 
<!! 
IChartService!! ,
,!!, -
ChartService!!. :
>!!: ;
(!!; <
)!!< =
;!!= >
services"" 
."" 
	AddScoped"" 
<""  
IBlogCategoryService"" 3
,""3 4
BlogCategoryService""5 H
>""H I
(""I J
)""J K
;""K L
services## 
.## 
	AddScoped## 
<## 
IBlogService## +
,##+ ,
BlogService##- 8
>##8 9
(##9 :
)##: ;
;##; <
services$$ 
.$$ 
	AddScoped$$ 
<$$ 
IUnitOfWork$$ *
,$$* +

UnitOfWork$$, 6
>$$6 7
($$7 8
)$$8 9
;$$9 :
}%% 	
public'' 
static'' 
void'' %
AddCustomsConfigureObject'' 4
(''4 5
this(( 
IServiceCollection(( #
services(($ ,
,((, - 
ConfigurationManager))   
configurationManager))! 5
)** 	
{++ 	
services,, 
.,, 
	Configure,, 
<,, 
EmailConfig,, *
>,,* +
(,,+ , 
configurationManager,,, @
.,,@ A

GetSection,,A K
(,,K L
$str,,L Z
),,Z [
),,[ \
;,,\ ]
services-- 
.-- 
	Configure-- 
<-- 
CustomConfig-- +
>--+ ,
(--, - 
configurationManager--- A
.--A B

GetSection--B L
(--L M
$str--M \
)--\ ]
)--] ^
;--^ _
}.. 	
public00 
static00 
void00  
AddEWDbConfiguration00 /
(00/ 0
this11 
IServiceCollection11 #
services11$ ,
,11, - 
ConfigurationManager22   
configurationManager22! 5
)33 	
{44 	
var55 
connectionString55  
=55! " 
configurationManager55# 7
.557 8
GetConnectionString558 K
(55K L
$str55L ]
)55] ^
;55^ _
services66 
.66 
AddDbContext66 !
<66! "
	EWContext66" +
>66+ ,
(66, -
options66- 4
=>665 7
options77 
.77 
UseMySql77 $
(77$ %
connectionString77% 5
,775 6
ServerVersion777 D
.77D E

AutoDetect77E O
(77O P
connectionString77P `
)77` a
)77a b
)77b c
;77c d
}88 	
}99 
}:: ‡5
/D:\Dacntt2\Source\EW\EW.WebAPI\MappingConfig.cs
	namespace

 	
EW


 
.

 
WebAPI

 
{ 
public 

class 
MappingConfig 
{ 
public 
static 
MapperConfiguration )
RegisterMaps* 6
(6 7
)7 8
{ 	
var 
mappingConfig 
= 
new  #
MapperConfiguration$ 7
(7 8
config8 >
=>? A
{ 
config 
. 
	CreateMap  
<  !
RegisterModel! .
,. /
User0 4
>4 5
(5 6
)6 7
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
PhoneNumber( 3
,3 4
option5 ;
=>< >
option? E
.E F
MapFromF M
(M N
sourceN T
=>U W
sourceX ^
.^ _
NumberPhone_ j
)j k
)k l
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
RoleId( .
,. /
option0 6
=>7 9
option: @
.@ A
MapFromA H
(H I
sourceI O
=>P R
(S T
longT X
)X Y
ERoleY ^
.^ _
ID_Business_ j
)j k
)k l
;l m
config 
. 
	CreateMap  
<  ! 
LoginWithGoogleModel! 5
,5 6
User7 ;
>; <
(< =
)= >
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
Username( 0
,0 1
option2 8
=>9 ;
option< B
.B C
MapFromC J
(J K
sourceK Q
=>R T
sourceU [
.[ \
GoogleId\ d
)d e
)e f
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
RoleId( .
,. /
option0 6
=>7 9
option: @
.@ A
MapFromA H
(H I
sourceI O
=>P R
(S T
longT X
)X Y
ERoleY ^
.^ _

ID_Student_ i
)i j
)j k
;k l
config 
. 
	CreateMap  
<  !
Blog! %
,% &
BlogDetailViewModel' :
>: ;
(; <
)< =
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
Author( .
,. /
option0 6
=>7 9
option: @
.@ A
MapFromA H
(H I
sourceI O
=>P R
sourceS Y
.Y Z
UserZ ^
.^ _
FullName_ g
)g h
)h i
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
BlogCategoryName( 8
,8 9
option: @
=>A C
optionD J
.J K
MapFromK R
(R S
sourceS Y
=>Z \
source] c
.c d
BlogCategoryd p
.p q
Nameq u
)u v
)v w
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
	CreatedBy( 1
,1 2
option3 9
=>: <
option= C
.C D
MapFromD K
(K L
sourceL R
=>S U
sourceV \
.\ ]
UserId] c
)c d
)d e
;e f
config 
. 
	CreateMap  
<  !
AddCompanyModel! 0
,0 1
Company2 9
>9 :
(: ;
); <
;< =
config   
.   
	CreateMap    
<    !
AddProjectModel  ! 0
,  0 1
Project  2 9
>  9 :
(  : ;
)  ; <
;  < =
config!! 
.!! 
	CreateMap!!  
<!!  ! 
RecruitmentPostModel!!! 5
,!!5 6
RecruitmentPost!!7 F
>!!F G
(!!G H
)!!H I
;!!I J
config"" 
."" 
	CreateMap""  
<""  !
RecruitmentPost""! 0
,""0 1)
RecruitmentPostShortViewModel""2 O
>""O P
(""P Q
)""Q R
.## 
	ForMember## 
(## 
dest## 
=>##  "
dest### '
.##' (
	AvatarUrl##( 1
,##1 2
option##3 9
=>##: <
option##= C
.##C D
MapFrom##D K
(##K L
source##L R
=>##S U
source##V \
.##\ ]
Company##] d
.##d e
	AvatarUrl##e n
)##n o
)##o p
.$$ 
	ForMember$$ 
($$ 
dest$$ 
=>$$  "
dest$$# '
.$$' (
CompanyName$$( 3
,$$3 4
option$$5 ;
=>$$< >
option$$? E
.$$E F
MapFrom$$F M
($$M N
source$$N T
=>$$U W
source$$X ^
.$$^ _
Company$$_ f
.$$f g
CompanyName$$g r
)$$r s
)$$s t
.%% 
	ForMember%% 
(%% 
dest%% 
=>%%  "
dest%%# '
.%%' (
CompanyType%%( 3
,%%3 4
option%%5 ;
=>%%< >
option%%? E
.%%E F
MapFrom%%F M
(%%M N
source%%N T
=>%%U W
source%%X ^
.%%^ _
Company%%_ f
.%%f g
CompanyType%%g r
)%%r s
)%%s t
;%%t u
config'' 
.'' 
	CreateMap''  
<''  !
User''! %
,''% &
UserInfoViewModel''' 8
>''8 9
(''9 :
)'': ;
.(( 
	ForMember(( 
((( 
dest(( 
=>((  "
dest((# '
.((' (
Role((( ,
,((, -
option((. 4
=>((5 7
option((8 >
.((> ?
MapFrom((? F
(((F G
source((G M
=>((N P
source((Q W
.((W X
Role((X \
.((\ ]
Name((] a
)((a b
)((b c
;((c d
})) 
))) 
;)) 
return** 
mappingConfig**  
;**  !
}++ 	
},, 
}-- ›
@D:\Dacntt2\Source\EW\EW.WebAPI\Middlewares\EWExceptionHandler.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Middlewares 
{ 
public 

static 
class 
EWExceptionHandler *
{		 
public

 
static

 
void

 !
UseEWExceptionHandler

 0
(

0 1
this

1 5
WebApplication

6 D
app

E H
)

H I
{ 	
app 
. 
UseExceptionHandler #
(# $
exceptionHandlerApp$ 7
=>8 :
{ 
exceptionHandlerApp #
.# $
Run$ '
(' (
async( -
context. 5
=>6 8
{ 
var '
exceptionHandlerPathFeature 3
=4 5
context 
.  
Features  (
.( )
Get) ,
<, -(
IExceptionHandlerPathFeature- I
>I J
(J K
)K L
;L M
if 
( '
exceptionHandlerPathFeature 3
?3 4
.4 5
Error5 :
is; =
EWException> I
modelJ O
)O P
{ 
context 
.  
Response  (
.( )

StatusCode) 3
=4 5
StatusCodes6 A
.A B
Status200OKB M
;M N
context 
.  
Response  (
.( )
ContentType) 4
=5 6
$str7 I
;I J
var 
response $
=% &
new' *
	ApiResult+ 4
{ 
	IsSuccess %
=& '
false( -
,- .
Message #
=$ %
model& +
.+ ,
Message, 3
,3 4
HttpStatusCode *
=+ ,
$num- 0
,0 1
} 
; 
var!! 
data!!  
=!!! "
JsonSerializer!!# 1
.!!1 2
	Serialize!!2 ;
(!!; <
response!!< D
)!!D E
;!!E F
await## 
context## %
.##% &
Response##& .
.##. /

WriteAsync##/ 9
(##9 :
data##: >
)##> ?
;##? @
}$$ 
}%% 
)%% 
;%% 
}&& 
)&& 
;&& 
}'' 	
}(( 
})) Ø
2D:\Dacntt2\Source\EW\EW.WebAPI\Models\ApiResult.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
{ 
public 

class 
	ApiResult 
{ 
public 
int 
HttpStatusCode !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
bool 
	IsSuccess 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Message 
{ 
get  #
;# $
set% (
;( )
}* +
public 
object 
? 
Data 
{ 
get !
;! "
set# &
;& '
}( )
public		 
	ApiResult		 
(		 
object		 
?		  
data		! %
=		& '
default		( /
,		/ 0
bool		1 5
	isSuccess		6 ?
=		@ A
true		B F
,		F G
string		H N
message		O V
=		W X
$str		Y [
,		[ \
int		] `
httpStatusCode		a o
=		p q
$num		r u
)		u v
{

 	
Data 
= 
data 
; 
HttpStatusCode 
= 
httpStatusCode +
;+ ,
	IsSuccess 
= 
	isSuccess !
;! "
Message 
= 
message 
; 
} 	
public 
void 
InternalError !
(! "
string" (
message) 0
=1 2
$str3 J
)J K
{ 	
HttpStatusCode 
= 
$num  
;  !
Message 
= 
message 
; 
	IsSuccess 
= 
false 
; 
} 	
} 
} ˇ
TD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Applications\ApplicationRequestModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Applications" .
{ 
public 

class #
ApplicationRequestModel (
{ 
public 
long 
UserCVId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
long 
RecruitmentPostId %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
CoverLetter !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
} 
public

 

class

 )
MarkedApplicationRequestModel

 .
:

/ 0#
ApplicationRequestModel

1 H
{ 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
long 
? 
UserId 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ∂
PD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Applications\UpdateProgressModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Applications" .
{ 
public 

class 
UpdateProgressModel $
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
EApplicationStatus !
Status" (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public		 
string		 
Description		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
string		2 8
.		8 9
Empty		9 >
;		> ?
}

 
} …
@D:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\LoginModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class 

LoginModel 
{ 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
} 
} ∫

JD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\LoginWithGoogleModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class  
LoginWithGoogleModel %
{ 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
GoogleId 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
}		 
}

 ‹
KD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\RecoveryPasswordModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class !
RecoveryPasswordModel &
{ 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
} 
} Î
GD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\RefreshTokenModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class 
RefreshTokenModel "
{ 
public 
string 
RefreshToken "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
} 
} ©
CD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\RegisterModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class 
RegisterModel 
{ 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
NumberPhone !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public		 
string		 
FullName		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
=		- .
string		/ 5
.		5 6
Empty		6 ;
;		; <
}

 
public 

class 
UpdateAccount 
:  
RegisterModel! .
{ 
} 
} ÿ
ID:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\UpdatePasswordModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class 
UpdatePasswordModel $
{ 
public 
string 
OldPassword !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
NewPassword !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
=4 5
string6 <
.< =
Empty= B
;B C
} 
}		 ﬂ	
JD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Auths\ValidateRecoverModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Auths" '
{ 
public 

class  
ValidateRecoverModel %
{ 
public 
string 
Code 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
} 
public		 

class		 
SubmitRecoverModel		 #
:		$ % 
ValidateRecoverModel		& :
{

 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
} 
} È
BD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Blogs\AddBlogModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Blogs" '
{ 
public 

class 
AddBlogModel 
{ 
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
Content 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
string. 4
.4 5
Empty5 :
;: ;
public 
long 
BlogCategoryId "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
}		 Ï
ID:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Companies\AddCompanyModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
	Companies" +
{ 
public 

class 
AddCompanyModel  
{ 
public 
string 
CompanyName !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
PhoneNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public		 
string		 
Email		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
=		* +
string		, 2
.		2 3
Empty		3 8
;		8 9
public

 
string

 
Address

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
=

, -
string

. 4
.

4 5
Empty

5 :
;

: ;
public 
string 
	TaxNumber 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
string0 6
.6 7
Empty7 <
;< =
public 
EStatusRecruiter 
Status  &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
bool 
Featured 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ±
MD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Documents\ChangeStatusCVModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
	Documents" +
{ 
public 

class 
ChangeStatusCVModel $
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
bool 
Featured 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ©	
LD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\AddCertificateModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
AddCertificateModel $
{ 
public 
string 
CertificateName %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
=4 5
string6 <
.< =
Empty= B
;B C
public 
DateTimeOffset 
From "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTimeOffset 
To  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
}		 
}

 ù	
JD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\AddEducationModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
AddEducationModel "
{ 
public 
string 
OrgName 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
string. 4
.4 5
Empty5 :
;: ;
public 
DateTimeOffset 
From "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTimeOffset 
To  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
}		 
}

 ë
HD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\AddProjectModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
AddProjectModel  
{ 
public 
string 
ProjectName !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
CustomerName "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
public 
DateTimeOffset 
From "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTimeOffset 
To  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 
string		 
Description		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
string		2 8
.		8 9
Empty		9 >
;		> ?
}

 
} ∂

GD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\AddWorkHistory.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
AddWorkHistory 
{ 
public 
string 
CompanyName !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
bool 
	IsWorking 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTimeOffset 
From "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTimeOffset 
To  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 
string		 
Description		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
string		2 8
.		8 9
Empty		9 >
;		> ?
}

 
} Ü
ED:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\ContactModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
ContactModel 
{ 
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
string. 4
.4 5
Empty5 :
;: ;
public 
string 
Linkedin 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
Github 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
string- 3
.3 4
Empty4 9
;9 :
public 
string 
EmailContact "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
public		 
string		 
PhoneNumber		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
string		2 8
.		8 9
Empty		9 >
;		> ?
public

 
string

 
	Objective

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
=

. /
string

0 6
.

6 7
Empty

7 <
;

< =
public 
string 
Skills 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
string- 3
.3 4
Empty4 9
;9 :
} 
} ˙
OD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\UpdateCoverLetterModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class "
UpdateCoverLetterModel '
{ 
public 
string 
CoverLetter !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
} 
} ú
JD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Profiles\UpdateStatusModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Profiles" *
{ 
public 

class 
UpdateStatusModel "
{ 
public 
bool 
IsOpenForWork !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} ä
UD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\RecruitmentPosts\RecruitmentPostModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
RecruitmentPosts" 2
{ 
public 

class  
RecruitmentPostModel %
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
JobTitle 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public		 
string		 
JobDescription		 $
{		% &
get		' *
;		* +
set		, /
;		/ 0
}		1 2
=		3 4
string		5 ;
.		; <
Empty		< A
;		A B
public

 
int

 

SalaryFrom

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
int 
SalaryTo 
{ 
get !
;! "
set# &
;& '
}( )
public 
	ECurrency 
Currency !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DateTimeOffset 
Deadline &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
long 
? 
	CompanyId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
ESalaryType 

SalaryType %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
EWorkingType 
WorkingType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 

TechStacks  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
string1 7
.7 8
Empty8 =
;= >
public 
double 
YearExperience $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} √
GD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Uploads\ImportFileModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Uploads" )
{ 
public 

class 
ImportFileModel  
{ 
public 
required 
	IFormFile !
File" &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
	EFileType 
Type 
{ 
get  #
;# $
set% (
;( )
}* +
}		 
}

 «
GD:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Uploads\UploadFileModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Uploads" )
{ 
public 

class 
UploadFileModel  
{ 
public 
required 
	IFormFile !
File" &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
public 

class 
UploadNewCVModel !
:" #
UploadFileModel$ 3
{ 
}		 
public 

class 
UploadAvatarModel "
:# $
UploadFileModel% 4
{ 
} 
} ê
ED:\Dacntt2\Source\EW\EW.WebAPI\Models\Models\Users\UserActiveModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 
Models !
.! "
Users" '
{ 
public 

class 
UserActiveModel  
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
bool 
IsActive 
{ 
get "
;" #
set$ '
;' (
}) *
} 
}		 ∫
GD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\BlogDetailViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class 
BlogDetailViewModel $
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
Content 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
string. 4
.4 5
Empty5 :
;: ;
public 
long 
	CreatedBy 
{ 
get  #
;# $
set% (
;( )
}* +
public		 
long		 
BlogCategoryId		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
public

 
string

 
BlogCategoryName

 &
{

' (
get

) ,
;

, -
set

. 1
;

1 2
}

3 4
=

5 6
string

7 =
.

= >
Empty

> C
;

C D
public 
DateTimeOffset 
CreatedDate )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
DateTimeOffset 
UpdatedDate )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
string 
Author 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
string- 3
.3 4
Empty4 9
;9 :
} 
} ⁄
JD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\CompanyDetailViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class "
CompanyDetailViewModel '
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
? 
CompanyName "
{# $
get% (
;( )
set* -
;- .
}/ 0
public		 
string		 
?		 
PhoneNumber		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
public

 
string

 
?

 
Email

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
string 
? 
Address 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
? 
	AvatarUrl  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
? 
Country 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
	ETeamSize 
TeamSize !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
ECompanyType 
CompanyType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
? 
Description "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
List 
< )
RecruitmentPostShortViewModel 1
>1 2
?2 3
Posts4 9
{: ;
get< ?
;? @
setA D
;D E
}F G
} 
} Æ
BD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\LoginViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class 
LoginViewModel 
{ 
public 
string 
? 
AccessToken "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
? 
RefreshToken #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} Ô
QD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\RecruitmentPostShortViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class )
RecruitmentPostShortViewModel .
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
? 
JobTitle 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
ESalaryType		 

SalaryType		 %
{		& '
get		( +
;		+ ,
set		- 0
;		0 1
}		2 3
public

 
int

 

SalaryFrom

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
int 
SalaryTo 
{ 
get !
;! "
set# &
;& '
}( )
public 
	ECurrency 
Currency !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
? 

TechStacks !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
double 
YearExperience $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
? 
JobDescription %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTimeOffset 
UpdatedDate )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
string 
? 
	AvatarUrl  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
EWorkingType 
WorkingType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
ECompanyType 
CompanyType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
? 
CompanyName "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} Ä
ED:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\UserInfoViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class 
UserInfoViewModel "
{ 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public		 
string		 
Role		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
=		) *
string		+ 1
.		1 2
Empty		2 7
;		7 8
}

 
} ö
HD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\UserProfileViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class  
UserProfileViewModel %
{ 
public 
string 
CoverLetter !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
IEnumerable 
< 
UserExperience )
>) *
?* +
Experiences, 7
{8 9
get: =
;= >
set? B
;B C
}D E
public		 
IEnumerable		 
<		 
UserCV		 !
>		! "
?		" #
CVs		$ '
{		( )
get		* -
;		- .
set		/ 2
;		2 3
}		4 5
}

 
} ô
AD:\Dacntt2\Source\EW\EW.WebAPI\Models\ViewModels\UserViewModel.cs
	namespace 	
EW
 
. 
WebAPI 
. 
Models 
. 

ViewModels %
{ 
public 

class 
UserViewModel 
{ 
public 
long 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
CreatedDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public		 
string		 
UpdatedDate		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
string		2 8
.		8 9
Empty		9 >
;		> ?
public

 
string

 
PhoneNumber

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
=

0 1
string

2 8
.

8 9
Empty

9 >
;

> ?
} 
} µ0
)D:\Dacntt2\Source\EW\EW.WebAPI\Program.cs
var		 
builder		 
=		 
WebApplication		 
.		 
CreateBuilder		 *
(		* +
args		+ /
)		/ 0
;		0 1
string

 "
MyAllowSpecificOrigins

 
=

 
builder

  '
.

' (
Configuration

( 5
.

5 6
GetValue

6 >
<

> ?
string

? E
>

E F
(

F G
$str

G _
)

_ `
?? 
throw 
new !
ArgumentNullException '
(' (
	paramName( 1
:1 2
$str3 W
)W X
;X Y
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
.  
AddEWDbConfiguration %
(% &
builder& -
.- .
Configuration. ;
); <
;< =
builder 
. 
Services 
. 
AddCors 
( 
options  
=>! #
{ 
options 
. 
	AddPolicy 
( "
MyAllowSpecificOrigins ,
,, -
builder. 5
=>6 8
builder9 @
.@ A
AllowAnyOriginA O
(O P
)P Q
.Q R
AllowAnyHeaderR `
(` a
)a b
.b c
AllowAnyMethodc q
(q r
)r s
)s t
;t u
} 
) 
; 
builder 
. 
Services 
. 
AddCors 
( 
) 
; 
builder 
. 
Services 
. 
RegisterService  
(  !
)! "
;" #
builder 
. 
Services 
. %
AddCustomsConfigureObject *
(* +
builder+ 2
.2 3
Configuration3 @
)@ A
;A B
builder 
. 
Services 
. 
AddAuthentication "
(" #
JwtBearerDefaults# 4
.4 5 
AuthenticationScheme5 I
)I J
. 
AddJwtBearer 
( 
options %
=>& (
{ 
options 
. %
TokenValidationParameters %
=& '
new( +%
TokenValidationParameters, E
{ $
ValidateIssuerSigningKey  
=! "
true# '
,' (
IssuerSigningKey   
=   
new    
SymmetricSecurityKey   3
(  3 4
Encoding  4 <
.  < =
UTF8  = A
.  A B
GetBytes  B J
(  J K

Constaints  K U
.  U V
ACCES_TOKEN_KEY  V e
)  e f
)  f g
,  g h
ValidateIssuer!! 
=!! 
false!! 
,!! 
ValidateAudience"" 
="" 
false""  
,""  !
ValidateLifetime## 
=## 
true## 
,##  
	ClockSkew$$ 
=$$ 
TimeSpan$$ 
.$$ 
Zero$$ !
}&& 
;&& 
}'' 
)'' 
;'' 
builder** 
.** 
Services** 
.** #
AddEndpointsApiExplorer** (
(**( )
)**) *
;*** +
builder++ 
.++ 
Services++ 
.++ 
AddSwaggerGen++ 
(++ 
)++  
;++  !
var-- 
app-- 
=-- 	
builder--
 
.-- 
Build-- 
(-- 
)-- 
;-- 
if// 
(// 
app// 
.// 
Environment// 
.// 
IsDevelopment// !
(//! "
)//" #
)//# $
{00 
app11 
.11 

UseSwagger11 
(11 
)11 
;11 
app22 
.22 
UseSwaggerUI22 
(22 
)22 
;22 
}33 
if55 
(55 
app55 
.55 
Environment55 
.55 
IsDevelopment55 !
(55! "
)55" #
==55$ &
false55' ,
)55, -
{66 
app77 
.77 
UseHsts77 
(77 
)77 
;77 
}88 
app:: 
.:: !
UseEWExceptionHandler:: 
(:: 
):: 
;:: 
app;; 
.;; 
UseHttpsRedirection;; 
(;; 
);; 
;;; 
app<< 
.<< 
UseStaticFiles<< 
(<< 
)<< 
;<< 
app== 
.== 
UseStaticFiles== 
(== 
new== 
StaticFileOptions== (
{>> 
FileProvider?? 
=?? 
new??  
PhysicalFileProvider?? +
(??+ ,
Path??, 0
.??0 1
Combine??1 8
(??8 9
builder??9 @
.??@ A
Environment??A L
.??L M
ContentRootPath??M \
,??\ ]
$str??^ g
)??g h
)??h i
,??i j
RequestPath@@ 
=@@ 
$str@@ 
}AA 
)AA 
;AA 
appBB 
.BB 

UseRoutingBB 
(BB 
)BB 
;BB 
appCC 
.CC 
UseCorsCC 
(CC "
MyAllowSpecificOriginsCC "
)CC" #
;CC# $
appDD 
.DD 
UseAuthenticationDD 
(DD 
)DD 
;DD 
appEE 
.EE 
UseAuthorizationEE 
(EE 
)EE 
;EE 
appGG 
.GG 
MapControllersGG 
(GG 
)GG 
;GG 
appII 
.II 
RunII 
(II 
)II 	
;II	 
